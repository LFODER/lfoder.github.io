<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>An0nyMouS</title>
  
  <subtitle>我只是做了个笔记而已</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://lfoder.github.io/"/>
  <updated>2018-07-18T01:47:08.341Z</updated>
  <id>http://lfoder.github.io/</id>
  
  <author>
    <name>lfoder</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>纯CSS实现随机页面背景图自适应</title>
    <link href="http://lfoder.github.io/2018/07/18/%E7%BA%AFCSS%E5%AE%9E%E7%8E%B0%E9%9A%8F%E6%9C%BA%E9%A1%B5%E9%9D%A2%E8%83%8C%E6%99%AF%E5%9B%BE%E8%87%AA%E9%80%82%E5%BA%94/"/>
    <id>http://lfoder.github.io/2018/07/18/纯CSS实现随机页面背景图自适应/</id>
    <published>2018-07-18T01:21:29.000Z</published>
    <updated>2018-07-18T01:47:08.341Z</updated>
    
    <content type="html"><![CDATA[<p>代码:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>随机切换网页背景图效果-css实现<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">body&#123;</span></span><br><span class="line"><span class="undefined">position: fixed;</span></span><br><span class="line"><span class="undefined">    width: 100%;</span></span><br><span class="line"><span class="undefined">    background-repeat: no-repeat;</span></span><br><span class="line"><span class="undefined">    background-size: cover;</span></span><br><span class="line"><span class="undefined">    z-index: 1;</span></span><br><span class="line"><span class="undefined">    top: 0;</span></span><br><span class="line"><span class="undefined">    left: 0;</span></span><br><span class="line"><span class="undefined">    background-position: center 0%;</span></span><br><span class="line"><span class="undefined">    background-attachment: fixed;</span></span><br><span class="line"><span class="undefined">    height: 100%;</span></span><br><span class="line"><span class="undefined">    background-image: url(https://unsplash.it/1600/900?random);</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>效果 (尝试拉动浏览器边框改变浏览器大小)：</p><div id="test" style="            width: 100%;            background-repeat: no-repeat;            background-size: cover;            z-index: 1;            top: 0;            left: 0;            background-position: center 0%;            background-attachment: fixed;            height: 500px;            background-image: url(https://unsplash.it/1600/900?random);"></div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;代码:&lt;/p&gt;
&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;
      
    
    </summary>
    
      <category term="前端笔记" scheme="http://lfoder.github.io/categories/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="HTML" scheme="http://lfoder.github.io/tags/HTML/"/>
    
      <category term="CSS" scheme="http://lfoder.github.io/tags/CSS/"/>
    
      <category term="自适应" scheme="http://lfoder.github.io/tags/%E8%87%AA%E9%80%82%E5%BA%94/"/>
    
  </entry>
  
  <entry>
    <title>MetaSploit针对常用端口服务的渗透测试</title>
    <link href="http://lfoder.github.io/2018/07/17/MetaSploit%E9%92%88%E5%AF%B9%E5%B8%B8%E7%94%A8%E7%AB%AF%E5%8F%A3%E6%9C%8D%E5%8A%A1%E7%9A%84%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    <id>http://lfoder.github.io/2018/07/17/MetaSploit针对常用端口服务的渗透测试/</id>
    <published>2018-07-17T02:53:10.000Z</published>
    <updated>2018-07-17T03:51:46.527Z</updated>
    
    <content type="html"><![CDATA[<h3 id="针对端口的攻击模块选择"><a href="#针对端口的攻击模块选择" class="headerlink" title="针对端口的攻击模块选择"></a>针对端口的攻击模块选择</h3><h4 id="Port-gt-21-FTP"><a href="#Port-gt-21-FTP" class="headerlink" title="Port =&gt; 21 [FTP]"></a>Port =&gt; 21 [FTP]</h4><blockquote><p>FTP 服务端开放监听端口</p></blockquote><p>模块选择:</p><ul><li>auxiliary/scanner/ftp/ftp_login        // FTP登录口令爆破</li></ul><h4 id="Port-gt-22-SSH"><a href="#Port-gt-22-SSH" class="headerlink" title="Port =&gt; 22 [SSH]"></a>Port =&gt; 22 [SSH]</h4><blockquote><p>SSH 服务开放监听端口</p></blockquote><p>模块选择:</p><ul><li>auxiliary/scanner/ssh/ssh_login     // SSH登录口令爆破</li></ul><h4 id="Port-gt-23-Telnet"><a href="#Port-gt-23-Telnet" class="headerlink" title="Port =&gt; 23 [Telnet]"></a>Port =&gt; 23 [Telnet]</h4><blockquote><p>telnet 服务开放监听端口</p></blockquote><p>模块选择:</p><ul><li>auxiliary/scanner/telnet/telnet_login    // Telnet 口令爆破</li></ul><h4 id="Port-gt-445-SMB"><a href="#Port-gt-445-SMB" class="headerlink" title="Port =&gt; 445 [SMB]"></a>Port =&gt; 445 [SMB]</h4><blockquote><p>SMB协议默认端口</p></blockquote><p>模块选择:</p><ul><li>exploit/windows/smb/ms08_067_netapi        // 远程溢出漏洞</li><li>exploit/windows/smb/ms17_010_eternalblue    // 永恒之蓝 远程命令执行</li><li>auxiliary/scanner/smb/smb_login              // SMB 登录口令爆破</li></ul><p>相关CVE:</p><ul><li>CVE-2017-7494    </li></ul><h4 id="Port-gt-3389-RDP"><a href="#Port-gt-3389-RDP" class="headerlink" title="Port =&gt; 3389 [RDP]"></a>Port =&gt; 3389 [RDP]</h4><blockquote><p>Windows远程桌面默认端口</p></blockquote><p>模块选择:</p><ul><li>auxiliary/scanner/rdp/ms12_020_check </li></ul><h4 id="Port-gt-5900-VNC"><a href="#Port-gt-5900-VNC" class="headerlink" title="Port =&gt; 5900 [VNC]"></a>Port =&gt; 5900 [VNC]</h4><blockquote><p>vnc服务默认端口</p></blockquote><p>模块选择:</p><ul><li>auxiliary/scanner/vnc/vnc_none_auth</li><li>auxiliary/scanner/vnc/vnc_login</li><li>exploit/multi/vnc/vnc_keyboard_exec</li></ul><h4 id="Port-gt-1433-SQLServer"><a href="#Port-gt-1433-SQLServer" class="headerlink" title="Port =&gt; 1433 [SQLServer]"></a>Port =&gt; 1433 [SQLServer]</h4><blockquote><p>SQLServer 默认端口</p></blockquote><p>模块选择:</p><ul><li>use auxiliary/scanner/mssql/mssql_login</li></ul><h4 id="Port-gt-3306-MySQL"><a href="#Port-gt-3306-MySQL" class="headerlink" title="Port =&gt; 3306 [MySQL]"></a>Port =&gt; 3306 [MySQL]</h4><blockquote><p>MySQL 数据库默认端口</p></blockquote><p>模块选择:</p><ul><li>auxiliary/scanner/mysql/mysql_login</li></ul><h4 id="Port-gt-27017-27018-MongoDB"><a href="#Port-gt-27017-27018-MongoDB" class="headerlink" title="Port =&gt; 27017,27018 [MongoDB]"></a>Port =&gt; 27017,27018 [MongoDB]</h4><blockquote><p>MongoDB默认端口</p></blockquote><p>模块选择:</p><ul><li>auxiliary/scanner/mongodb/mongodb_login </li></ul><h4 id="Port-gt-6379-Redis"><a href="#Port-gt-6379-Redis" class="headerlink" title="Port =&gt; 6379 [Redis]"></a>Port =&gt; 6379 [Redis]</h4><blockquote><p>Redis 默认端口</p></blockquote><p>模块选择:</p><ul><li>auxiliary/scanner/redis/redis_login</li><li>auxiliary/scanner/redis/file_upload </li></ul>]]></content>
    
    <summary type="html">
    
      针对常用的端口如何选择使用MSF的模块进行针对攻击
    
    </summary>
    
      <category term="MetaSploit 笔记" scheme="http://lfoder.github.io/categories/MetaSploit-%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="MetaSploit" scheme="http://lfoder.github.io/tags/MetaSploit/"/>
    
  </entry>
  
  <entry>
    <title>Golang在macOS High Sierra 10.13.5上不用使用Debug的原因和处理方法</title>
    <link href="http://lfoder.github.io/2018/07/10/Golang%E5%9C%A8macOS-High-Sierra-10-13-5%E4%B8%8A%E4%B8%8D%E7%94%A8%E4%BD%BF%E7%94%A8Debug%E7%9A%84%E5%8E%9F%E5%9B%A0%E5%92%8C%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95/"/>
    <id>http://lfoder.github.io/2018/07/10/Golang在macOS-High-Sierra-10-13-5上不用使用Debug的原因和处理方法/</id>
    <published>2018-07-10T09:28:01.000Z</published>
    <updated>2018-07-10T09:38:32.587Z</updated>
    
    <content type="html"><![CDATA[<h3 id="错误信息"><a href="#错误信息" class="headerlink" title="错误信息"></a>错误信息</h3><p>在 VSCode 或 Goland 中使用Debug功能是，调试窗口输出如下信息：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">2018/07/10 17:19:15 server.go:73: Using API v1</span><br><span class="line">2018/07/10 17:19:15 debugger.go:98: launching process with args: [/Users/******/GolangProjects/**********]</span><br><span class="line">could not launch process: EOF</span><br><span class="line">Process exiting with code: 1</span><br></pre></td></tr></table></figure><h3 id="问题原因"><a href="#问题原因" class="headerlink" title="问题原因"></a>问题原因</h3><p>在 macOS 10.13 版本中，Command Line Tool不支持Golang的调试工具dlv</p><blockquote><p>参考：</p><ol><li><a href="https://link.zhihu.com/?target=https%3A//intellij-support.jetbrains.com/hc/en-us/community/posts/360000164764-Goland-Debugger-could-not-launch-process-EOF" target="_blank" rel="noopener">https://link.zhihu.com/?target=https%3A//intellij-support.jetbrains.com/hc/en-us/community/posts/360000164764-Goland-Debugger-could-not-launch-process-EOF</a></li><li><a href="https://link.zhihu.com/?target=https%3A//github.com/derekparker/delve/issues/1165" target="_blank" rel="noopener">https://link.zhihu.com/?target=https%3A//github.com/derekparker/delve/issues/1165</a></li></ol></blockquote><p>需要等待 derekparker/delve 修复这个问题</p><h3 id="临时解决方案"><a href="#临时解决方案" class="headerlink" title="临时解决方案"></a>临时解决方案</h3><p>目前只有 Workaround 的方法：</p><ol><li><p>删除当前macOS系统的Command Line Tool</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo rm -rf /Library/Developer/CommandLineTools</span><br></pre></td></tr></table></figure></li><li><p>登录苹果开发者平台，然后前往 <a href="https://developer.apple.com/download/more/" target="_blank" rel="noopener">https://developer.apple.com/download/more/</a> 下载 <strong>Command Line Tools (macOS 10.13) for Xcode 9.4.1</strong> </p><p>目前我写这篇博客的时候，最新版是这个版本，你可以根据你登录平台的时间寻找最新版本下载。 </p></li><li><p>安装之。</p></li></ol>]]></content>
    
    <summary type="html">
    
      升级了macOS系统到 macOS High Sierra 10.13.5 以后，导致Golang的Debug功能不能正常使用了，这里列举出错误原因和解决方案。
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>禁止Oh-my-zsh粘贴URL特殊字符时自动转义</title>
    <link href="http://lfoder.github.io/2018/07/09/%E7%A6%81%E6%AD%A2Oh-my-zsh%E7%B2%98%E8%B4%B4URL%E7%89%B9%E6%AE%8A%E5%AD%97%E7%AC%A6%E6%97%B6%E8%87%AA%E5%8A%A8%E8%BD%AC%E4%B9%89/"/>
    <id>http://lfoder.github.io/2018/07/09/禁止Oh-my-zsh粘贴URL特殊字符时自动转义/</id>
    <published>2018-07-09T05:26:48.000Z</published>
    <updated>2018-07-09T05:28:50.831Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>在终端下使用zsh 粘贴时会自动把URL特殊字符转义，特别是使用SQLMAP的时候</p></blockquote><p>把 /root/.oh-my-zsh/lib/misc.zsh 文件中的第一段 if 注释掉 OK 啦 </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># if [[ $ZSH_VERSION != 5.1.1 ]]; then </span><br><span class="line"># for d in $fpath; do </span><br><span class="line"># if [[ -e &quot;$d/url-quote-magic&quot; ]]; then </span><br><span class="line"># if is-at-least 5.1; then </span><br><span class="line"># autoload -Uz bracketed-paste-magic </span><br><span class="line"># zle -N bracketed-paste bracketed-paste-magic </span><br><span class="line"># fi </span><br><span class="line"># autoload -Uz url-quote-magic </span><br><span class="line"># zle -N self-insert url-quote-magic </span><br><span class="line"># break </span><br><span class="line"># fi </span><br><span class="line"># done </span><br><span class="line"># fi</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;在终端下使用zsh 粘贴时会自动把URL特殊字符转义，特别是使用SQLMAP的时候&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;把 /root/.oh-my-zsh/lib/misc.zsh 文件中的第一段 if 注释掉 OK 啦 &lt;/p&gt;
&lt;fig
      
    
    </summary>
    
    
      <category term="Linux" scheme="http://lfoder.github.io/tags/Linux/"/>
    
      <category term="zsh" scheme="http://lfoder.github.io/tags/zsh/"/>
    
      <category term="终端优化" scheme="http://lfoder.github.io/tags/%E7%BB%88%E7%AB%AF%E4%BC%98%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>MacOS上微信多开插件WeChatTweak(免验证登录+消息防撤回)</title>
    <link href="http://lfoder.github.io/2018/07/01/MacOS%E4%B8%8A%E5%BE%AE%E4%BF%A1%E5%A4%9A%E5%BC%80%E6%8F%92%E4%BB%B6WeChatTweak-%E5%85%8D%E9%AA%8C%E8%AF%81%E7%99%BB%E5%BD%95-%E6%B6%88%E6%81%AF%E9%98%B2%E6%92%A4%E5%9B%9E/"/>
    <id>http://lfoder.github.io/2018/07/01/MacOS上微信多开插件WeChatTweak-免验证登录-消息防撤回/</id>
    <published>2018-07-01T01:05:46.000Z</published>
    <updated>2018-07-02T00:27:57.000Z</updated>
    
    <content type="html"><![CDATA[<p>话不投机半句多   直入主题</p><p>具体介绍 <a href="https://www.baidu.com/s?wd=WeChatTweak" target="_blank" rel="noopener">自行百度</a></p><p><img src="https://github.com/Sunnyyoung/WeChatTweak-macOS/raw/master/Screenshot/0x01.png" alt=""></p><h3 id="官网"><a href="#官网" class="headerlink" title="官网"></a>官网</h3><p><a href="https://tweaks.app/" target="_blank" rel="noopener">https://tweaks.app</a></p><h3 id="下载插件"><a href="#下载插件" class="headerlink" title="下载插件"></a>下载插件</h3><p>终端执行:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/Sunnyyoung/WeChatTweak-macOS.git</span><br></pre></td></tr></table></figure><p>进入目录：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd WeChatTweak-macOS</span><br></pre></td></tr></table></figure><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo make install</span><br></pre></td></tr></table></figure><h3 id="卸载"><a href="#卸载" class="headerlink" title="卸载"></a>卸载</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo make unstall</span><br></pre></td></tr></table></figure><p>安装好后，重启微信客户端即可生效。</p><h3 id="知识库"><a href="#知识库" class="headerlink" title="知识库"></a>知识库</h3><p>具体安装过程，看作者文档</p><p><a href="https://github.com/Sunnyyoung/WeChatTweak-macOS/wiki" target="_blank" rel="noopener">https://github.com/Sunnyyoung/WeChatTweak-macOS/wiki</a></p>]]></content>
    
    <summary type="html">
    
      利用macOS的开放性，可以实现通过安装插件的方式，使微信多开以及一些增益功能的实现，包括免验证登录，消息防撤回，该插件目前仅限于MacOS使用。
    
    </summary>
    
      <category term="MacOS 笔记" scheme="http://lfoder.github.io/categories/MacOS-%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="消息防撤回" scheme="http://lfoder.github.io/tags/%E6%B6%88%E6%81%AF%E9%98%B2%E6%92%A4%E5%9B%9E/"/>
    
      <category term="微信多开" scheme="http://lfoder.github.io/tags/%E5%BE%AE%E4%BF%A1%E5%A4%9A%E5%BC%80/"/>
    
      <category term="免验证登录" scheme="http://lfoder.github.io/tags/%E5%85%8D%E9%AA%8C%E8%AF%81%E7%99%BB%E5%BD%95/"/>
    
  </entry>
  
  <entry>
    <title>MacOS升级自带Vim7.4到Vim8.0</title>
    <link href="http://lfoder.github.io/2018/06/28/MacOS%E5%8D%87%E7%BA%A7%E8%87%AA%E5%B8%A6Vim7-4%E5%88%B0Vim8-0/"/>
    <id>http://lfoder.github.io/2018/06/28/MacOS升级自带Vim7-4到Vim8-0/</id>
    <published>2018-06-28T02:22:30.000Z</published>
    <updated>2018-06-28T02:40:41.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="升级MacOS系统自带的Vim到Vim8-0"><a href="#升级MacOS系统自带的Vim到Vim8-0" class="headerlink" title="升级MacOS系统自带的Vim到Vim8.0"></a>升级MacOS系统自带的Vim到Vim8.0</h2><h3 id="安装Vim-8-0"><a href="#安装Vim-8-0" class="headerlink" title="安装Vim 8.0"></a>安装Vim 8.0</h3><p>根据个人喜好 选择安装</p><p>终端Vim：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install vim --with-lua --with-override-system-vi</span><br></pre></td></tr></table></figure><p>Gui版Vim：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install macvim --with-lua --with-override-system-vim</span><br></pre></td></tr></table></figure><p>安装完后vim8.0 会安装在 <code>/usr/local/Cellar/vim/8.1.0100_1</code> ,后面版本号因人而异。</p><p>Vim8.0的执行程序在 <code>/usr/local/Cellar/vim/8.1.0100_1/bin</code></p><p>我这安装了 <code>zsh</code>  ,(你可以在 <a href="/2018/06/19/全新MacOS系统零基础配置到使用全过程/#oh-my-zsh-终端便捷操作工具">zsh安装方法</a> 中查看如何安装zsh)，所以 我修改环境变量的位置是 <code>~/.zshrc</code> ，没有安装<code>zsh</code> 则修改 <code>~/.bash_profile</code></p><p>添加 Vim 执行目录到 环境变量 </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=/usr/<span class="built_in">local</span>/Cellar/vim/8.1.0100_1:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure><p>或者:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">alias</span> vim=<span class="string">'/usr/local/Cellar/vim/8.1.0100_1/bin/vim'</span></span><br></pre></td></tr></table></figure><p>然后 source 一下，使环境变量即刻生效。（没安装 zsh 的 则执行 <code>source ~/.bash_profile</code>）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/.zshrc</span><br></pre></td></tr></table></figure><p>安装好后很多插件需要重新编译一下，比如 <code>YouCompleteMe</code></p><p>重新编译一下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/.vim/bundle/YouCompleteMe</span><br><span class="line"><span class="comment"># 平时用python与nodejs比较多的人，可以选择对应后面的两个参数，第一个需要安装xcode，第二个需要安装node与npm</span></span><br><span class="line">./install.py --clang-completer --tern-completer</span><br></pre></td></tr></table></figure><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>输入 <code>mvim</code> 可以<strong>从终端启动 GUI 版的 Vim</strong>。</p><h3 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h3><p><strong>更新 vim 或者 macvim 到最新版</strong>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew upgrade vim/macvim</span><br></pre></td></tr></table></figure><p><strong>添加 python3 的支持</strong>？在以上命令基础上再加 <code>—with-python3</code></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;升级MacOS系统自带的Vim到Vim8-0&quot;&gt;&lt;a href=&quot;#升级MacOS系统自带的Vim到Vim8-0&quot; class=&quot;headerlink&quot; title=&quot;升级MacOS系统自带的Vim到Vim8.0&quot;&gt;&lt;/a&gt;升级MacOS系统自带的Vim到Vim8
      
    
    </summary>
    
      <category term="MacOS 笔记" scheme="http://lfoder.github.io/categories/MacOS-%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="MacOS" scheme="http://lfoder.github.io/tags/MacOS/"/>
    
      <category term="Vim" scheme="http://lfoder.github.io/tags/Vim/"/>
    
  </entry>
  
  <entry>
    <title>Linux、Windows、MacOS端口转发全姿势</title>
    <link href="http://lfoder.github.io/2018/06/27/Linux%E3%80%81Windows%E3%80%81MacOS%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91%E5%85%A8%E5%A7%BF%E5%8A%BF/"/>
    <id>http://lfoder.github.io/2018/06/27/Linux、Windows、MacOS端口转发全姿势/</id>
    <published>2018-06-27T06:27:00.000Z</published>
    <updated>2018-06-27T06:38:05.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Windows-端口转发姿势"><a href="#Windows-端口转发姿势" class="headerlink" title="Windows 端口转发姿势"></a>Windows 端口转发姿势</h2><h3 id="通过-netsh-端口转发"><a href="#通过-netsh-端口转发" class="headerlink" title="通过 netsh 端口转发"></a>通过 netsh 端口转发</h3><h4 id="端口转发命令"><a href="#端口转发命令" class="headerlink" title="端口转发命令"></a>端口转发命令</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netsh interface portproxy add v4tov4 listenport=&lt;监听端口&gt; connectaddress=&lt;目标IP&gt; connectport=&lt;目标端口&gt;</span><br></pre></td></tr></table></figure><p>例如：将任何连接到Windows的 8080 端口流量转发到 目标机器的 80 端口</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netsh interface portproxy add v4tov4 listenport=8080 connectaddress=192.168.0.1 connectport=80</span><br></pre></td></tr></table></figure><h4 id="查看映射表"><a href="#查看映射表" class="headerlink" title="查看映射表"></a>查看映射表</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netsh interface portproxy show all</span><br></pre></td></tr></table></figure><h4 id="删除映射表"><a href="#删除映射表" class="headerlink" title="删除映射表"></a>删除映射表</h4><p>需要找到对应监听的端口</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netsh interface portproxy delete v4tov4 listenport=&lt;监听端口&gt;</span><br></pre></td></tr></table></figure><h2 id="Linux-端口转发姿势"><a href="#Linux-端口转发姿势" class="headerlink" title="Linux 端口转发姿势"></a>Linux 端口转发姿势</h2><blockquote><p>等待更新 …</p></blockquote><h2 id="MacOS-端口转发姿势"><a href="#MacOS-端口转发姿势" class="headerlink" title="MacOS 端口转发姿势"></a>MacOS 端口转发姿势</h2><blockquote><p>等待更新 …</p></blockquote>]]></content>
    
    <summary type="html">
    
      各种系统下的端口转发技巧
    
    </summary>
    
      <category term="渗透技巧" scheme="http://lfoder.github.io/categories/%E6%B8%97%E9%80%8F%E6%8A%80%E5%B7%A7/"/>
    
    
      <category term="端口转发" scheme="http://lfoder.github.io/tags/%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91/"/>
    
      <category term="Linux" scheme="http://lfoder.github.io/tags/Linux/"/>
    
      <category term="MacOS" scheme="http://lfoder.github.io/tags/MacOS/"/>
    
      <category term="Windows" scheme="http://lfoder.github.io/tags/Windows/"/>
    
  </entry>
  
  <entry>
    <title>全新MacOS系统零基础配置到使用全过程</title>
    <link href="http://lfoder.github.io/2018/06/19/%E5%85%A8%E6%96%B0MacOS%E7%B3%BB%E7%BB%9F%E9%9B%B6%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE%E5%88%B0%E4%BD%BF%E7%94%A8%E5%85%A8%E8%BF%87%E7%A8%8B/"/>
    <id>http://lfoder.github.io/2018/06/19/全新MacOS系统零基础配置到使用全过程/</id>
    <published>2018-06-19T08:18:47.000Z</published>
    <updated>2018-06-26T15:02:25.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="全新MacOS系统从零开始配置到顺手使用调教全过程"><a href="#全新MacOS系统从零开始配置到顺手使用调教全过程" class="headerlink" title="全新MacOS系统从零开始配置到顺手使用调教全过程"></a>全新MacOS系统从零开始配置到顺手使用调教全过程</h1><h2 id="当前系统环境"><a href="#当前系统环境" class="headerlink" title="当前系统环境"></a>当前系统环境</h2><blockquote><p>macOS Sierra 10.12.6</p></blockquote><p>写这篇博客的缘由来源于因为一些特殊原因想重置MacOS系统，导致每次重置后想要快速部署一些常用的软件以及配置一些设置需要很长时间，于是写了一篇笔记来记录自己大致的配置和优化过程，可以在下一次重置MacOS后快速优化好进入可用的顺手状态。</p><p>务必按照顺序从上到下一步一步来，这篇文章只是针对自己的个人习惯来进行笔记记录，长期更新。</p><h2 id="基础操作配置"><a href="#基础操作配置" class="headerlink" title="基础操作配置"></a>基础操作配置</h2><h3 id="调整触摸板到最佳备战状态"><a href="#调整触摸板到最佳备战状态" class="headerlink" title="调整触摸板到最佳备战状态"></a>调整触摸板到最佳备战状态</h3><ol><li>系统偏好设置  =&gt; 触摸板 =&gt;  光标与点按 =&gt; 勾上 轻点来点按</li><li>系统偏好设置  =&gt; 触摸板 =&gt;  更多手势 =&gt; 在全屏幕显示的应用之间轻扫 =&gt; 将 <code>用三个手指左右轻扫</code> 改成 <code>用四个手指左右轻扫</code></li><li>系统偏好设置 =&gt; 辅助功能 =&gt; 鼠标与触控板 =&gt; 触控板选项 =&gt; 勾上 <code>启用拖移</code> 并将后面选项选择 <code>三指拖移</code></li></ol><h2 id="修改键盘操作到最佳备战状态"><a href="#修改键盘操作到最佳备战状态" class="headerlink" title="修改键盘操作到最佳备战状态"></a>修改键盘操作到最佳备战状态</h2><p>系统偏好设置 =&gt; 键盘 =&gt; 键盘选项卡 =&gt;  按照如下操作</p><ol><li>勾选 闲置5秒后关闭键盘背光灯(可选)</li><li>勾选 在菜单栏中显示虚拟键盘及表情检视器 (可选)</li><li>勾选 将F1、F2等键作为标准功能键</li></ol><h3 id="修改Macbook电脑名称"><a href="#修改Macbook电脑名称" class="headerlink" title="修改Macbook电脑名称"></a>修改Macbook电脑名称</h3><ol><li>系统偏好设置 =&gt; 共享 =&gt; 电脑名称 =&gt; 输入你的电脑名称 =&gt; 回车</li></ol><h3 id="修改MacBook插上电源时不休眠"><a href="#修改MacBook插上电源时不休眠" class="headerlink" title="修改MacBook插上电源时不休眠"></a>修改MacBook插上电源时不休眠</h3><p>系统偏好设置 =&gt; 节能 =&gt; 去掉 <code>当显示器关闭时,防止电脑自动进入休眠</code> 的勾勾</p><h3 id="电池显示电量百分比"><a href="#电池显示电量百分比" class="headerlink" title="电池显示电量百分比"></a>电池显示电量百分比</h3><p>右上角电池图标🔋 =&gt; 点击 =&gt; 显示百分比</p><h3 id="时间设置为24小时制"><a href="#时间设置为24小时制" class="headerlink" title="时间设置为24小时制"></a>时间设置为24小时制</h3><p>系统偏好设置 =&gt; 时间与日期 =&gt; 时间 =&gt; 勾选 <code>在时间中显示秒钟</code>和<code>使用24小时格式时钟</code>和<code>显示日期</code></p><h3 id="设置蓝牙图标在顶部状态栏显示"><a href="#设置蓝牙图标在顶部状态栏显示" class="headerlink" title="设置蓝牙图标在顶部状态栏显示"></a>设置蓝牙图标在顶部状态栏显示</h3><p>系统偏好设置 =&gt; 蓝牙 =&gt; 勾上 在菜单栏显示蓝牙</p><h3 id="设置-允许任何应用安装"><a href="#设置-允许任何应用安装" class="headerlink" title="设置 允许任何应用安装"></a>设置 允许任何应用安装</h3><p>系统偏好设置 =&gt; 通用 =&gt; 允许从以下位置下载的应用</p><p>可以看到  没有勾选上 <code>任何来源</code> 甚至没有这个选项，执行 <code>sudo spctl --master-disable</code> 即可。</p><h3 id="禁用-Spotlight"><a href="#禁用-Spotlight" class="headerlink" title="禁用 Spotlight"></a>禁用 Spotlight</h3><p>禁用方法：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo launchctl unload -w /System/Library/LaunchDaemons/com.apple.metadata.mds.plist</span><br><span class="line"><span class="comment"># 去掉状态栏图标</span></span><br><span class="line"><span class="built_in">cd</span> /System/Library/CoreServices/</span><br><span class="line">sudo mv Search.bundle/ Search.bundle.bak/</span><br></pre></td></tr></table></figure><p>恢复方法：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo launchctl load -w /System/Library/LaunchDaemons/com.apple.metadata.mds.plist</span><br><span class="line"><span class="comment"># 状态栏图标</span></span><br><span class="line"><span class="built_in">cd</span> /System/Library/CoreServices/</span><br><span class="line">sudo mv Search.bundle.bak/ Search.bundle/</span><br></pre></td></tr></table></figure><p>设置后需要重启。</p><h3 id="显示隐藏文件"><a href="#显示隐藏文件" class="headerlink" title="显示隐藏文件"></a>显示隐藏文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 显示</span></span><br><span class="line">defaults write com.apple.finder AppleShowAllFiles YES</span><br><span class="line"><span class="comment"># 重启Finder</span></span><br><span class="line">killall Finder</span><br></pre></td></tr></table></figure><p>隐藏只需将 <code>YES</code> 改成 <code>No</code> 执行即可。</p><h3 id="禁用Dashboard功能"><a href="#禁用Dashboard功能" class="headerlink" title="禁用Dashboard功能"></a>禁用Dashboard功能</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">defaults write com.apple.dashboard mcx-disabled -boolean YES</span><br><span class="line">killall Dock</span><br></pre></td></tr></table></figure><p>恢复开启状态只需将 <code>YES</code> 改成 <code>NO</code> 执行即可。</p><h3 id="设置电脑名称"><a href="#设置电脑名称" class="headerlink" title="设置电脑名称"></a>设置电脑名称</h3><blockquote><p> 注意：执行时需要管理员密码</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">scutil --<span class="built_in">set</span> ComputerName <span class="string">"lfoder MacBook Pro"</span></span><br><span class="line">scutil --<span class="built_in">set</span> LocalHostName <span class="string">"lfoder-MacBook-Pro"</span></span><br><span class="line">scutil --<span class="built_in">set</span> HostName <span class="string">"lfoder"</span></span><br></pre></td></tr></table></figure><p>查看只需要将 <code>--set</code> 换成 <code>--get</code> 执行即可。</p><p>三个名称的区别：</p><ul><li><strong>Computer Name</strong>：共享设置里的电脑名称，可以使用汉字等特殊字符；</li><li><strong>Local Host Name</strong>：Computer Name的别名，把特殊字符转换为ASCII字符，比如汉字转为拼音，空格转为<code>-</code>，同样在共享设置里可以看到；</li><li><strong>Host Name</strong>: 这个会显示在终端里。</li></ul><p>在局域网里可以通过 <strong>Local Host Name</strong> 加上 <code>.local</code> 来访问 Mac 电脑</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl lfoder-MacBook-Pro.local</span><br><span class="line">ping lfoder-MacBook-Pro.local</span><br></pre></td></tr></table></figure><p>也可以通过设置 WINS 里的 NetBIOS 名称来访问。</p><h3 id="设置英文输入法下长按为连续输入"><a href="#设置英文输入法下长按为连续输入" class="headerlink" title="设置英文输入法下长按为连续输入"></a>设置英文输入法下长按为连续输入</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo defaults write -globalDomain ApplePressAndHoldEnabled -bool NO</span><br></pre></td></tr></table></figure><p> 恢复将 <code>NO</code> 改成 <code>YES</code> 执行即可。</p><h2 id="应用程序配置"><a href="#应用程序配置" class="headerlink" title="应用程序配置"></a>应用程序配置</h2><h3 id="安装与配置搜狗输入法"><a href="#安装与配置搜狗输入法" class="headerlink" title="安装与配置搜狗输入法"></a>安装与配置搜狗输入法</h3><ol><li>访问 <a href="http://pinyin.sogou.com" target="_blank" rel="noopener">http://pinyin.sogou.com</a> 下载安装</li><li>安装向导按照你自己的喜好配置完毕。</li><li>系统偏好设置 =&gt; 键盘 =&gt; 输入法 =&gt; 选择你不用的输入法 点击下面的减号 都删掉 =&gt; 最后就留下了 <code>搜狗拼音</code>和<code>ABC</code></li></ol><h3 id="安装-Typora"><a href="#安装-Typora" class="headerlink" title="安装 Typora"></a>安装 Typora</h3><p>Typora是一款非常棒的MarkDown编辑器，我现在安装了Typora来使用MarkDown语法写这篇博文。</p><p>安装请到官网根据自己的系统来下载对应版本</p><p>官网：<a href="https://www.typora.io" target="_blank" rel="noopener">https://www.typora.io</a></p><p>安装好以后开始配置,  <code>Command + ,</code> 打开偏好配置，也可以左上角菜单栏去找到偏好设置。</p><p>具体设置如下：</p><p>偏好设置 =&gt; 通用 =&gt; 选择 <code>Seamless</code> 窗口样式 =&gt; 勾选总是显示字数统计</p><p>偏好设置 =&gt; 编辑器 =&gt; 勾选 匹配MarkDown字符</p><p>偏好设置 =&gt; 编辑器 =&gt; 勾选 显示当前块元素的Markdown源码</p><h3 id="安装-Java-1-8-JDK"><a href="#安装-Java-1-8-JDK" class="headerlink" title="安装 Java 1.8 JDK"></a>安装 Java 1.8 JDK</h3><p>下载地址: </p><p><a href="http://download.oracle.com/otn-pub/java/jdk/8u171-b11/512cd62ec5174c3487ac17c61aaa89e8/jdk-8u171-macosx-x64.dmg" target="_blank" rel="noopener">http://download.oracle.com/otn-pub/java/jdk/8u171-b11/512cd62ec5174c3487ac17c61aaa89e8/jdk-8u171-macosx-x64.dmg</a></p><h3 id="安装-ICEWorks"><a href="#安装-ICEWorks" class="headerlink" title="安装 ICEWorks"></a>安装 ICEWorks</h3><p>一个便捷的拖拽式前端开发工具</p><p>官方网站 =&gt; <a href="https://alibaba.github.io/ice/" target="_blank" rel="noopener">https://alibaba.github.io/ice</a></p><h3 id="安装Navicat-Premium-12-破解版"><a href="#安装Navicat-Premium-12-破解版" class="headerlink" title="安装Navicat Premium 12 破解版"></a>安装Navicat Premium 12 破解版</h3><p>下载地址：<a href="http://www.navicat.com.cn/installers/navicat120_premium_cs.dmg" target="_blank" rel="noopener">http://www.navicat.com.cn/installers/navicat120_premium_cs.dmg</a></p><p>破解方法：</p><ol><li><a href="https://blog.csdn.net/u013490280/article/details/79720893" target="_blank" rel="noopener">https://blog.csdn.net/u013490280/article/details/79720893</a></li><li><a href="https://www.jianshu.com/p/f42785e55b6b" target="_blank" rel="noopener">https://www.jianshu.com/p/f42785e55b6b</a></li></ol><h3 id="安装-Proxifier"><a href="#安装-Proxifier" class="headerlink" title="安装 Proxifier"></a>安装 Proxifier</h3><p>下载地址：自行百度</p><p>注册名：Anything</p><p>序列号：P427L-9Y552-5433E-8DSR3-58Z68</p><h3 id="安装-Charles-抓包工具"><a href="#安装-Charles-抓包工具" class="headerlink" title="安装 Charles 抓包工具"></a>安装 Charles 抓包工具</h3><p>官方下载：</p><p><a href="https://www.charlesproxy.com/assets/release/4.2.5/charles-proxy-4.2.5.dmg" target="_blank" rel="noopener">https://www.charlesproxy.com/assets/release/4.2.5/charles-proxy-4.2.5.dmg</a></p><p>破解说明：</p><p><a href="https://www.52pojie.cn/thread-725112-1-1.html" target="_blank" rel="noopener">https://www.52pojie.cn/thread-725112-1-1.html</a></p><p>破解文件链接: </p><p><a href="https://pan.baidu.com/s/1wl2m9a2hhJwTUJ7sCiKyVg" target="_blank" rel="noopener">https://pan.baidu.com/s/1wl2m9a2hhJwTUJ7sCiKyVg</a>  </p><p>密码: znpg</p><p>破解步骤：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1. 从官方下载mac版本</span><br><span class="line">2. 首先安装完毕，需要点击运行一起，command + q 彻底退出一次</span><br><span class="line">3. 在命令行终端输入 sudo spctl --master-disable 信任任何来源 （避免软件提示破损问题）</span><br><span class="line">4. 在命令行终端输入 open /Applications/Charles.app/Contents/Java/ 打开并替换 charles.jar（最好备份一下源文件, 我修改源文件名charles.jar.bak）</span><br><span class="line">5. 替换完成后，在此打开charles应用，加载期间你会发现注册成功</span><br><span class="line">6. 在命令行终端输入 sudo spctl --master-enable 调整信任App store和被认可的开发者.</span><br></pre></td></tr></table></figure><h3 id="其他第三方程序列表"><a href="#其他第三方程序列表" class="headerlink" title="其他第三方程序列表"></a>其他第三方程序列表</h3><p>这些程序自己百度搜索下载安装，列表为我自己常用的程序，具体程序使用作用自己搜索资料了解，因人而异，只做参考，排名不分先后。</p><ul><li style="list-style: none"><input type="checkbox" checked> Anylink     ——  Shadowsocks连接工具 (并非最好)</li><li style="list-style: none"><input type="checkbox" checked> CleanApp —— 卸载程序专用的工具，能清理垃圾</li><li style="list-style: none"><input type="checkbox" checked> Dr. Unarchiver —— 解压缩工具 (目前使用过最好用)</li><li style="list-style: none"><input type="checkbox" checked> iPic —— MarkDown图片上传图床插件</li><li style="list-style: none"><input type="checkbox" checked> Thunder —— 迅雷</li><li style="list-style: none"><input type="checkbox" checked> Proxifier —— 系统全局代理工具</li><li style="list-style: none"><input type="checkbox" checked> Goland —— Golang编程开发工具 (License Server 如下)<ul><li><a href="http://idea.youbbs.org" target="_blank" rel="noopener">http://idea.youbbs.org</a></li></ul></li><li style="list-style: none"><input type="checkbox" checked> VSCode —— 通用编辑器 类似Windows上的Nodepad++</li><li style="list-style: none"><input type="checkbox" checked> Microsoft Office 2016 </li><li style="list-style: none"><input type="checkbox" checked> Nessus  <ul><li>记得更新插件包</li><li>激活码获取途径：<a href="https://www.tenable.com/products/nessus-home" target="_blank" rel="noopener">https://www.tenable.com/products/nessus-home</a> 注册后会向邮箱发送激活码</li></ul></li><li style="list-style: none"><input type="checkbox" checked> iStat Meuns —— 状态栏工具 </li><li style="list-style: none"><input type="checkbox" checked> Chrome</li><li style="list-style: none"><input type="checkbox" checked> Teamviewer</li></ul><h2 id="命令行工具安装与配置"><a href="#命令行工具安装与配置" class="headerlink" title="命令行工具安装与配置"></a>命令行工具安装与配置</h2><h3 id="Homebrew-MacOS下的包管理器，类似于CentOS的yum、Debian的apt"><a href="#Homebrew-MacOS下的包管理器，类似于CentOS的yum、Debian的apt" class="headerlink" title="Homebrew (MacOS下的包管理器，类似于CentOS的yum、Debian的apt)"></a>Homebrew (MacOS下的包管理器，类似于CentOS的yum、Debian的apt)</h3><p>官方网站：<a href="https://brew.sh/index_zh-cn" target="_blank" rel="noopener">https://brew.sh/index_zh-cn</a></p><p>安装 (这里命令其实只有一行，可能会自动换行):</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/bin/ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</span><br></pre></td></tr></table></figure><p>一路回车下去，然后会遇到一个类似下面的东西</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">==&gt; Downloading and installing Homebrew...</span><br><span class="line"></span><br><span class="line">remote: Counting objects: 102994, done.</span><br><span class="line">remote: Compressing objects: 100% (14/14), done.</span><br><span class="line">Receiving objects:  12% (12360/102994), 3.11 MiB | 60.00 KiB/s</span><br></pre></td></tr></table></figure><p>速度非常慢，漫长的等待吧…. </p><p>安装完成后 ，更新与升级 </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew update -y &amp;&amp; brew upgrade -y</span><br></pre></td></tr></table></figure><p>然后brew具体怎么安装程序，怎么卸载程序等等的使用方法，就自行百度或者看<a href="https://docs.brew.sh/" target="_blank" rel="noopener">官网文档</a>吧…</p><blockquote><p>这里还有一篇关于 brew 安装包速度太慢的解决方案：<a href="https://www.jianshu.com/p/03d1db713f76" target="_blank" rel="noopener">https://www.jianshu.com/p/03d1db713f76</a></p></blockquote><h3 id="oh-my-zsh-终端便捷操作工具"><a href="#oh-my-zsh-终端便捷操作工具" class="headerlink" title="oh-my-zsh 终端便捷操作工具"></a>oh-my-zsh 终端便捷操作工具</h3><p>首先看看 oh-my-zsh 的官网 ：<a href="http://ohmyz.sh/" target="_blank" rel="noopener">http://ohmyz.sh/</a></p><p>安装命令如下:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh -c &quot;$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&quot;</span><br></pre></td></tr></table></figure><h3 id="安装-metasploit、tmux、nmap、masscan"><a href="#安装-metasploit、tmux、nmap、masscan" class="headerlink" title="安装 metasploit、tmux、nmap、masscan"></a>安装 metasploit、tmux、nmap、masscan</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install metasploit tmux masscan wine</span><br></pre></td></tr></table></figure><h3 id="Hexo安装与配置"><a href="#Hexo安装与配置" class="headerlink" title="Hexo安装与配置"></a>Hexo安装与配置</h3><p>这里不做安装配置教程，只为系统重装之前的博客目录服务进行恢复，读者感兴趣可百度Hexo的安装和配置，不感兴趣自行跳过，纯属个人笔记。更多关于Hexo的配置详情，请在本博客导航栏 <code>搜索</code> 功能中搜索关键字 <code>Hexo</code> </p><p>安装nodejs环境：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install nodejs</span><br></pre></td></tr></table></figure><p>调整npm源到淘宝源：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config set registry &quot;https://registry.npm.taobao.org&quot;</span><br></pre></td></tr></table></figure><p>安装hexo：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo -g</span><br></pre></td></tr></table></figure><p>安装插件：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-server --save</span><br><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p>嗯 ，可以用了</p><p>… </p><p>…</p><p>…</p><p>欲了解详情自行Google。</p><p>切换到博客路径并安装插件 (网上摘录，可选)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># 切换到该路径</span><br><span class="line">cd 你的博客文件夹</span><br><span class="line"># 安装hexo的扩展插件</span><br><span class="line">npm install</span><br><span class="line"># 安装其它插件</span><br><span class="line">npm install hexo-server --save</span><br><span class="line">npm install hexo-admin --save</span><br><span class="line">npm install hexo-generator-archive --save</span><br><span class="line">npm install hexo-generator-feed --save</span><br><span class="line">npm install hexo-generator-search --save</span><br><span class="line">npm install hexo-generator-tag --save</span><br><span class="line">npm install hexo-deployer-git --save</span><br><span class="line">npm install hexo-generator-sitemap --save</span><br></pre></td></tr></table></figure><p>设置 git 全局配置:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;你的GitHub用户名&quot;</span><br><span class="line">git config --global user.email &quot;你的GitHub注册邮箱&quot;</span><br></pre></td></tr></table></figure><p>生成SSH密钥，一路回车下去。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa</span><br></pre></td></tr></table></figure><p>添加公钥到github: </p><p>登录Github =&gt; 用户头像 =&gt; Settings =&gt; SSH and GPG keys =&gt; New SSH key =&gt; 将 <code>~/.ssh/id_rsa.pub</code> 中的内容复制到Key文本框中，然后点击Add SSH key(添加SSH)按钮。</p><h3 id="MacPorts-MacOS下的包管理器，类似于CentOS的yum、Debian的apt"><a href="#MacPorts-MacOS下的包管理器，类似于CentOS的yum、Debian的apt" class="headerlink" title="MacPorts  (MacOS下的包管理器，类似于CentOS的yum、Debian的apt)"></a>MacPorts  (MacOS下的包管理器，类似于CentOS的yum、Debian的apt)</h3><p>官网下载链接: <a href="https://www.macports.org/install.php" target="_blank" rel="noopener">https://www.macports.org/install.php</a></p><p><strong>安装步骤：</strong></p><ol><li><p>我是MacOS 10.12，按照上面的官网链接下载自己对应的版本。</p></li><li><p>添加环境变量</p><p>我使用的是 <code>zsh</code> ,那么修改环境变量 则编辑 <code>~/.zshrc</code> ,你也可以选择编辑 <code>/etc/profile</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export PATH=/opt/local/bin:$PATH</span><br><span class="line">export PATH=/opt/local/sbin:$PATH</span><br></pre></td></tr></table></figure><p>添加这两行到你的环境变量 (我修改的是<code>~/.zshrc</code>)</p><p>然后即可生效</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/.zshrc</span><br></pre></td></tr></table></figure><p>OK !!!</p></li></ol><p><strong>使用过程：</strong></p><ul><li><p>更新ports tree和MacPorts版本，强烈推荐第一次运行的时候使用-v参数，显示详细的更新过程。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo port -v selfupdate</span><br></pre></td></tr></table></figure></li><li><p>搜索索引中的软件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">port search &lt;appname&gt;</span><br></pre></td></tr></table></figure></li><li><p>安装软件 </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo port install &lt;appname&gt;</span><br></pre></td></tr></table></figure></li><li><p>卸载软件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo port uninstall &lt;appname&gt;</span><br></pre></td></tr></table></figure></li><li><p>查看有更新的软件以及版本</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">port outdated</span><br></pre></td></tr></table></figure></li><li><p>升级可以更新的软件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo port upgrade outdated</span><br></pre></td></tr></table></figure></li><li><p>列出所有可用软件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">port list</span><br></pre></td></tr></table></figure></li><li><p>查看软件包详细信息</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">port info &lt;appname&gt;</span><br></pre></td></tr></table></figure></li><li><p>查看软件包依赖</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">port deps &lt;appname&gt;</span><br></pre></td></tr></table></figure></li><li><p>删除软件包安装过程中释放的零碎文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">port clean --all &lt;appname&gt;</span><br></pre></td></tr></table></figure></li><li><p>查看需要此依赖包的所有软件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">port dependents &lt;依赖包名&gt;</span><br></pre></td></tr></table></figure></li></ul><p><strong>举个例子：</strong></p><p>Eclipse的插件需要subclipse需要JavaHL，下面通过MacPorts来安装</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo port install subversion-javahlbindings</span><br></pre></td></tr></table></figure><blockquote><p>未完待续…</p></blockquote>]]></content>
    
    <summary type="html">
    
      纯属个人笔记，从全新的MacOS系统开始一步一步配置MacOS成为一台超级顺手的SuperComputer
    
    </summary>
    
      <category term="MacOS 笔记" scheme="http://lfoder.github.io/categories/MacOS-%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Hexo" scheme="http://lfoder.github.io/tags/Hexo/"/>
    
      <category term="MacOS系统优化" scheme="http://lfoder.github.io/tags/MacOS%E7%B3%BB%E7%BB%9F%E4%BC%98%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>Golang调用gopacket库编写网络数据包捕获、注入、分析工具</title>
    <link href="http://lfoder.github.io/2018/06/17/Golang%E8%B0%83%E7%94%A8gopacket%E5%BA%93%E7%BC%96%E5%86%99%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AE%E5%8C%85%E6%8D%95%E8%8E%B7%E3%80%81%E6%B3%A8%E5%85%A5%E3%80%81%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7/"/>
    <id>http://lfoder.github.io/2018/06/17/Golang调用gopacket库编写网络数据包捕获、注入、分析工具/</id>
    <published>2018-06-17T14:59:02.000Z</published>
    <updated>2018-06-17T15:28:46.000Z</updated>
    
    <content type="html"><![CDATA[<p>Golang调用gopacket库编写网络数据包捕获、注入、分析工具，使用Google推出的  <code>github.com/google/gopacket</code> 包来实现对网络数据包的操作，gopacket基于libpcap。</p><h3 id="1-libpcap-介绍"><a href="#1-libpcap-介绍" class="headerlink" title="1. libpcap 介绍"></a>1. libpcap 介绍</h3><p>gopacket是基于libpcap（数据包捕获函数库）的，该库提供的C函数接口用于捕捉经过指定网络接口的数据包，该接口应该是被设为混杂模式。<br>著名的软件TCPDUMP就是在Libpcap的基础上开发而成的。Libpcap提供的接口函数实现和封装了与数据包截获有关的过程。Libpcap可以在绝大多数Linux平台上运行。 </p><p>主要有以下功能： </p><ul><li>数据包捕获：捕获流经网卡的原始数据包 </li><li>自定义数据包发送：构造任何格式的原始数据包 </li><li>流量采集与统计：采集网络中的流量信息 </li><li>规则过滤：提供自带规则过滤功能，按需要选择过滤规则</li></ul><h3 id="2-准备工作"><a href="#2-准备工作" class="headerlink" title="2. 准备工作"></a>2. 准备工作</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># Get the gopacket <span class="keyword">package</span> from GitHub</span><br><span class="line"><span class="keyword">go</span> get github.com/google/gopacket</span><br><span class="line"># Pcap dev headers might be necessary</span><br><span class="line">sudo apt-get install libpcap-dev</span><br></pre></td></tr></table></figure><p>从Github上获取 <code>Gopacket</code> 包</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go get -u -v github.com/google/gopacket</span><br></pre></td></tr></table></figure><p>在你的系统上安装 <code>libpcap-dev</code> 包</p><ul><li><p>MacOS (默认已经安装)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install libpcap</span><br></pre></td></tr></table></figure></li><li><p>Ubuntu</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install libpcap-dev</span><br></pre></td></tr></table></figure></li><li><p>CentOS</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install libpcap-dev</span><br></pre></td></tr></table></figure></li></ul><h3 id="3-代码部分"><a href="#3-代码部分" class="headerlink" title="3. 代码部分"></a>3. 代码部分</h3><h4 id="获取所有网络设备"><a href="#获取所有网络设备" class="headerlink" title="获取所有网络设备"></a>获取所有网络设备</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"log"</span></span><br><span class="line">    <span class="string">"github.com/google/gopacket/pcap"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// Find all devices</span></span><br><span class="line">    devices, err := pcap.FindAllDevs()</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        log.Fatal(err)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Print device information</span></span><br><span class="line">    fmt.Println(<span class="string">"Devices found:"</span>)</span><br><span class="line">    <span class="keyword">for</span> _, device := <span class="keyword">range</span> devices &#123;</span><br><span class="line">        fmt.Println(<span class="string">"\nName: "</span>, device.Name)</span><br><span class="line">        fmt.Println(<span class="string">"Description: "</span>, device.Description)</span><br><span class="line">        fmt.Println(<span class="string">"Devices addresses: "</span>, device.Description)</span><br><span class="line">        <span class="keyword">for</span> _, address := <span class="keyword">range</span> device.Addresses &#123;</span><br><span class="line">            fmt.Println(<span class="string">"- IP address: "</span>, address.IP)</span><br><span class="line">            fmt.Println(<span class="string">"- Subnet mask: "</span>, address.Netmask)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="打开设备实时捕捉"><a href="#打开设备实时捕捉" class="headerlink" title="打开设备实时捕捉"></a>打开设备实时捕捉</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"github.com/google/gopacket"</span></span><br><span class="line">    <span class="string">"github.com/google/gopacket/pcap"</span></span><br><span class="line">    <span class="string">"log"</span></span><br><span class="line">    <span class="string">"time"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> (</span><br><span class="line">    device       <span class="keyword">string</span> = <span class="string">"eth0"</span></span><br><span class="line">    snapshot_len <span class="keyword">int32</span>  = <span class="number">1024</span></span><br><span class="line">    promiscuous  <span class="keyword">bool</span>   = <span class="literal">false</span></span><br><span class="line">    err          error</span><br><span class="line">    timeout      time.Duration = <span class="number">30</span> * time.Second</span><br><span class="line">    handle       *pcap.Handle</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// Open device</span></span><br><span class="line">    handle, err = pcap.OpenLive(device, snapshot_len, promiscuous, timeout)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;log.Fatal(err) &#125;</span><br><span class="line">    <span class="keyword">defer</span> handle.Close()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Use the handle as a packet source to process all packets</span></span><br><span class="line">    packetSource := gopacket.NewPacketSource(handle, handle.LinkType())</span><br><span class="line">    <span class="keyword">for</span> packet := <span class="keyword">range</span> packetSource.Packets() &#123;</span><br><span class="line">        <span class="comment">// Process packet here</span></span><br><span class="line">        fmt.Println(packet)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="抓取结果保存为pcap格式文件"><a href="#抓取结果保存为pcap格式文件" class="headerlink" title="抓取结果保存为pcap格式文件"></a>抓取结果保存为pcap格式文件</h4><blockquote><p>要写一个pcap格式的文件，我们必须使用gapacket / pcapgo包。这是一个Writer接口和两个有用的函数：WriteFileHeader（）和WritePacket（）</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">"fmt"</span></span><br><span class="line"><span class="string">"os"</span></span><br><span class="line"><span class="string">"time"</span></span><br><span class="line"></span><br><span class="line"><span class="string">"github.com/google/gopacket"</span></span><br><span class="line"><span class="string">"github.com/google/gopacket/layers"</span></span><br><span class="line"><span class="string">"github.com/google/gopacket/pcap"</span></span><br><span class="line"><span class="string">"github.com/google/gopacket/pcapgo"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> (</span><br><span class="line">deviceName  <span class="keyword">string</span> = <span class="string">"eth0"</span></span><br><span class="line">snapshotLen <span class="keyword">int32</span>  = <span class="number">1024</span></span><br><span class="line">promiscuous <span class="keyword">bool</span>   = <span class="literal">false</span></span><br><span class="line">err         error</span><br><span class="line">timeout     time.Duration = <span class="number">-1</span> * time.Second</span><br><span class="line">handle      *pcap.Handle</span><br><span class="line">packetCount <span class="keyword">int</span> = <span class="number">0</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="comment">// Open output pcap file and write header </span></span><br><span class="line">f, _ := os.Create(<span class="string">"test.pcap"</span>)</span><br><span class="line">w := pcapgo.NewWriter(f)</span><br><span class="line">w.WriteFileHeader(snapshotLen, layers.LinkTypeEthernet)</span><br><span class="line"><span class="keyword">defer</span> f.Close()</span><br><span class="line"></span><br><span class="line"><span class="comment">// Open the device for capturing</span></span><br><span class="line">handle, err = pcap.OpenLive(deviceName, snapshotLen, promiscuous, timeout)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">fmt.Printf(<span class="string">"Error opening device %s: %v"</span>, deviceName, err)</span><br><span class="line">os.Exit(<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">defer</span> handle.Close()</span><br><span class="line"></span><br><span class="line"><span class="comment">// Start processing packets</span></span><br><span class="line">packetSource := gopacket.NewPacketSource(handle, handle.LinkType())</span><br><span class="line"><span class="keyword">for</span> packet := <span class="keyword">range</span> packetSource.Packets() &#123;</span><br><span class="line"><span class="comment">// Process packet here</span></span><br><span class="line">fmt.Println(packet)</span><br><span class="line">w.WritePacket(packet.Metadata().CaptureInfo, packet.Data())</span><br><span class="line">packetCount++</span><br><span class="line"></span><br><span class="line"><span class="comment">// Only capture 100 and then stop</span></span><br><span class="line"><span class="keyword">if</span> packetCount &gt; <span class="number">100</span> &#123;</span><br><span class="line"><span class="keyword">break</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="读取pcap格式文件来查看分析网络数据包"><a href="#读取pcap格式文件来查看分析网络数据包" class="headerlink" title="读取pcap格式文件来查看分析网络数据包"></a>读取pcap格式文件来查看分析网络数据包</h4><blockquote><p>我们不用打开一个设备进行实时捕获，也可以打开pcap文件进行离线检查。您可以使用tcpdump创建要使用的测试文件。</p></blockquote><p>抓包：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Capture packets to test.pcap file</span></span><br><span class="line">sudo tcpdump -w test.pcap</span><br></pre></td></tr></table></figure></p><p>代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">// Use tcpdump to create a test file</span><br><span class="line">// tcpdump -w test.pcap</span><br><span class="line">// or use the example above for writing pcap files</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">    &quot;fmt&quot;</span><br><span class="line">    &quot;github.com/google/gopacket&quot;</span><br><span class="line">    &quot;github.com/google/gopacket/pcap&quot;</span><br><span class="line">    &quot;log&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">var (</span><br><span class="line">    pcapFile string = &quot;test.pcap&quot;</span><br><span class="line">    handle   *pcap.Handle</span><br><span class="line">    err      error</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    // Open file instead of device</span><br><span class="line">    handle, err = pcap.OpenOffline(pcapFile)</span><br><span class="line">    if err != nil &#123; log.Fatal(err) &#125;</span><br><span class="line">    defer handle.Close()</span><br><span class="line"></span><br><span class="line">    // Loop through packets in file</span><br><span class="line">    packetSource := gopacket.NewPacketSource(handle, handle.LinkType())</span><br><span class="line">    for packet := range packetSource.Packets() &#123;</span><br><span class="line">        fmt.Println(packet)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="设置过滤器"><a href="#设置过滤器" class="headerlink" title="设置过滤器"></a>设置过滤器</h4><blockquote><p>只抓取tcp协议80端口的数据</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"github.com/google/gopacket"</span></span><br><span class="line">    <span class="string">"github.com/google/gopacket/pcap"</span></span><br><span class="line">    <span class="string">"log"</span></span><br><span class="line">    <span class="string">"time"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> (</span><br><span class="line">    device       <span class="keyword">string</span> = <span class="string">"eth0"</span></span><br><span class="line">    snapshot_len <span class="keyword">int32</span>  = <span class="number">1024</span></span><br><span class="line">    promiscuous  <span class="keyword">bool</span>   = <span class="literal">false</span></span><br><span class="line">    err          error</span><br><span class="line">    timeout      time.Duration = <span class="number">30</span> * time.Second</span><br><span class="line">    handle       *pcap.Handle</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// Open device</span></span><br><span class="line">    handle, err = pcap.OpenLive(device, snapshot_len, promiscuous, timeout)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        log.Fatal(err)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">defer</span> handle.Close()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Set filter</span></span><br><span class="line">    <span class="keyword">var</span> filter <span class="keyword">string</span> = <span class="string">"tcp and port 80"</span></span><br><span class="line">    err = handle.SetBPFFilter(filter)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        log.Fatal(err)</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(<span class="string">"Only capturing TCP port 80 packets."</span>)</span><br><span class="line"></span><br><span class="line">    packetSource := gopacket.NewPacketSource(handle, handle.LinkType())</span><br><span class="line">    <span class="keyword">for</span> packet := <span class="keyword">range</span> packetSource.Packets() &#123;</span><br><span class="line">        <span class="comment">// Do something with a packet here.</span></span><br><span class="line">        fmt.Println(packet)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="解码抓取的数据"><a href="#解码抓取的数据" class="headerlink" title="解码抓取的数据"></a>解码抓取的数据</h4><blockquote><p>我们可以使用原始数据包，并且可将其转换为已知格式。它与不同的层兼容，所以我们可以轻松访问以太网，IP和TCP层。layers包是Go库中新增的，在底层pcap库中不可用。这是一个令人难以置信的有用的包，它是gopacket库的一部分。它允许我们容易地识别包是否包含特定类型的层。该代码示例将显示如何使用layers包来查看数据包是以太网，IP和TCP，并轻松访问这些头文件中的元素。 查找有效载荷取决于所涉及的所有层。每个协议是不同的，必须相应地计算。这就是layer包的魅力所在。 gopacket的作者花了时间为诸如以太网，IP，UDP和TCP等众多已知层创建了相应类型。有效载荷是应用层的一部分。</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"github.com/google/gopacket"</span></span><br><span class="line">    <span class="string">"github.com/google/gopacket/layers"</span></span><br><span class="line">    <span class="string">"github.com/google/gopacket/pcap"</span></span><br><span class="line">    <span class="string">"log"</span></span><br><span class="line">    <span class="string">"strings"</span></span><br><span class="line">    <span class="string">"time"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> (</span><br><span class="line">    device      <span class="keyword">string</span> = <span class="string">"eth0"</span></span><br><span class="line">    snapshotLen <span class="keyword">int32</span>  = <span class="number">1024</span></span><br><span class="line">    promiscuous <span class="keyword">bool</span>   = <span class="literal">false</span></span><br><span class="line">    err         error</span><br><span class="line">    timeout     time.Duration = <span class="number">30</span> * time.Second</span><br><span class="line">    handle      *pcap.Handle</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// Open device</span></span><br><span class="line">    handle, err = pcap.OpenLive(device, snapshotLen, promiscuous, timeout)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;log.Fatal(err) &#125;</span><br><span class="line">    <span class="keyword">defer</span> handle.Close()</span><br><span class="line"></span><br><span class="line">    packetSource := gopacket.NewPacketSource(handle, handle.LinkType())</span><br><span class="line">    <span class="keyword">for</span> packet := <span class="keyword">range</span> packetSource.Packets() &#123;</span><br><span class="line">        printPacketInfo(packet)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printPacketInfo</span><span class="params">(packet gopacket.Packet)</span></span> &#123;</span><br><span class="line">    <span class="comment">// Let's see if the packet is an ethernet packet</span></span><br><span class="line">    ethernetLayer := packet.Layer(layers.LayerTypeEthernet)</span><br><span class="line">    <span class="keyword">if</span> ethernetLayer != <span class="literal">nil</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">"Ethernet layer detected."</span>)</span><br><span class="line">        ethernetPacket, _ := ethernetLayer.(*layers.Ethernet)</span><br><span class="line">        fmt.Println(<span class="string">"Source MAC: "</span>, ethernetPacket.SrcMAC)</span><br><span class="line">        fmt.Println(<span class="string">"Destination MAC: "</span>, ethernetPacket.DstMAC)</span><br><span class="line">        <span class="comment">// Ethernet type is typically IPv4 but could be ARP or other</span></span><br><span class="line">        fmt.Println(<span class="string">"Ethernet type: "</span>, ethernetPacket.EthernetType)</span><br><span class="line">        fmt.Println()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Let's see if the packet is IP (even though the ether type told us)</span></span><br><span class="line">    ipLayer := packet.Layer(layers.LayerTypeIPv4)</span><br><span class="line">    <span class="keyword">if</span> ipLayer != <span class="literal">nil</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">"IPv4 layer detected."</span>)</span><br><span class="line">        ip, _ := ipLayer.(*layers.IPv4)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// IP layer variables:</span></span><br><span class="line">        <span class="comment">// Version (Either 4 or 6)</span></span><br><span class="line">        <span class="comment">// IHL (IP Header Length in 32-bit words)</span></span><br><span class="line">        <span class="comment">// TOS, Length, Id, Flags, FragOffset, TTL, Protocol (TCP?),</span></span><br><span class="line">        <span class="comment">// Checksum, SrcIP, DstIP</span></span><br><span class="line">        fmt.Printf(<span class="string">"From %s to %s\n"</span>, ip.SrcIP, ip.DstIP)</span><br><span class="line">        fmt.Println(<span class="string">"Protocol: "</span>, ip.Protocol)</span><br><span class="line">        fmt.Println()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Let's see if the packet is TCP</span></span><br><span class="line">    tcpLayer := packet.Layer(layers.LayerTypeTCP)</span><br><span class="line">    <span class="keyword">if</span> tcpLayer != <span class="literal">nil</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">"TCP layer detected."</span>)</span><br><span class="line">        tcp, _ := tcpLayer.(*layers.TCP)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// TCP layer variables:</span></span><br><span class="line">        <span class="comment">// SrcPort, DstPort, Seq, Ack, DataOffset, Window, Checksum, Urgent</span></span><br><span class="line">        <span class="comment">// Bool flags: FIN, SYN, RST, PSH, ACK, URG, ECE, CWR, NS</span></span><br><span class="line">        fmt.Printf(<span class="string">"From port %d to %d\n"</span>, tcp.SrcPort, tcp.DstPort)</span><br><span class="line">        fmt.Println(<span class="string">"Sequence number: "</span>, tcp.Seq)</span><br><span class="line">        fmt.Println()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Iterate over all layers, printing out each layer type</span></span><br><span class="line">    fmt.Println(<span class="string">"All packet layers:"</span>)</span><br><span class="line">    <span class="keyword">for</span> _, layer := <span class="keyword">range</span> packet.Layers() &#123;</span><br><span class="line">        fmt.Println(<span class="string">"- "</span>, layer.LayerType())</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// When iterating through packet.Layers() above,</span></span><br><span class="line">    <span class="comment">// if it lists Payload layer then that is the same as</span></span><br><span class="line">    <span class="comment">// this applicationLayer. applicationLayer contains the payload</span></span><br><span class="line">    applicationLayer := packet.ApplicationLayer()</span><br><span class="line">    <span class="keyword">if</span> applicationLayer != <span class="literal">nil</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">"Application layer/Payload found."</span>)</span><br><span class="line">        fmt.Printf(<span class="string">"%s\n"</span>, applicationLayer.Payload())</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Search for a string inside the payload</span></span><br><span class="line">        <span class="keyword">if</span> strings.Contains(<span class="keyword">string</span>(applicationLayer.Payload()), <span class="string">"HTTP"</span>) &#123;</span><br><span class="line">            fmt.Println(<span class="string">"HTTP found!"</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Check for errors</span></span><br><span class="line">    <span class="keyword">if</span> err := packet.ErrorLayer(); err != <span class="literal">nil</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">"Error decoding some part of the packet:"</span>, err)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="构造发送数据包"><a href="#构造发送数据包" class="headerlink" title="构造发送数据包"></a>构造发送数据包</h4><blockquote><p>这个例子做了几件事情。首先将显示如何使用网络设备发送原始字节。这样就可以像串行连接一样使用它来发送数据。这对于真正的低层数据传输非常有用，但如果您想与应用程序进行交互，您应该构建可以识别该数据包的其他硬件和软件。接下来，它将显示如何使用以太网，IP和TCP层创建一个数据包。一切都是默认空的。要完成它，我们创建另一个数据包，但实际上填写了以太网层的一些MAC地址，IPv4的一些IP地址和TCP层的端口号。你应该看到如何伪装数据包和仿冒网络设备。TCP层结构体具有可读取和可设置的SYN，FIN，ACK标志。这有助于操纵和模糊TCP三次握手，会话和端口扫描。pcap库提供了一种发送字节的简单方法，但gopacket中的图层可帮助我们为多层创建字节结构。</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"github.com/google/gopacket"</span></span><br><span class="line">    <span class="string">"github.com/google/gopacket/layers"</span></span><br><span class="line">    <span class="string">"github.com/google/gopacket/pcap"</span></span><br><span class="line">    <span class="string">"log"</span></span><br><span class="line">    <span class="string">"net"</span></span><br><span class="line">    <span class="string">"time"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> (</span><br><span class="line">    device       <span class="keyword">string</span> = <span class="string">"eth0"</span></span><br><span class="line">    snapshot_len <span class="keyword">int32</span>  = <span class="number">1024</span></span><br><span class="line">    promiscuous  <span class="keyword">bool</span>   = <span class="literal">false</span></span><br><span class="line">    err          error</span><br><span class="line">    timeout      time.Duration = <span class="number">30</span> * time.Second</span><br><span class="line">    handle       *pcap.Handle</span><br><span class="line">    buffer       gopacket.SerializeBuffer</span><br><span class="line">    options      gopacket.SerializeOptions</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// Open device</span></span><br><span class="line">    handle, err = pcap.OpenLive(device, snapshot_len, promiscuous, timeout)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;log.Fatal(err) &#125;</span><br><span class="line">    <span class="keyword">defer</span> handle.Close()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Send raw bytes over wire</span></span><br><span class="line">    rawBytes := []<span class="keyword">byte</span>&#123;<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>&#125;</span><br><span class="line">    err = handle.WritePacketData(rawBytes)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        log.Fatal(err)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Create a properly formed packet, just with</span></span><br><span class="line">    <span class="comment">// empty details. Should fill out MAC addresses,</span></span><br><span class="line">    <span class="comment">// IP addresses, etc.</span></span><br><span class="line">    buffer = gopacket.NewSerializeBuffer()</span><br><span class="line">    gopacket.SerializeLayers(buffer, options,</span><br><span class="line">        &amp;layers.Ethernet&#123;&#125;,</span><br><span class="line">        &amp;layers.IPv4&#123;&#125;,</span><br><span class="line">        &amp;layers.TCP&#123;&#125;,</span><br><span class="line">        gopacket.Payload(rawBytes),</span><br><span class="line">    )</span><br><span class="line">    outgoingPacket := buffer.Bytes()</span><br><span class="line">    <span class="comment">// Send our packet</span></span><br><span class="line">    err = handle.WritePacketData(outgoingPacket)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        log.Fatal(err)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// This time lets fill out some information</span></span><br><span class="line">    ipLayer := &amp;layers.IPv4&#123;</span><br><span class="line">        SrcIP: net.IP&#123;<span class="number">127</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>&#125;,</span><br><span class="line">        DstIP: net.IP&#123;<span class="number">8</span>, <span class="number">8</span>, <span class="number">8</span>, <span class="number">8</span>&#125;,</span><br><span class="line">    &#125;</span><br><span class="line">    ethernetLayer := &amp;layers.Ethernet&#123;</span><br><span class="line">        SrcMAC: net.HardwareAddr&#123;<span class="number">0xFF</span>, <span class="number">0xAA</span>, <span class="number">0xFA</span>, <span class="number">0xAA</span>, <span class="number">0xFF</span>, <span class="number">0xAA</span>&#125;,</span><br><span class="line">        DstMAC: net.HardwareAddr&#123;<span class="number">0xBD</span>, <span class="number">0xBD</span>, <span class="number">0xBD</span>, <span class="number">0xBD</span>, <span class="number">0xBD</span>, <span class="number">0xBD</span>&#125;,</span><br><span class="line">    &#125;</span><br><span class="line">    tcpLayer := &amp;layers.TCP&#123;</span><br><span class="line">        SrcPort: layers.TCPPort(<span class="number">4321</span>),</span><br><span class="line">        DstPort: layers.TCPPort(<span class="number">80</span>),</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// And create the packet with the layers</span></span><br><span class="line">    buffer = gopacket.NewSerializeBuffer()</span><br><span class="line">    gopacket.SerializeLayers(buffer, options,</span><br><span class="line">        ethernetLayer,</span><br><span class="line">        ipLayer,</span><br><span class="line">        tcpLayer,</span><br><span class="line">        gopacket.Payload(rawBytes),</span><br><span class="line">    )</span><br><span class="line">    outgoingPacket = buffer.Bytes()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="更多的解码-构造数据包的例子"><a href="#更多的解码-构造数据包的例子" class="headerlink" title="更多的解码/构造数据包的例子"></a>更多的解码/构造数据包的例子</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"github.com/google/gopacket"</span></span><br><span class="line">    <span class="string">"github.com/google/gopacket/layers"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// If we don't have a handle to a device or a file, but we have a bunch</span></span><br><span class="line">    <span class="comment">// of raw bytes, we can try to decode them in to packet information</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// NewPacket() takes the raw bytes that make up the packet as the first parameter</span></span><br><span class="line">    <span class="comment">// The second parameter is the lowest level layer you want to decode. It will</span></span><br><span class="line">    <span class="comment">// decode that layer and all layers on top of it. The third layer</span></span><br><span class="line">    <span class="comment">// is the type of decoding: default(all at once), lazy(on demand), and NoCopy</span></span><br><span class="line">    <span class="comment">// which will not create a copy of the buffer</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Create an packet with ethernet, IP, TCP, and payload layers</span></span><br><span class="line">    <span class="comment">// We are creating one we know will be decoded properly but</span></span><br><span class="line">    <span class="comment">// your byte source could be anything. If any of the packets</span></span><br><span class="line">    <span class="comment">// come back as nil, that means it could not decode it in to</span></span><br><span class="line">    <span class="comment">// the proper layer (malformed or incorrect packet type)</span></span><br><span class="line">    payload := []<span class="keyword">byte</span>&#123;<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>&#125;</span><br><span class="line">    options := gopacket.SerializeOptions&#123;&#125;</span><br><span class="line">    buffer := gopacket.NewSerializeBuffer()</span><br><span class="line">    gopacket.SerializeLayers(buffer, options,</span><br><span class="line">        &amp;layers.Ethernet&#123;&#125;,</span><br><span class="line">        &amp;layers.IPv4&#123;&#125;,</span><br><span class="line">        &amp;layers.TCP&#123;&#125;,</span><br><span class="line">        gopacket.Payload(payload),</span><br><span class="line">    )</span><br><span class="line">    rawBytes := buffer.Bytes()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Decode an ethernet packet</span></span><br><span class="line">    ethPacket :=</span><br><span class="line">        gopacket.NewPacket(</span><br><span class="line">            rawBytes,</span><br><span class="line">            layers.LayerTypeEthernet,</span><br><span class="line">            gopacket.Default,</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    <span class="comment">// with Lazy decoding it will only decode what it needs when it needs it</span></span><br><span class="line">    <span class="comment">// This is not concurrency safe. If using concurrency, use default</span></span><br><span class="line">    ipPacket :=</span><br><span class="line">        gopacket.NewPacket(</span><br><span class="line">            rawBytes,</span><br><span class="line">            layers.LayerTypeIPv4,</span><br><span class="line">            gopacket.Lazy,</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    <span class="comment">// With the NoCopy option, the underlying slices are referenced</span></span><br><span class="line">    <span class="comment">// directly and not copied. If the underlying bytes change so will</span></span><br><span class="line">    <span class="comment">// the packet</span></span><br><span class="line">    tcpPacket :=</span><br><span class="line">        gopacket.NewPacket(</span><br><span class="line">            rawBytes,</span><br><span class="line">            layers.LayerTypeTCP,</span><br><span class="line">            gopacket.NoCopy,</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    fmt.Println(ethPacket)</span><br><span class="line">    fmt.Println(ipPacket)</span><br><span class="line">    fmt.Println(tcpPacket)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="自定义layer"><a href="#自定义layer" class="headerlink" title="自定义layer"></a>自定义layer</h4><blockquote><p>下一个程序将显示如何创建自己的layer。构建gopacket layer包不包含的协议。如果您要创建自己的l33t协议，甚至不使用TCP / IP或以太网，这是很有用的。</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"github.com/google/gopacket"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Create custom layer structure</span></span><br><span class="line"><span class="keyword">type</span> CustomLayer <span class="keyword">struct</span> &#123;</span><br><span class="line">    <span class="comment">// This layer just has two bytes at the front</span></span><br><span class="line">    SomeByte    <span class="keyword">byte</span></span><br><span class="line">    AnotherByte <span class="keyword">byte</span></span><br><span class="line">    restOfData  []<span class="keyword">byte</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Register the layer type so we can use it</span></span><br><span class="line"><span class="comment">// The first argument is an ID. Use negative</span></span><br><span class="line"><span class="comment">// or 2000+ for custom layers. It must be unique</span></span><br><span class="line"><span class="keyword">var</span> CustomLayerType = gopacket.RegisterLayerType(</span><br><span class="line">    <span class="number">2001</span>,</span><br><span class="line">    gopacket.LayerTypeMetadata&#123;</span><br><span class="line">        <span class="string">"CustomLayerType"</span>,</span><br><span class="line">        gopacket.DecodeFunc(decodeCustomLayer),</span><br><span class="line">    &#125;,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// When we inquire about the type, what type of layer should</span></span><br><span class="line"><span class="comment">// we say it is? We want it to return our custom layer type</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(l CustomLayer)</span> <span class="title">LayerType</span><span class="params">()</span> <span class="title">gopacket</span>.<span class="title">LayerType</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> CustomLayerType</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// LayerContents returns the information that our layer</span></span><br><span class="line"><span class="comment">// provides. In this case it is a header layer so</span></span><br><span class="line"><span class="comment">// we return the header information</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(l CustomLayer)</span> <span class="title">LayerContents</span><span class="params">()</span> []<span class="title">byte</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> []<span class="keyword">byte</span>&#123;l.SomeByte, l.AnotherByte&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// LayerPayload returns the subsequent layer built</span></span><br><span class="line"><span class="comment">// on top of our layer or raw payload</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(l CustomLayer)</span> <span class="title">LayerPayload</span><span class="params">()</span> []<span class="title">byte</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> l.restOfData</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Custom decode function. We can name it whatever we want</span></span><br><span class="line"><span class="comment">// but it should have the same arguments and return value</span></span><br><span class="line"><span class="comment">// When the layer is registered we tell it to use this decode function</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">decodeCustomLayer</span><span class="params">(data []<span class="keyword">byte</span>, p gopacket.PacketBuilder)</span> <span class="title">error</span></span> &#123;</span><br><span class="line">    <span class="comment">// AddLayer appends to the list of layers that the packet has</span></span><br><span class="line">    p.AddLayer(&amp;CustomLayer&#123;data[<span class="number">0</span>], data[<span class="number">1</span>], data[<span class="number">2</span>:]&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// The return value tells the packet what layer to expect</span></span><br><span class="line">    <span class="comment">// with the rest of the data. It could be another header layer,</span></span><br><span class="line">    <span class="comment">// nothing, or a payload layer.</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// nil means this is the last layer. No more decoding</span></span><br><span class="line">    <span class="comment">// return nil</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Returning another layer type tells it to decode</span></span><br><span class="line">    <span class="comment">// the next layer with that layer's decoder function</span></span><br><span class="line">    <span class="comment">// return p.NextDecoder(layers.LayerTypeEthernet)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Returning payload type means the rest of the data</span></span><br><span class="line">    <span class="comment">// is raw payload. It will set the application layer</span></span><br><span class="line">    <span class="comment">// contents with the payload</span></span><br><span class="line">    <span class="keyword">return</span> p.NextDecoder(gopacket.LayerTypePayload)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// If you create your own encoding and decoding you can essentially</span></span><br><span class="line">    <span class="comment">// create your own protocol or implement a protocol that is not</span></span><br><span class="line">    <span class="comment">// already defined in the layers package. In our example we are just</span></span><br><span class="line">    <span class="comment">// wrapping a normal ethernet packet with our own layer.</span></span><br><span class="line">    <span class="comment">// Creating your own protocol is good if you want to create</span></span><br><span class="line">    <span class="comment">// some obfuscated binary data type that was difficult for others</span></span><br><span class="line">    <span class="comment">// to decode</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Finally, decode your packets:</span></span><br><span class="line">    rawBytes := []<span class="keyword">byte</span>&#123;<span class="number">0xF0</span>, <span class="number">0x0F</span>, <span class="number">65</span>, <span class="number">65</span>, <span class="number">66</span>, <span class="number">67</span>, <span class="number">68</span>&#125;</span><br><span class="line">    packet := gopacket.NewPacket(</span><br><span class="line">        rawBytes,</span><br><span class="line">        CustomLayerType,</span><br><span class="line">        gopacket.Default,</span><br><span class="line">    )</span><br><span class="line">    fmt.Println(<span class="string">"Created packet out of raw bytes."</span>)</span><br><span class="line">    fmt.Println(packet)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Decode the packet as our custom layer</span></span><br><span class="line">    customLayer := packet.Layer(CustomLayerType)</span><br><span class="line">    <span class="keyword">if</span> customLayer != <span class="literal">nil</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">"Packet was successfully decoded with custom layer decoder."</span>)</span><br><span class="line">        customLayerContent, _ := customLayer.(*CustomLayer)</span><br><span class="line">        <span class="comment">// Now we can access the elements of the custom struct</span></span><br><span class="line">        fmt.Println(<span class="string">"Payload: "</span>, customLayerContent.LayerPayload())</span><br><span class="line">        fmt.Println(<span class="string">"SomeByte element:"</span>, customLayerContent.SomeByte)</span><br><span class="line">        fmt.Println(<span class="string">"AnotherByte element:"</span>, customLayerContent.AnotherByte)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="更快地解码数据包"><a href="#更快地解码数据包" class="headerlink" title="更快地解码数据包"></a>更快地解码数据包</h4><blockquote><p>如果我们知道我们要预期的得到的层，我们可以使用现有的结构来存储分组信息，而不是为每个需要时间和内存的分组创建新的结构。使用DecodingLayerParser更快。就像编组和解组数据一样。</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"github.com/google/gopacket"</span></span><br><span class="line">    <span class="string">"github.com/google/gopacket/layers"</span></span><br><span class="line">    <span class="string">"github.com/google/gopacket/pcap"</span></span><br><span class="line">    <span class="string">"log"</span></span><br><span class="line">    <span class="string">"time"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> (</span><br><span class="line">    device       <span class="keyword">string</span> = <span class="string">"eth0"</span></span><br><span class="line">    snapshot_len <span class="keyword">int32</span>  = <span class="number">1024</span></span><br><span class="line">    promiscuous  <span class="keyword">bool</span>   = <span class="literal">false</span></span><br><span class="line">    err          error</span><br><span class="line">    timeout      time.Duration = <span class="number">30</span> * time.Second</span><br><span class="line">    handle       *pcap.Handle</span><br><span class="line">    <span class="comment">// Will reuse these for each packet</span></span><br><span class="line">    ethLayer layers.Ethernet</span><br><span class="line">    ipLayer  layers.IPv4</span><br><span class="line">    tcpLayer layers.TCP</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// Open device</span></span><br><span class="line">    handle, err = pcap.OpenLive(device, snapshot_len, promiscuous, timeout)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        log.Fatal(err)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">defer</span> handle.Close()</span><br><span class="line"></span><br><span class="line">    packetSource := gopacket.NewPacketSource(handle, handle.LinkType())</span><br><span class="line">    <span class="keyword">for</span> packet := <span class="keyword">range</span> packetSource.Packets() &#123;</span><br><span class="line">        parser := gopacket.NewDecodingLayerParser(</span><br><span class="line">            layers.LayerTypeEthernet,</span><br><span class="line">            &amp;ethLayer,</span><br><span class="line">            &amp;ipLayer,</span><br><span class="line">            &amp;tcpLayer,</span><br><span class="line">        )</span><br><span class="line">        foundLayerTypes := []gopacket.LayerType&#123;&#125;</span><br><span class="line"></span><br><span class="line">        err := parser.DecodeLayers(packet.Data(), &amp;foundLayerTypes)</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">            fmt.Println(<span class="string">"Trouble decoding layers: "</span>, err)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> _, layerType := <span class="keyword">range</span> foundLayerTypes &#123;</span><br><span class="line">            <span class="keyword">if</span> layerType == layers.LayerTypeIPv4 &#123;</span><br><span class="line">                fmt.Println(<span class="string">"IPv4: "</span>, ipLayer.SrcIP, <span class="string">"-&gt;"</span>, ipLayer.DstIP)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> layerType == layers.LayerTypeTCP &#123;</span><br><span class="line">                fmt.Println(<span class="string">"TCP Port: "</span>, tcpLayer.SrcPort, <span class="string">"-&gt;"</span>, tcpLayer.DstPort)</span><br><span class="line">                fmt.Println(<span class="string">"TCP SYN:"</span>, tcpLayer.SYN, <span class="string">" | ACK:"</span>, tcpLayer.ACK)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="TCP流重组"><a href="#TCP流重组" class="headerlink" title="TCP流重组"></a>TCP流重组</h4><blockquote><p>gopacket包提供了一些名为Flow和Endpoint的类型。我没有机会深入探索这些文档，但文档中有一个使用它来将特定TCP流发送到数据包通道的示例。<a href="https://godoc.org/github.com/google/gopacket" target="_blank" rel="noopener">https://godoc.org/github.com/google/gopacket</a></p></blockquote><h3 id="4-简述"><a href="#4-简述" class="headerlink" title="4. 简述"></a>4. 简述</h3><p>写这篇博文是因为gopacket这个包资料案例不是很多，百度上唯一一篇质量还可以的文章是来自<a href="https://blog.csdn.net/ptmozhu/article/details/72652310" target="_blank" rel="noopener">虾米的博客</a> 发布在CSDN上的一篇关于gopacket的golang语言代码实现的文章，但是CSS出现问题，导致阅读障碍，为了防止文章资源丢失，这里特此将文章内容通过更简洁的方式重写，并在后期针对于对Google推出的 <a href="https://godoc.org/github.com/google/gopacket" target="_blank" rel="noopener">GoPacket包</a> 的理解续写这篇文章，感谢作者 <a href="https://blog.csdn.net/ptmozhu" target="_blank" rel="noopener">@ptmozhu</a> 提供的精彩文章内容。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Golang调用gopacket库编写网络数据包捕获、注入、分析工具，使用Google推出的  &lt;code&gt;github.com/google/gopacket&lt;/code&gt; 包来实现对网络数据包的操作，gopacket基于libpcap。&lt;/p&gt;
&lt;h3 id=&quot;1-li
      
    
    </summary>
    
      <category term="Golang 编程" scheme="http://lfoder.github.io/categories/Golang-%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="Golang" scheme="http://lfoder.github.io/tags/Golang/"/>
    
      <category term="GoPacket" scheme="http://lfoder.github.io/tags/GoPacket/"/>
    
      <category term="网络数据包" scheme="http://lfoder.github.io/tags/%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AE%E5%8C%85/"/>
    
      <category term="libpcap" scheme="http://lfoder.github.io/tags/libpcap/"/>
    
      <category term="网络分析" scheme="http://lfoder.github.io/tags/%E7%BD%91%E7%BB%9C%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>Navicat Premium v12.0.4 Cracked 汉化破解版</title>
    <link href="http://lfoder.github.io/2018/06/17/Navicat-Premium-v12-0-4-Cracked-%E6%B1%89%E5%8C%96%E7%A0%B4%E8%A7%A3%E7%89%88/"/>
    <id>http://lfoder.github.io/2018/06/17/Navicat-Premium-v12-0-4-Cracked-汉化破解版/</id>
    <published>2018-06-17T13:07:43.000Z</published>
    <updated>2018-06-17T13:16:05.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Navicat-Premium-v12-0-4-Cracked-汉化破解版-（直装安装包-汉化包）"><a href="#Navicat-Premium-v12-0-4-Cracked-汉化破解版-（直装安装包-汉化包）" class="headerlink" title="Navicat Premium v12.0.4 Cracked 汉化破解版 （直装安装包+汉化包）"></a>Navicat Premium v12.0.4 Cracked 汉化破解版 （直装安装包+汉化包）</h2><p>人狠话不多</p><h3 id="破解包"><a href="#破解包" class="headerlink" title="破解包"></a>破解包</h3><p>下载路径:  <a href="http://shatel.cdn.p30download.com/p30dl-mac/Navicat.Premium.v12.0.4.MacOSX_p30download.com.dmg" target="_blank" rel="noopener">http://shatel.cdn.p30download.com/p30dl-mac/Navicat.Premium.v12.0.4.MacOSX_p30download.com.dmg</a></p><h3 id="汉化包"><a href="#汉化包" class="headerlink" title="汉化包"></a>汉化包</h3><p>下载路径：<a href="https://pan.baidu.com/s/1kUCeCmj" target="_blank" rel="noopener">https://pan.baidu.com/s/1kUCeCmj</a></p><p>提取码：x9w4</p><h3 id="操作过程"><a href="#操作过程" class="headerlink" title="操作过程"></a>操作过程</h3><p>破解包直接安装即可，汉化包，请解压找到 <code>zh-Hans.lproj</code> ，拷贝到 <code>/Applications/Navicat Premium.app/Contents/Resources</code>  中，重启Navicat。</p><blockquote><p>简单 粗暴 ！</p></blockquote>]]></content>
    
    <summary type="html">
    
      介于广大MacOS用户苦苦寻找Navicat Premium 12版本破解版，这里收集了12版本的破解直装版和汉化补丁
    
    </summary>
    
      <category term="MacOS 笔记" scheme="http://lfoder.github.io/categories/MacOS-%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="MacOS" scheme="http://lfoder.github.io/tags/MacOS/"/>
    
      <category term="破解软件" scheme="http://lfoder.github.io/tags/%E7%A0%B4%E8%A7%A3%E8%BD%AF%E4%BB%B6/"/>
    
      <category term="Navicat" scheme="http://lfoder.github.io/tags/Navicat/"/>
    
      <category term="汉化" scheme="http://lfoder.github.io/tags/%E6%B1%89%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>Hexo+Coding.me搭建稳点免费的静态个人博客</title>
    <link href="http://lfoder.github.io/2018/06/14/Hexo%E4%B8%8Ecoding-me%E6%90%AD%E5%BB%BA%E7%A8%B3%E7%82%B9%E5%85%8D%E8%B4%B9%E7%9A%84%E9%9D%99%E6%80%81%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    <id>http://lfoder.github.io/2018/06/14/Hexo与coding-me搭建稳点免费的静态个人博客/</id>
    <published>2018-06-14T08:20:09.000Z</published>
    <updated>2018-06-14T08:50:25.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Hexo-Coding-me搭建稳点免费的静态个人博客"><a href="#Hexo-Coding-me搭建稳点免费的静态个人博客" class="headerlink" title="Hexo+Coding.me搭建稳点免费的静态个人博客"></a>Hexo+Coding.me搭建稳点免费的静态个人博客</h2><h3 id="安装过程"><a href="#安装过程" class="headerlink" title="安装过程"></a>安装过程</h3><p>自行百度</p><h3 id="部署Hexo博客到Coding-me"><a href="#部署Hexo博客到Coding-me" class="headerlink" title="部署Hexo博客到Coding.me"></a>部署Hexo博客到Coding.me</h3><p>首先你要登录 <a href="http://Coding.me/" target="_blank" rel="noopener">http://Coding.me</a> 然后访问 <a href="https://coding.net/user/projects" target="_blank" rel="noopener">https://coding.net/user/projects</a> 添加博客。</p><p>项目名称填写如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;username&gt;.coding.me</span><br></pre></td></tr></table></figure><p>例如我的：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lfoder.coding.me</span><br></pre></td></tr></table></figure><p>项目名称填写你的域名，这里使用的是Coding提供的二级域名。</p><p>勾选 <code>启用 README.md 文件初始化项目</code></p><p>其他选项，请随意。</p><p>然后点 <code>新建项目</code></p><p>然后再访问 <a href="https://coding.net/user/projects" target="_blank" rel="noopener">https://coding.net/user/projects</a> 点击选择你创建的项目。</p><ul><li>开启Pages服务</li></ul><p>左边选择  代码 =&gt; Pages 服务 =&gt; 静态 Pages =&gt; 部署来源 =&gt; 选择你的master分支 =&gt; 保存 </p><p>当然你也可以开启下面的 <code>强制HTTPS访问</code> 服务 (可选)</p><ul><li>部署公钥</li></ul><p>左边选择  设置 =&gt; 部署公钥 =&gt; 新建部署公钥</p><p>然后回到你本机 (我的系统是MacOS，Windows未测) 使用 <code>ssh-keygen -t rsa</code> 命令 一路回车，即可生成公钥。</p><p>然后使用 <code>cat ~/.ssh/id_rsa.pub</code> 来获取你的公钥。</p><p>回到浏览器你刚才<strong>新建部署公钥</strong>的地方，在公钥内容中填写你的公钥，并勾选<strong>授予推送权限</strong>，其他请随意，确认即可。</p><p>然后回到你的博客目录，找到 <code>_config.yml</code> 文件，编辑它！</p><p>内容部分参考这里照葫芦画瓢：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  branch: master</span><br><span class="line">  repo:</span><br><span class="line">    - git@github.com:lfoder/lfoder.github.io.git</span><br><span class="line">    - git@git.coding.net:lfoder/lfoder.coding.me.git</span><br></pre></td></tr></table></figure><p>repo是仓库列表，下面两个分别是Github的仓库和Coding的仓库，这个瓢你可以这么画:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git@&lt;仓库托管网站域名&gt;:&lt;账户名&gt;/&lt;项目名&gt;.git</span><br></pre></td></tr></table></figure><p>然后画好了按照这个格式，写到你的 <code>_config.yml</code> 文件中。</p><p>此时编辑你的博客，使用 <code>hexo s</code> 来预览效果，使用 <code>hexo d -G</code> 来上传到两个托管平台。</p><p>过一小会儿…</p><p>你就会发现两个平台都已经有你的博客了。</p><p>访问地址分别是：</p><p>Github =&gt;  <a href="http://lfoder.github.io">http://lfoder.github.io</a></p><p>Coding =&gt; <a href="http://lfoder.github.io">http://lfoder.coding.me</a></p><p>Have fun !!</p>]]></content>
    
    <summary type="html">
    
      使用 Coding.me 免费提供的Pages服务来部署托管自己的静态博客,可以尝试访问 http://lfoder.coding.me 和 http://lfoder.github.io
    
    </summary>
    
      <category term="Hexo 笔记" scheme="http://lfoder.github.io/categories/Hexo-%E7%AC%94%E8%AE%B0/"/>
    
    
  </entry>
  
  <entry>
    <title>Golang编写判断IP是否能够Ping通</title>
    <link href="http://lfoder.github.io/2018/06/07/Golang%E7%BC%96%E5%86%99%E5%88%A4%E6%96%ADIP%E6%98%AF%E5%90%A6%E8%83%BD%E5%A4%9FPing%E9%80%9A/"/>
    <id>http://lfoder.github.io/2018/06/07/Golang编写判断IP是否能够Ping通/</id>
    <published>2018-06-07T06:10:07.000Z</published>
    <updated>2018-06-17T15:27:29.000Z</updated>
    
    <content type="html"><![CDATA[<p>人狠话不多，请看代码：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">"time"</span></span><br><span class="line"><span class="string">"net"</span></span><br><span class="line"><span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">isping</span><span class="params">(ip <span class="keyword">string</span>)</span> <span class="params">(<span class="keyword">bool</span>)</span></span> &#123;</span><br><span class="line">recvBuf1 := <span class="built_in">make</span>([]<span class="keyword">byte</span>, <span class="number">2048</span>)</span><br><span class="line">payload:=[]<span class="keyword">byte</span>&#123;<span class="number">0x08</span>,<span class="number">0x00</span>,<span class="number">0x4d</span>,<span class="number">0x4b</span>,<span class="number">0x00</span>,<span class="number">0x01</span>,<span class="number">0x00</span>,<span class="number">0x10</span>,<span class="number">0x61</span>,<span class="number">0x62</span>,<span class="number">0x63</span>,<span class="number">0x64</span>,<span class="number">0x65</span>,<span class="number">0x66</span>,<span class="number">0x67</span>,<span class="number">0x68</span>,<span class="number">0x69</span>,<span class="number">0x6a</span>,<span class="number">0x6b</span>,<span class="number">0x6c</span>,<span class="number">0x6d</span>,<span class="number">0x6e</span>,<span class="number">0x6f</span>,<span class="number">0x70</span>,<span class="number">0x71</span>,<span class="number">0x72</span>,<span class="number">0x73</span>,<span class="number">0x74</span>,<span class="number">0x75</span>,<span class="number">0x76</span>,<span class="number">0x77</span>,<span class="number">0x61</span>,<span class="number">0x62</span>,<span class="number">0x63</span>,<span class="number">0x64</span>,<span class="number">0x65</span>,<span class="number">0x66</span>,<span class="number">0x67</span>,<span class="number">0x68</span>,<span class="number">0x69</span>&#125;</span><br><span class="line">Time, _ := time.ParseDuration(<span class="string">"3s"</span>)</span><br><span class="line">conn, err := net.DialTimeout(<span class="string">"ip4:icmp"</span>, ip,Time)</span><br><span class="line"><span class="keyword">if</span> err !=<span class="literal">nil</span> &#123;</span><br><span class="line">fmt.Println(<span class="string">"bibi"</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line">_,err=conn.Write(payload)</span><br><span class="line"><span class="keyword">if</span> err !=<span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line">conn.SetReadDeadline(time.Now().Add(time.Second * <span class="number">2</span>))</span><br><span class="line">num, err := conn.Read(recvBuf1[<span class="number">0</span>:])</span><br><span class="line"><span class="keyword">if</span> err !=<span class="literal">nil</span> &#123;</span><br><span class="line"><span class="comment">//check 80 3389 443 22 port</span></span><br><span class="line">Timetcp, _ := time.ParseDuration(<span class="string">"1s"</span>)</span><br><span class="line">conn1, err := net.DialTimeout(<span class="string">"tcp"</span>, ip+<span class="string">":80"</span>,Timetcp)</span><br><span class="line"><span class="keyword">if</span> err == <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">defer</span> conn1.Close()</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">conn2, err := net.DialTimeout(<span class="string">"tcp"</span>, ip+<span class="string">":443"</span>,Timetcp)</span><br><span class="line"><span class="keyword">if</span> err == <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">defer</span> conn2.Close()</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">conn3, err := net.DialTimeout(<span class="string">"tcp"</span>, ip+<span class="string">":3389"</span>,Timetcp)</span><br><span class="line"><span class="keyword">if</span> err == <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">defer</span> conn3.Close()</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">conn4, err := net.DialTimeout(<span class="string">"tcp"</span>, ip+<span class="string">":22"</span>,Timetcp)</span><br><span class="line"><span class="keyword">if</span> err == <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">defer</span> conn4.Close()</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line">conn.SetReadDeadline(time.Time&#123;&#125;)</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">string</span>(recvBuf1[<span class="number">0</span>:num]) !=<span class="string">""</span> &#123;</span><br><span class="line"><span class="keyword">return</span>  <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line">ip := <span class="string">"172.8.47.213"</span></span><br><span class="line">fmt.Println(isping(ip))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      使用Golang语言编写判断IP是否能ping通的代码
    
    </summary>
    
      <category term="Golang 编程" scheme="http://lfoder.github.io/categories/Golang-%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="Golang" scheme="http://lfoder.github.io/tags/Golang/"/>
    
      <category term="Ping" scheme="http://lfoder.github.io/tags/Ping/"/>
    
  </entry>
  
  <entry>
    <title>Golang编写通过CIDR遍历IP地址</title>
    <link href="http://lfoder.github.io/2018/06/07/Golang%E7%BC%96%E5%86%99%E9%80%9A%E8%BF%87CIDR%E9%81%8D%E5%8E%86IP%E5%9C%B0%E5%9D%80/"/>
    <id>http://lfoder.github.io/2018/06/07/Golang编写通过CIDR遍历IP地址/</id>
    <published>2018-06-07T06:06:10.000Z</published>
    <updated>2018-06-17T15:27:27.000Z</updated>
    
    <content type="html"><![CDATA[<p>人狠话不多，请看代码：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">"net"</span></span><br><span class="line"><span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">hosts</span><span class="params">(cidr <span class="keyword">string</span>)</span> <span class="params">([]<span class="keyword">string</span>, error)</span></span> &#123;</span><br><span class="line">ip, ipnet, err := net.ParseCIDR(cidr)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span>, err</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ips []<span class="keyword">string</span></span><br><span class="line"><span class="keyword">for</span> ip := ip.Mask(ipnet.Mask); ipnet.Contains(ip); inc(ip) &#123;</span><br><span class="line">ips = <span class="built_in">append</span>(ips, ip.String())</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> ips[<span class="number">1</span> : <span class="built_in">len</span>(ips)<span class="number">-1</span>], <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">inc</span><span class="params">(ip net.IP)</span></span> &#123;</span><br><span class="line"><span class="keyword">for</span> j := <span class="built_in">len</span>(ip) - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j-- &#123;</span><br><span class="line">ip[j]++</span><br><span class="line"><span class="keyword">if</span> ip[j] &gt; <span class="number">0</span> &#123;</span><br><span class="line"><span class="keyword">break</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line">hosts, _ := hosts(<span class="string">"192.168.11.9/27"</span>)</span><br><span class="line"><span class="keyword">for</span> _, ip := <span class="keyword">range</span> hosts &#123;</span><br><span class="line"> fmt.Println(<span class="string">"sent: "</span> + ip)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      使用Golang语言编写通过CIDR遍历生成IP地址列表
    
    </summary>
    
      <category term="Golang 编程" scheme="http://lfoder.github.io/categories/Golang-%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="Golang" scheme="http://lfoder.github.io/tags/Golang/"/>
    
      <category term="CIDR" scheme="http://lfoder.github.io/tags/CIDR/"/>
    
      <category term="遍历生成IP" scheme="http://lfoder.github.io/tags/%E9%81%8D%E5%8E%86%E7%94%9F%E6%88%90IP/"/>
    
  </entry>
  
  <entry>
    <title>Golang编写检测端口是否为HTTPS</title>
    <link href="http://lfoder.github.io/2018/06/07/Golang%E7%BC%96%E5%86%99%E6%A3%80%E6%B5%8B%E7%AB%AF%E5%8F%A3%E6%98%AF%E5%90%A6%E4%B8%BAHTTPS/"/>
    <id>http://lfoder.github.io/2018/06/07/Golang编写检测端口是否为HTTPS/</id>
    <published>2018-06-07T06:02:30.000Z</published>
    <updated>2018-06-17T15:27:32.000Z</updated>
    
    <content type="html"><![CDATA[<p>人狠话不多，请看代码:</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">"fmt"</span></span><br><span class="line"><span class="string">"time"</span></span><br><span class="line"><span class="string">"net"</span></span><br><span class="line"><span class="string">"strconv"</span></span><br><span class="line"><span class="string">"os"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">t:=[]<span class="keyword">byte</span>&#123;<span class="number">0x16</span>,<span class="number">0x03</span>,<span class="number">0x01</span>,<span class="number">0x00</span>,<span class="number">0xb5</span>,<span class="number">0x01</span>,<span class="number">0x00</span>,<span class="number">0x00</span>,<span class="number">0xb1</span>,<span class="number">0x03</span>,<span class="number">0x03</span>,<span class="number">0xb2</span>,<span class="number">0xd3</span>,<span class="number">0x4d</span>,<span class="number">0xfd</span>,<span class="number">0x63</span>,<span class="number">0xbe</span>,<span class="number">0x89</span>,<span class="number">0xdb</span>,<span class="number">0xe5</span>,<span class="number">0x46</span>,<span class="number">0xcc</span>,<span class="number">0xaf</span>,<span class="number">0x39</span>,<span class="number">0x6e</span>,<span class="number">0xba</span>,<span class="number">0x63</span>,<span class="number">0x63</span>,<span class="number">0x75</span>,<span class="number">0xce</span>,<span class="number">0x30</span>,<span class="number">0xda</span>,<span class="number">0xe0</span>,<span class="number">0x4f</span>,<span class="number">0xab</span>,<span class="number">0xa2</span>,<span class="number">0x3e</span>,<span class="number">0x50</span>,<span class="number">0xea</span>,<span class="number">0x41</span>,<span class="number">0x20</span>,<span class="number">0x10</span>,<span class="number">0xc4</span>,<span class="number">0x00</span>,<span class="number">0x00</span>,<span class="number">0x18</span>,<span class="number">0xc0</span>,<span class="number">0x2b</span>,<span class="number">0xc0</span>,<span class="number">0x2f</span>,<span class="number">0xc0</span>,<span class="number">0x2c</span>,<span class="number">0xc0</span>,<span class="number">0x30</span>,<span class="number">0xc0</span>,<span class="number">0x13</span>,<span class="number">0xc0</span>,<span class="number">0x14</span>,<span class="number">0x00</span>,<span class="number">0x9c</span>,<span class="number">0x00</span>,<span class="number">0x9d</span>,<span class="number">0x00</span>,<span class="number">0x2f</span>,<span class="number">0x00</span>,<span class="number">0x35</span>,<span class="number">0x00</span>,<span class="number">0x0a</span>,<span class="number">0x00</span>,<span class="number">0xff</span>,<span class="number">0x01</span>,<span class="number">0x00</span>,<span class="number">0x00</span>,<span class="number">0x70</span>,<span class="number">0x00</span>,<span class="number">0x00</span>,<span class="number">0x00</span>,<span class="number">0x15</span>,<span class="number">0x00</span>,<span class="number">0x13</span>,<span class="number">0x00</span>,<span class="number">0x00</span>,<span class="number">0x10</span>,<span class="number">0x77</span>,<span class="number">0x77</span>,<span class="number">0x77</span>,<span class="number">0x2e</span>,<span class="number">0x73</span>,<span class="number">0x6f</span>,<span class="number">0x2d</span>,<span class="number">0x63</span>,<span class="number">0x6f</span>,<span class="number">0x6f</span>,<span class="number">0x6c</span>,<span class="number">0x73</span>,<span class="number">0x2e</span>,<span class="number">0x63</span>,<span class="number">0x6f</span>,<span class="number">0x6d</span>,<span class="number">0x00</span>,<span class="number">0x0b</span>,<span class="number">0x00</span>,<span class="number">0x04</span>,<span class="number">0x03</span>,<span class="number">0x00</span>,<span class="number">0x01</span>,<span class="number">0x02</span>,<span class="number">0x00</span>,<span class="number">0x0a</span>,<span class="number">0x00</span>,<span class="number">0x06</span>,<span class="number">0x00</span>,<span class="number">0x04</span>,<span class="number">0x00</span>,<span class="number">0x17</span>,<span class="number">0x00</span>,<span class="number">0x18</span>,<span class="number">0x00</span>,<span class="number">0x23</span>,<span class="number">0x00</span>,<span class="number">0x00</span>,<span class="number">0x00</span>,<span class="number">0x0d</span>,<span class="number">0x00</span>,<span class="number">0x20</span>,<span class="number">0x00</span>,<span class="number">0x1e</span>,<span class="number">0x06</span>,<span class="number">0x01</span>,<span class="number">0x06</span>,<span class="number">0x02</span>,<span class="number">0x06</span>,<span class="number">0x03</span>,<span class="number">0x05</span>,<span class="number">0x01</span>,<span class="number">0x05</span>,<span class="number">0x02</span>,<span class="number">0x05</span>,<span class="number">0x03</span>,<span class="number">0x04</span>,<span class="number">0x01</span>,<span class="number">0x04</span>,<span class="number">0x02</span>,<span class="number">0x04</span>,<span class="number">0x03</span>,<span class="number">0x03</span>,<span class="number">0x01</span>,<span class="number">0x03</span>,<span class="number">0x02</span>,<span class="number">0x03</span>,<span class="number">0x03</span>,<span class="number">0x02</span>,<span class="number">0x01</span>,<span class="number">0x02</span>,<span class="number">0x02</span>,<span class="number">0x02</span>,<span class="number">0x03</span>,<span class="number">0x00</span>,<span class="number">0x05</span>,<span class="number">0x00</span>,<span class="number">0x05</span>,<span class="number">0x01</span>,<span class="number">0x00</span>,<span class="number">0x00</span>,<span class="number">0x00</span>,<span class="number">0x00</span>,<span class="number">0x00</span>,<span class="number">0x0f</span>,<span class="number">0x00</span>,<span class="number">0x01</span>,<span class="number">0x01</span>,<span class="number">0x00</span>,<span class="number">0x10</span>,<span class="number">0x00</span>,<span class="number">0x0b</span>,<span class="number">0x00</span>,<span class="number">0x09</span>,<span class="number">0x08</span>,<span class="number">0x68</span>,<span class="number">0x74</span>,<span class="number">0x74</span>,<span class="number">0x70</span>,<span class="number">0x2f</span>,<span class="number">0x31</span>,<span class="number">0x2e</span>,<span class="number">0x31</span>&#125;</span><br><span class="line"></span><br><span class="line">Target:=<span class="string">"115.239.210.27"</span></span><br><span class="line">port:=<span class="number">443</span></span><br><span class="line">Time, _ := time.ParseDuration(<span class="string">"1s"</span>)</span><br><span class="line">conn, err := net.DialTimeout(<span class="string">"tcp"</span>, Target+<span class="string">":"</span>+strconv.Itoa(port), Time )</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">fmt.Println(<span class="string">"ERR::"</span> + strconv.Itoa(port) + <span class="string">"&gt;"</span> + err.Error())</span><br><span class="line">os.Exit(<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line">conn.Write(t)</span><br><span class="line">recvBuf := <span class="built_in">make</span>([]<span class="keyword">byte</span>, <span class="number">2048</span>)</span><br><span class="line">conn.SetReadDeadline(time.Now().Add(time.Second * <span class="number">2</span>))</span><br><span class="line">_, err = conn.Read(recvBuf[:])</span><br><span class="line">conn.SetReadDeadline(time.Time&#123;&#125;)</span><br><span class="line">fmt.Println(<span class="string">"tlsinfo:"</span>)</span><br><span class="line">fmt.Println( <span class="keyword">string</span>(recvBuf[:]))</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">string</span>(recvBuf[<span class="number">0</span>:<span class="number">4</span>]) == <span class="keyword">string</span>([] <span class="keyword">byte</span> &#123;<span class="number">22</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">0</span>&#125;) &#123;</span><br><span class="line">fmt.Println(<span class="string">"this is tls ^_^"</span>)</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">fmt.Println(<span class="string">"this is not tls"</span>)</span><br><span class="line">&#125;</span><br><span class="line">conn.Close()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      Golang代码去编写一个判断端口是否使用HTTPS
    
    </summary>
    
      <category term="Golang 编程" scheme="http://lfoder.github.io/categories/Golang-%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="Golang" scheme="http://lfoder.github.io/tags/Golang/"/>
    
      <category term="HTTPS" scheme="http://lfoder.github.io/tags/HTTPS/"/>
    
  </entry>
  
  <entry>
    <title>iTunes备份iPhone系统在MacOS上的备份文件路径</title>
    <link href="http://lfoder.github.io/2018/06/06/iTunes%E5%A4%87%E4%BB%BDiPhone%E7%B3%BB%E7%BB%9F%E5%9C%A8MacOS%E4%B8%8A%E7%9A%84%E5%A4%87%E4%BB%BD%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84/"/>
    <id>http://lfoder.github.io/2018/06/06/iTunes备份iPhone系统在MacOS上的备份文件路径/</id>
    <published>2018-06-06T02:47:13.000Z</published>
    <updated>2018-06-06T02:52:57.000Z</updated>
    
    <content type="html"><![CDATA[<p>MacOS 的存储空间相当有限，用来存储iPhone的手机备份相当浪费，一个备份20多个G，伤不起…. 于是有了本文。</p><p>最简单的找到备份文件位置的方法：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/Library/Application\ Support/MobileSync/Backup</span><br><span class="line">open .</span><br></pre></td></tr></table></figure><p>此时弹出MacOS的Finder窗口，有一个Backup文件夹，这里面就是iPhone通过iTunes在MacOS上的备份文件路径，你可以拷贝到移动硬盘上以节省空间。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;MacOS 的存储空间相当有限，用来存储iPhone的手机备份相当浪费，一个备份20多个G，伤不起…. 于是有了本文。&lt;/p&gt;
&lt;p&gt;最简单的找到备份文件位置的方法：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td cla
      
    
    </summary>
    
    
      <category term="iOS备份" scheme="http://lfoder.github.io/tags/iOS%E5%A4%87%E4%BB%BD/"/>
    
      <category term="iTunes" scheme="http://lfoder.github.io/tags/iTunes/"/>
    
  </entry>
  
  <entry>
    <title>CTF比赛训练路线全导航</title>
    <link href="http://lfoder.github.io/2018/06/05/CTF%E6%AF%94%E8%B5%9B%E8%AE%AD%E7%BB%83%E8%B7%AF%E7%BA%BF%E5%85%A8%E5%AF%BC%E8%88%AA/"/>
    <id>http://lfoder.github.io/2018/06/05/CTF比赛训练路线全导航/</id>
    <published>2018-06-05T03:19:27.000Z</published>
    <updated>2018-06-05T03:19:42.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="CTF资讯信息"><a href="#CTF资讯信息" class="headerlink" title="CTF资讯信息"></a>CTF资讯信息</h3><h4 id="CTF-比赛资讯"><a href="#CTF-比赛资讯" class="headerlink" title="CTF 比赛资讯"></a>CTF 比赛资讯</h4><ul><li><a href="https://www.xctf.org.cn/" target="_blank" rel="noopener">XCTF社区</a></li><li><a href="https://www.ctftime.org" target="_blank" rel="noopener">CTFTime</a></li><li><a href="https://www.ctfrank.org/" target="_blank" rel="noopener">CTFRank</a></li></ul><h4 id="全球安全信息资讯"><a href="#全球安全信息资讯" class="headerlink" title="全球安全信息资讯"></a>全球安全信息资讯</h4><h5 id="国内安全资讯"><a href="#国内安全资讯" class="headerlink" title="国内安全资讯"></a>国内安全资讯</h5><ul><li><a href="http://www.freebuf.com" target="_blank" rel="noopener">Freebuf</a></li><li><a href="https://www.seebug.org/" target="_blank" rel="noopener">知道创宇</a></li><li><a href="http://www.sebug.org/" target="_blank" rel="noopener">SOBUG</a></li><li><a href="https://wiki.ioin.in/" target="_blank" rel="noopener">Sec-News</a></li><li><a href="http://www.4hou.com/" target="_blank" rel="noopener">嘶吼</a></li><li><p><a href="https://xz.aliyun.com/" target="_blank" rel="noopener">先知白帽社区</a></p><h5 id="国外安全资讯"><a href="#国外安全资讯" class="headerlink" title="国外安全资讯"></a>国外安全资讯</h5></li><li><p><a href="https://securitytracker.com/" target="_blank" rel="noopener">SecurityTracker</a></p></li><li><a href="https://www.securityfocus.com/" target="_blank" rel="noopener">SecurityFocus</a></li><li><a href="http://securityvulns.com/" target="_blank" rel="noopener">SecurityVulns</a></li><li><a href="http://www.securiteam.com/" target="_blank" rel="noopener">SecuriTeam</a></li><li><a href="https://packetstormsecurity.com/" target="_blank" rel="noopener">PacketStormSecurity</a></li><li><a href="https://www.blackmoreops.com/" target="_blank" rel="noopener">BlackMoreOps</a></li><li><a href="http://techgenix.com/top-tech-news/" target="_blank" rel="noopener">TechGenix</a></li></ul><h3 id="CTF综合训练营"><a href="#CTF综合训练营" class="headerlink" title="CTF综合训练营"></a>CTF综合训练营</h3><h4 id="国内CTF训练营"><a href="#国内CTF训练营" class="headerlink" title="国内CTF训练营"></a>国内CTF训练营</h4><ul><li><a href="http://ctf.bugku.com/" target="_blank" rel="noopener">BugKu</a></li><li><a href="http://ctf.nuptsast.com/" target="_blank" rel="noopener">南京邮电大学网络攻防训练平台</a></li><li><a href="http://www.sniperoj.com/" target="_blank" rel="noopener">SniperOJ</a></li><li><a href="https://www.jarvisoj.com/" target="_blank" rel="noopener">Jarvisoj</a></li><li><a href="http://www.fj543.com/hack/" target="_blank" rel="noopener">黑客丛林之旅</a>  </li><li><a href="http://monyer.com/game/game1/" target="_blank" rel="noopener">梦之光芒</a></li><li><a href="http://oj.xctf.org.cn/" target="_blank" rel="noopener">XCTF_OJ竞赛平台</a></li><li><a href="http://www.baimaoxueyuan.com/ctf" target="_blank" rel="noopener">白帽学院</a></li><li><a href="https://www.ichunqiu.com/battalion" target="_blank" rel="noopener">i春秋CTF训练营</a></li><li><a href="http://www.hetianlab.com/CTFrace.html" target="_blank" rel="noopener">合天网安实验室CTF训练平台</a></li><li><a href="http://www.shiyanbar.com/ctf/practice" target="_blank" rel="noopener">实验吧CTF训练平台</a></li><li><a href="https://ctf-wiki.github.io/ctf-wiki/introduction/resources/" target="_blank" rel="noopener">CTF WiKi</a></li><li><a href="https://ctflearn.com/" target="_blank" rel="noopener">CTFLearn</a></li></ul><h4 id="国外CTF训练营"><a href="#国外CTF训练营" class="headerlink" title="国外CTF训练营"></a>国外CTF训练营</h4><ul><li><a href="http://www.wechall.net/" target="_blank" rel="noopener">WeChall.Net</a></li><li><a href="http://wargame.kr/" target="_blank" rel="noopener">WarGame.Kr</a></li><li><a href="http://webhacking.kr/" target="_blank" rel="noopener">WebHacking.Kr</a></li><li><a href="http://fun.coolshell.cn/" target="_blank" rel="noopener">CoolShell.cn</a></li><li><a href="https://backdoor.sdslabs.co/" target="_blank" rel="noopener">SdsLabs.co</a></li><li><a href="http://smashthestack.org/" target="_blank" rel="noopener">SmashTheStack</a></li></ul><h4 id="CTF-Writeup-知识库"><a href="#CTF-Writeup-知识库" class="headerlink" title="CTF Writeup 知识库"></a>CTF Writeup 知识库</h4><ul><li><a href="http://bobao.360.cn/ctf/" target="_blank" rel="noopener">安全客CTF攻略</a></li><li><a href="https://github.com/ctfs/" target="_blank" rel="noopener">Github CTFs WriteUp</a></li><li><a href="https://github.com/p4-team/ctf" target="_blank" rel="noopener">Github CTF WriteUp P4-Team</a></li><li><a href="http://yka.me/#!index.md" target="_blank" rel="noopener">Yka.me</a></li><li><a href="https://github.com/VulnHub/ctf-writeups" target="_blank" rel="noopener">VulnHub-CTFTime</a></li><li><a href="http://captf.com/" target="_blank" rel="noopener">Capture the Flag</a></li><li><a href="http://www.blue-lotus.net/" target="_blank" rel="noopener">Blue-Lotus</a></li><li><a href="http://blog.0ops.net/" target="_blank" rel="noopener">Oops.Net</a></li><li><a href="http://www.programlife.net/category/ctf" target="_blank" rel="noopener">ProgramLife</a></li><li><a href="https://bl4ck.in/" target="_blank" rel="noopener">Bl4ck.in</a></li></ul><h3 id="CTF分项训练营"><a href="#CTF分项训练营" class="headerlink" title="CTF分项训练营"></a>CTF分项训练营</h3><h4 id="逆向-Reverse"><a href="#逆向-Reverse" class="headerlink" title="逆向 Reverse"></a>逆向 Reverse</h4><ul><li><a href="https://www.52pojie.cn/forum-67-1.html" target="_blank" rel="noopener">吾爱破解论坛 2014 CrackMe安全挑战赛</a></li><li><a href="https://www.52pojie.cn/forum-71-1.html" target="_blank" rel="noopener">吾爱破解论坛 2016 CrackMe安全挑战赛</a></li><li><a href="https://ctf.pediy.com/" target="_blank" rel="noopener">看雪技术论坛 CTF安全挑战赛</a> </li><li><a href="https://www.kanxue.com/chm.htm" target="_blank" rel="noopener">看学技术论坛知识库</a></li><li><a href="http://reversing.kr/" target="_blank" rel="noopener">Reversing.Kr</a></li><li><a href="http://pwnable.kr/" target="_blank" rel="noopener">Pwnable.Kr</a></li><li><a href="https://exploit-exercises.com/" target="_blank" rel="noopener">Exploit Exercises</a></li><li><a href="http://overthewire.org/wargames/" target="_blank" rel="noopener">OverTheWire</a></li><li><a href="http://security.cs.rpi.edu/courses/binexp-spring2015/" target="_blank" rel="noopener">Modern Binary Exploitation</a></li><li><a href="https://github.com/CHYbeta/Software-Security-Learning" target="_blank" rel="noopener">SoftWare-Security-Learning</a></li></ul><h4 id="Pwn"><a href="#Pwn" class="headerlink" title="Pwn"></a>Pwn</h4><ul><li><a href="http://pwnhub.cn/" target="_blank" rel="noopener">PwnHub</a></li></ul><h4 id="Web攻防"><a href="#Web攻防" class="headerlink" title="Web攻防"></a>Web攻防</h4><h5 id="SQLi-注入"><a href="#SQLi-注入" class="headerlink" title="SQLi 注入"></a>SQLi 注入</h5><ul><li><a href="https://github.com/Audi-1/sqli-labs" target="_blank" rel="noopener">SQLi-Labs</a></li><li><a href="http://redtiger.labs.overthewire.org/" target="_blank" rel="noopener">OverTheWire - SQLi</a></li></ul><h5 id="XSS-跨站攻击"><a href="#XSS-跨站攻击" class="headerlink" title="XSS 跨站攻击"></a>XSS 跨站攻击</h5><ul><li><a href="http://prompt.ml/0" target="_blank" rel="noopener">Prompt.ML</a></li><li><a href="http://xss-quiz.int21h.jp/" target="_blank" rel="noopener">XSS Challenges</a></li><li><a href="https://alf.nu/alert1" target="_blank" rel="noopener">Alert(1) To Win</a></li><li><a href="https://github.com/evilcos/papers" target="_blank" rel="noopener">GitHub XSS Papers</a></li><li><a href="http://www.thespanner.co.uk/" target="_blank" rel="noopener">TheSpanner.co.uk</a></li><li><a href="http://xssor.io/" target="_blank" rel="noopener">XSS’OR</a></li><li><a href="https://github.com/CHYbeta/Web-Security-Learning" target="_blank" rel="noopener">Web-Security-Learning</a></li></ul><h4 id="Misc-脑洞"><a href="#Misc-脑洞" class="headerlink" title="Misc 脑洞"></a>Misc 脑洞</h4><ul><li><a href="http://www.ussrback.com/archives/Misc%20&amp;%20tools/" target="_blank" rel="noopener">Misc &amp; Tools</a></li></ul><h3 id="CTF-学习路线"><a href="#CTF-学习路线" class="headerlink" title="CTF 学习路线"></a>CTF 学习路线</h3><ul><li><a href="https://skills.bugbank.cn/" target="_blank" rel="noopener">漏洞银行技能树</a></li><li><a href="https://github.com/phith0n/Mind-Map" target="_blank" rel="noopener">GitHub 安全学习脑图</a></li><li><a href="http://evilcos.me/security_skill_tree_basic/index.html" target="_blank" rel="noopener">安全技能树简版</a></li><li><a href="http://blog.knownsec.com/Knownsec_RD_Checklist/index.html" target="_blank" rel="noopener">知道创宇技能树</a></li><li><a href="https://butian.360.cn/School/index" target="_blank" rel="noopener">360补天平台 - 白帽众学</a></li><li><a href="http://toutiao.secjia.com/ctf-game-experience" target="_blank" rel="noopener">CTF赛棍夺旗经验分享</a></li></ul><h3 id="CTF-刷题常用工具集"><a href="#CTF-刷题常用工具集" class="headerlink" title="CTF 刷题常用工具集"></a>CTF 刷题常用工具集</h3><ul><li><a href="http://ctf.ssleye.com/" target="_blank" rel="noopener">CTF在线工具集(SSLEyes)</a></li><li><a href="http://tool.bugku.com/" target="_blank" rel="noopener">CTF在线工具集(BugKu)</a></li><li><a href="https://tools.pediy.com/" target="_blank" rel="noopener">看雪逆向工具</a></li><li><a href="https://www.ctftools.com/down/" target="_blank" rel="noopener">CTFTools</a></li><li><a href="https://github.com/zardus/ctf-tools" target="_blank" rel="noopener">CTF Tools for Github</a></li><li><a href="http://www.s0ftpj.org/" target="_blank" rel="noopener">s0ftpj.org</a></li><li><a href="http://www.ussrback.com/files.html" target="_blank" rel="noopener">UssrBack</a></li><li><a href="https://www.soldierx.com/Tools" target="_blank" rel="noopener">Soldierx - Tools</a></li></ul>]]></content>
    
    <summary type="html">
    
      记录CTF相关的所有需要的信息，包括CTF训练平台，经验分享，在线与离线工具，资讯社区等  (长期更新)
    
    </summary>
    
      <category term="CTF竞赛" scheme="http://lfoder.github.io/categories/CTF%E7%AB%9E%E8%B5%9B/"/>
    
    
      <category term="CTF" scheme="http://lfoder.github.io/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>Adobe Photoshop CS6 for Mac (支持Retina屏) 官方简体破解版</title>
    <link href="http://lfoder.github.io/2018/05/19/Adobe-Photoshop-CS6-for-Mac-%E6%94%AF%E6%8C%81Retina%E5%B1%8F-%E5%AE%98%E6%96%B9%E7%AE%80%E4%BD%93%E7%A0%B4%E8%A7%A3%E7%89%88/"/>
    <id>http://lfoder.github.io/2018/05/19/Adobe-Photoshop-CS6-for-Mac-支持Retina屏-官方简体破解版/</id>
    <published>2018-05-19T14:19:25.000Z</published>
    <updated>2018-05-19T14:28:44.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Adobe PhotoShop CS6 for Mac特别说明</strong></p><p>1.如果想要Photoshop Extended 版本，你需要在替换amtlb.framework 之前先启动 PS 至少一次，然后退出，再替换破解版的amtlb.framework。</p><p>2.根据 Adobe 的 FAQ，Adobe cs6大师版的一些程序并不提供试用版，而是必须提供序列号才可启动程序的高级功能，因此需要填写序列号。</p><p>把这些需要序列号才能运行的程序还原回amtlib.framework 的原版；断网，启动程序，填入序列号，并选择“稍后连接”（<strong>序列号：1325-0949-2080-9819-3777-3230 或者1325-0160-5283-9851-2671-8951</strong>），退出，替换破解的 amtlib.framework；这类程序包括 distiller 和 aftereffects。</p><p><strong>Photoshop CS6破解补丁下载：</strong><a href="http://www.jb51.net/softs/135369.html" target="_blank" rel="noopener">www.jb51.net/softs/135369.html</a></p><p>详细的介绍不用多说了，相信大家都知道自己要下载的软件是什么，下面将为大家介绍一下安装与破解的方法：</p><p>1、安装前先断网</p><p>如果不断网的话还需要先申请一个Adobe ID，是免费申请</p><p>2、开始安装，选择“试用”，然后就开始安装了，一直等到安装完毕。</p><p><img src="http://files.jb51.net/file_images/article/201406/20140612102541111.png" alt=""></p><p>3、断网状态打开PS，（先联网还是会让输入ADOBE 的id和密码的）然后再联网，点击“帮助”，然后点“更新”，在线下载Retina补丁然后安装。</p><p>4、下载破解补丁，解开压缩。</p><p>5、在“应用程序”文件夹，找到Adobe Photoshop CS6文件夹,在里面找到Adobe Photoshop CS6.app，右键，选择“显示包内容”，如下图所示：</p><p><img src="http://files.jb51.net/file_images/article/201406/20140612102541112.jpg" alt=""></p><p>6、然后找到contents/framework文件夹，把刚才下载并解压的amtlib.framework拷贝进去，替换原文件。</p><p><img src="http://files.jb51.net/file_images/article/201406/20140612102541113.jpg" alt="img"></p><p>7、支持Retina屏的PHOTOSHOP CS6 MAC版破解就完成了。</p><p>如果提示关闭对8号字体和更小字体的文本平滑处理，请点击：系统偏好设置－通用。</p><p><img src="http://files.jb51.net/file_images/article/201406/20140612102541114.png" alt="img"></p><p>按上图设置就ok了。</p><p>到此就完成了，如下图：</p><p><img src="http://files.jb51.net/file_images/article/201406/20140612102541115.png" alt="img"></p><p>下载地址：</p><p><a href="https://pan.baidu.com/s/1qWnZaMw" target="_blank" rel="noopener">https://pan.baidu.com/s/1qWnZaMw</a></p>]]></content>
    
    <summary type="html">
    
      Adobe Photoshop CS6 for Mac (支持Retina屏) 官方简体破解版
    
    </summary>
    
    
      <category term="PhotoShop" scheme="http://lfoder.github.io/tags/PhotoShop/"/>
    
  </entry>
  
  <entry>
    <title>MacOS下vim爬坑笔记</title>
    <link href="http://lfoder.github.io/2018/05/16/MacOS%E4%B8%8Bvim%E7%88%AC%E5%9D%91%E7%AC%94%E8%AE%B0/"/>
    <id>http://lfoder.github.io/2018/05/16/MacOS下vim爬坑笔记/</id>
    <published>2018-05-16T03:04:43.000Z</published>
    <updated>2018-05-16T06:01:41.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="MacOS下的VIM爬坑笔记"><a href="#MacOS下的VIM爬坑笔记" class="headerlink" title="MacOS下的VIM爬坑笔记"></a>MacOS下的VIM爬坑笔记</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install vim</span><br></pre></td></tr></table></figure><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p>MacOS下的vim配置文件 <code>vimrc</code> 在 <code>/usr/share/vim/vimrc</code> 这个位置。</p><p>以下是我的配置：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&quot; Configuration file for vim</span><br><span class="line">set modelines=0     &quot; CVE-2007-2438</span><br><span class="line"></span><br><span class="line">&quot; Normally we use vim-extensions. If you want true vi-compatibility</span><br><span class="line">&quot; remove change the following statements</span><br><span class="line">set nocompatible    &quot; Use Vim defaults instead of 100% vi compatibility</span><br><span class="line">set backspace=2     &quot; more powerful backspacing</span><br><span class="line"></span><br><span class="line">&quot; Don&apos;t write backup file if vim is being called by &quot;crontab -e&quot;</span><br><span class="line">au BufWrite /private/tmp/crontab.* set nowritebackup nobackup</span><br><span class="line">&quot; Don&apos;t write backup file if vim is being called by &quot;chpass&quot;</span><br><span class="line">au BufWrite /private/etc/pw.* set nowritebackup nobackup</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&quot; Custom Configure Start</span><br><span class="line"></span><br><span class="line">&quot; 自动检测语法高亮</span><br><span class="line">syntax on</span><br><span class="line">&quot; Tab替换为4个空格</span><br><span class="line">set ts=4</span><br><span class="line">set expandtab</span><br><span class="line">&quot; 搜索结果高亮 (取消方法  :nohls)</span><br><span class="line">set hlsearch</span><br><span class="line"></span><br><span class="line">&quot; Custom Configure End</span><br></pre></td></tr></table></figure><h3 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h3><h4 id="安装插件管理器"><a href="#安装插件管理器" class="headerlink" title="安装插件管理器"></a>安装插件管理器</h4><p>vim插件管理工具可以让插件安装变得简单快捷，vim的插件管理工具也有很多，这里选用 <a href="https://github.com/tpope/vim-pathogen" target="_blank" rel="noopener">vim-pathogen</a> （<a href="https://github.com/tpope/vim-pathogen" target="_blank" rel="noopener">https://github.com/tpope/vim-pathogen</a>），安装很简单</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p ~/.vim/autoload ~/.vim/bundle</span><br></pre></td></tr></table></figure><p>下载 vim-pathogen 到 ~/.vim/autoload</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -LSso ~/.vim/autoload/pathogen.vim https://tpo.pe/pathogen.vim</span><br></pre></td></tr></table></figure><p>编辑  <code>/usr/share/vim/vimrc</code>  ，加入如下几行内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">execute pathogen#infect()</span><br><span class="line">syntax on</span><br><span class="line">filetype plugin indent on</span><br></pre></td></tr></table></figure><p>重启vim 即可安装成功，之后如果想要安装其他插件，只需把插件放到 ~/.vim/bundle 目录下， 重启vim ，vim-pathogen就会帮你自动安装好插件。例如安装</p><p>markdown：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd ~/.vim/bundle/</span><br><span class="line">git clone https://github.com/plasticboy/vim-markdown.git</span><br></pre></td></tr></table></figure><p>然后重启vim即可</p><h4 id="添加-vim-go-插件"><a href="#添加-vim-go-插件" class="headerlink" title="添加 vim-go 插件"></a>添加 vim-go 插件</h4><p>vim-go 是一款go代码高亮和语法检查的插件</p><p>如上所示安装方法，clone vim-go 到 ~/.vim/bundle 目录下即可</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd ~/.vim/bundle/</span><br><span class="line">git clone https://github.com/fatih/vim-go.git</span><br></pre></td></tr></table></figure><p>Via:<a href="https://blog.csdn.net/zhang197093/article/details/78559903?locationNum=5&amp;fps=1" target="_blank" rel="noopener">https://blog.csdn.net/zhang197093/article/details/78559903?locationNum=5&amp;fps=1</a></p><blockquote><p>启动vim出现错误：</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">vim-go requires Vim 7.4.1689 or Neovim, but you&apos;re using an older version.</span><br><span class="line">Please update your Vim for the best vim-go experience.</span><br><span class="line">If you really want to continue you can set this to make the error go away:</span><br><span class="line">    let g:go_version_warning = 0</span><br><span class="line">Note that some features may error out or behave incorrectly.</span><br><span class="line">Please do not report bugs unless you&apos;re using Vim 7.4.1689 or newer.</span><br><span class="line"></span><br><span class="line">Press ENTER or type command to continue</span><br></pre></td></tr></table></figure><blockquote><p>解决方案：</p></blockquote><p>添加 <code>let g:go_version_warning = 0</code> 到 vimrc文件中。</p>]]></content>
    
    <summary type="html">
    
      针对MacOS系统的vim安装、配置、优化、插件管理、可视化编程等...
    
    </summary>
    
    
      <category term="MacOS" scheme="http://lfoder.github.io/tags/MacOS/"/>
    
      <category term="vim" scheme="http://lfoder.github.io/tags/vim/"/>
    
  </entry>
  
  <entry>
    <title>树莓派配置配置VNC服务并开机启动</title>
    <link href="http://lfoder.github.io/2018/05/12/%E6%A0%91%E8%8E%93%E6%B4%BE%E9%85%8D%E7%BD%AE%E9%85%8D%E7%BD%AEVNC%E6%9C%8D%E5%8A%A1%E5%B9%B6%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8/"/>
    <id>http://lfoder.github.io/2018/05/12/树莓派配置配置VNC服务并开机启动/</id>
    <published>2018-05-12T09:39:20.000Z</published>
    <updated>2018-05-12T09:54:47.000Z</updated>
    
    <content type="html"><![CDATA[<p>首先进入SSH进入树莓派系统</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo raspi-config</span><br></pre></td></tr></table></figure><p>进入树莓派配置页面</p><p>选择 第5项  <strong>5 Interfacing Options</strong>，回车进入</p><p>然后选择第3项 <strong>P3 VNC</strong>， 回车进入，选择 <code>yes</code></p><p>然后Finish  重启树莓派 SSH 登录。</p><p>开始配置树莓派VNC服务启动脚本</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/init.d/vncserver</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line">### BEGIN INIT INFO</span><br><span class="line"># Provides:          vncserver</span><br><span class="line"># Required-Start:    $local_fs</span><br><span class="line"># Required-Stop:     $local_fs</span><br><span class="line"># Default-Start:     2 3 4 5</span><br><span class="line"># Default-Stop:      0 1 6</span><br><span class="line"># Short-Description: Start/stop vncserver</span><br><span class="line">### END INIT INFO</span><br><span class="line"> </span><br><span class="line"># More details see:</span><br><span class="line"># http://www.penguintutor.com/linux/vnc</span><br><span class="line"> </span><br><span class="line">### Customize this entry</span><br><span class="line"># Set the USER variable to the name of the user to start vncserver under</span><br><span class="line">export USER=&apos;pi&apos;</span><br><span class="line">### End customization required</span><br><span class="line"> </span><br><span class="line">eval cd ~$USER</span><br><span class="line"> </span><br><span class="line">case &quot;$1&quot; in</span><br><span class="line">  start)</span><br><span class="line">    # 启动命令行。此处自定义分辨率、控制台号码或其它参数。</span><br><span class="line">    su $USER -c &apos;/usr/bin/vncserver -depth 16 -geometry 1024x768 :1&apos;</span><br><span class="line">    echo &quot;Starting VNC server for $USER &quot;</span><br><span class="line">    ;;</span><br><span class="line">  stop)</span><br><span class="line">    # 终止命令行。此处控制台号码与启动一致。</span><br><span class="line">    su $USER -c &apos;/usr/bin/vncserver -kill :1&apos;</span><br><span class="line">    echo &quot;vncserver stopped&quot;</span><br><span class="line">    ;;</span><br><span class="line">  *)</span><br><span class="line">    echo &quot;Usage: /etc/init.d/vncserver &#123;start|stop&#125;&quot;</span><br><span class="line">    exit 1</span><br><span class="line">    ;;</span><br><span class="line">esac</span><br><span class="line">exit 0</span><br></pre></td></tr></table></figure><p>写入以上内容，保存退出。</p><p>然后 修改权限</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod 755 /etc/init.d/vncserver</span><br></pre></td></tr></table></figure><p>然后 添加开机启动项</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo update-rc.d vncserver defaults</span><br></pre></td></tr></table></figure><p>最后 重启树莓派</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo reboot</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      树莓派配置VNC服务并开机启动
    
    </summary>
    
      <category term="Raspberry Pi 笔记" scheme="http://lfoder.github.io/categories/Raspberry-Pi-%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="树莓派" scheme="http://lfoder.github.io/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/"/>
    
      <category term="Raspberry Pi" scheme="http://lfoder.github.io/tags/Raspberry-Pi/"/>
    
  </entry>
  
  <entry>
    <title>SSH无密码登录 - authorized_keys认证登录</title>
    <link href="http://lfoder.github.io/2018/05/12/SSH%E6%97%A0%E5%AF%86%E7%A0%81%E7%99%BB%E5%BD%95-authorized-keys%E8%AE%A4%E8%AF%81%E7%99%BB%E5%BD%95/"/>
    <id>http://lfoder.github.io/2018/05/12/SSH无密码登录-authorized-keys认证登录/</id>
    <published>2018-05-12T09:24:56.000Z</published>
    <updated>2018-05-12T09:30:40.000Z</updated>
    
    <content type="html"><![CDATA[<p>1、ssh-keygen做密码验证可以使在向对方机器上ssh ,scp不用使用密码.具体方法如下:<br>2、两个节点都执行操作：</p><p><strong>#ssh-keygen -t rsa</strong><br> 然后全部回车,采用默认值.<br>3、这样生成了一对密钥，存放在用户目录的~/.ssh下。<br><strong>将公钥考到对方机器的用户目录下</strong>，并将其复制到~/.ssh/authorized_keys中（操作命令：<strong>#cat id_dsa.pub &gt;&gt; ~/.ssh/authorized_keys</strong>）。</p><p>4、设置文件和目录权限：</p><p>设置authorized_keys权限<br>$ chmod 600 authorized_keys<br>设置.ssh目录权限<br>$ chmod 700 -R .ssh</p><p> 5、要保证.ssh和authorized_keys都只有用户自己有写权限。否则验证无效。（今天就是遇到这个问题，找了好久问题所在），其实仔细想想，这样做是为了不会出现系统漏洞。</p><blockquote><p>资源来自：<a href="https://blog.csdn.net/xiaoyida11/article/details/51557174" target="_blank" rel="noopener">https://blog.csdn.net/xiaoyida11/article/details/51557174</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      SSH添加公钥到authorized_keys实现无密码登录
    
    </summary>
    
      <category term="Linux 笔记" scheme="http://lfoder.github.io/categories/Linux-%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Linux" scheme="http://lfoder.github.io/tags/Linux/"/>
    
      <category term="SSH证书登录" scheme="http://lfoder.github.io/tags/SSH%E8%AF%81%E4%B9%A6%E7%99%BB%E5%BD%95/"/>
    
  </entry>
  
</feed>
