<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>树莓派创建钓鱼WiFi实战全过程</title>
      <link href="/2018/02/23/%E6%A0%91%E8%8E%93%E6%B4%BE%E5%88%9B%E5%BB%BA%E9%92%93%E9%B1%BCWiFi%E5%AE%9E%E6%88%98%E5%85%A8%E8%BF%87%E7%A8%8B/"/>
      <content type="html"><![CDATA[<h3 id="测试环境"><a href="#测试环境" class="headerlink" title="测试环境"></a>测试环境</h3><ul><li><p>攻击机：树莓派3代 B   <code>kali 2.0 armhf</code></p><ul><li>免驱无线网卡</li></ul></li><li><p>受害机：MacBook  <code>MacOS Sierra 10.12.6</code></p><p>​</p></li></ul><h3 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h3><p>####安装必要工具</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install hostapd dnsmasq</span><br></pre></td></tr></table></figure><p>安装 <code>nodejs</code> , 你可以直接执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install nodejs</span><br></pre></td></tr></table></figure><blockquote><p>当安装上面命令安装失败时尝试下面方法：</p><p>访问 <a href="https://nodejs.org/en/download/" target="_blank" rel="noopener">官方下载页面</a> ，找到Source Code源码包<a href="https://nodejs.org/dist/v8.9.4/node-v8.9.4.tar.gz" target="_blank" rel="noopener">下载地址</a></p><p>依次执行进行 下载、解包、编译、安装。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;wget https://nodejs.org/dist/v8.9.4/node-v8.9.4.tar.gz</span><br><span class="line">&gt;tar zxvf node-v8.9.4.tar.gz</span><br><span class="line">&gt;<span class="built_in">cd</span> node-v9.6.1</span><br><span class="line">&gt;./configure</span><br><span class="line">&gt;make</span><br><span class="line">&gt;make install </span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><p>下载 <code>Closurether</code> 神器</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/LFODER/closurether.git</span><br></pre></td></tr></table></figure><p>通过 <code>git</code> 克隆到本地，开始运行</p><p><strong> 这里还要安装一个神器 <code>Closurether</code> </strong>  未完待续</p><h4 id="修改-hostapd-配置文件"><a href="#修改-hostapd-配置文件" class="headerlink" title="修改 hostapd 配置文件"></a>修改 <code>hostapd</code> 配置文件</h4><p>安装好后，分别来修改配置文件，首先修改 <code>hostapd</code>的配置文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/hostapd/hostapd.conf</span><br></pre></td></tr></table></figure><p>查找并修改以下内容：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 你即将建立热点的无线网卡名字  可以用 ifconfig 或者 iw list 查看</span></span><br><span class="line">interface=wlan1</span><br><span class="line"><span class="meta">#</span><span class="bash"> 无线网卡驱动</span></span><br><span class="line">driver=nl80211</span><br><span class="line"><span class="meta">#</span><span class="bash"> 热点名字</span></span><br><span class="line">ssid=RaspberryPi</span><br><span class="line">hw_mode=g</span><br><span class="line">channel=11</span><br><span class="line"><span class="meta">#</span><span class="bash"> auth_alg 设置为1 表示开放网络 具体你可以选择 百度一下这个字段</span></span><br><span class="line">auth_alg=1</span><br><span class="line">wmm_enabled=0</span><br></pre></td></tr></table></figure><p>当然你也可以设置 <strong>加密</strong> 的WiFi热点，具体配置方法，请 <a href="https://www.jianshu.com/p/1fca72a710d5" target="_blank" rel="noopener">参考这里</a> 。</p><h4 id="修改-dnsmasq-配置文件"><a href="#修改-dnsmasq-配置文件" class="headerlink" title="修改 dnsmasq 配置文件"></a>修改 <code>dnsmasq</code> 配置文件</h4><p>接下来修改 <code>dnsmasq</code> 的配置：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/dnsmasq.conf</span><br></pre></td></tr></table></figure><p>找到修改或添加以下内容:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 你即将建立热点的无线网卡名字 可以用 ifconfig 或 iw list 查看</span></span><br><span class="line">interface=wlan1</span><br><span class="line"><span class="meta">#</span><span class="bash"> DNS</span></span><br><span class="line">listen-address=192.168.22.1</span><br><span class="line">bind-interface</span><br><span class="line"><span class="meta">#</span><span class="bash"> 设置你的热点可分配IP范围和租用周期。</span></span><br><span class="line">dhcp-range=192.168.22.2,192.168.22.254,12h</span><br><span class="line"><span class="meta">#</span><span class="bash"> 设置子网掩码</span></span><br><span class="line">dhcp-option=1,255.255.255.0</span><br><span class="line"><span class="meta">#</span><span class="bash"> 3是网关  6具体是什么意思 忘记了  我只记得又一个是DNS配置 具体需要查阅资料</span></span><br><span class="line">dhcp-option=3,192.168.22.1</span><br><span class="line">dhcp-option=6,192.168.22.1</span><br><span class="line"><span class="meta">#</span><span class="bash"> 所有连接上热点的客户端 所有流量全解析到 192.168.22.1  </span></span><br><span class="line">address=/#/192.168.22.1</span><br></pre></td></tr></table></figure><p>关于 <code>dnsmasq</code> 相关推荐：</p><ul><li><a href="https://biji.io/2017/4738.html" target="_blank" rel="noopener">通过Dnsmasq自建干净的DNS服务</a></li><li><a href="https://www.v2ex.com/t/253201" target="_blank" rel="noopener">DNS非标准端口设置问题</a></li></ul><p>设置 IPv4 转发</p><p>设置 IPv4 转发，通过修改文件配置来打开 IPv4 转发。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/sysctl.conf</span><br></pre></td></tr></table></figure><p>找到 <code>net.ipv4.ip_forward=1</code>，去掉注释符号，使其生效。</p><p>但是这样设置，需要在下次重启后才会生效，如果不想重启直接执行下面命令即可：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo sh -c <span class="string">"echo 1 &gt;/proc/sys/net/ipv4/ip_forward"</span></span><br></pre></td></tr></table></figure><h4 id="修改防火墙设置"><a href="#修改防火墙设置" class="headerlink" title="修改防火墙设置"></a>修改防火墙设置</h4><p>我这里是将以太网 <code>eth0</code> 接口共享给树莓派外接网卡 <code>wlan1</code> 接口上网，需要配置NAT，需要先对防火墙进行操作：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo iptables -t nat -APOSTROUTING -o eth0 -j MASQUERADE</span><br><span class="line">sudo iptables -A FORWARD -i eth0 -o wlan1 -m state --state RELATED,ESTABLISHED -j ACCEPT</span><br><span class="line">sudo iptables -A FORWARD -i wlan1 -o eth0 -j ACCEPT</span><br></pre></td></tr></table></figure><p>当然如果不想每次都设置，可以使用以下命令设置为开机自启动：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo sh -c <span class="string">"iptables-save&gt; /etc/iptables.ipv4.nat"</span></span><br></pre></td></tr></table></figure><h3 id="启动钓鱼热点"><a href="#启动钓鱼热点" class="headerlink" title="启动钓鱼热点"></a>启动钓鱼热点</h3><p>这里给出一个 <code>bash</code>  脚本，作用很简单， 开启和关闭钓鱼热点，保存文件到任何目录</p><p>假设你存储的文件名为 <code>apapap.sh</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">! /bin/bash</span></span><br><span class="line">case $1 in</span><br><span class="line">    "start")</span><br><span class="line">       sleep 1</span><br><span class="line">       ifconfig wlan1 192.168.22.1 netmask 255.255.255.0  </span><br><span class="line">       sleep 1</span><br><span class="line">       echo "1" &gt;/proc/sys/net/ipv4/ip_forward</span><br><span class="line">       sleep 1</span><br><span class="line">       iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE     </span><br><span class="line">       sleep 1</span><br><span class="line">       /etc/init.d/hostapd start</span><br><span class="line">       sleep 1</span><br><span class="line">       /etc/init.d/dnsmasq start</span><br><span class="line">    ;;</span><br><span class="line">    "stop")</span><br><span class="line">       /etc/init.d/dnsmasq stop</span><br><span class="line">       /etc/init.d/hostapd stop</span><br><span class="line">       sleep 1</span><br><span class="line">       iptables -t nat -D POSTROUTING -o eth0 -j MASQUERADE  </span><br><span class="line">       sleep 1</span><br><span class="line">       echo "0" &gt;/proc/sys/net/ipv4/ip_forward</span><br><span class="line">       sleep 1</span><br><span class="line">    ;;</span><br><span class="line">    *)</span><br><span class="line">       echo "Usage $0 &#123;start|stop&#125;"</span><br><span class="line">    ;;</span><br><span class="line">    esac</span><br></pre></td></tr></table></figure><p>首先要给文件执行权限：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod 755 apapap.sh</span><br></pre></td></tr></table></figure><p>然后执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./apapap.sh</span><br></pre></td></tr></table></figure><p>正常会出现：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@kali:~<span class="comment"># ./apapap.sh </span></span><br><span class="line">Usage ./apapap.sh &#123;start|stop&#125;</span><br><span class="line">root@kali:~<span class="comment">#</span></span><br></pre></td></tr></table></figure><p>用法一目了然，看看正常启动的状态。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">root@kali:~<span class="comment"># ./apapap.sh start</span></span><br><span class="line">[ ok ] Starting hostapd (via systemctl): hostapd.service.</span><br><span class="line">[ ok ] Starting dnsmasq (via systemctl): dnsmasq.service.</span><br><span class="line">root@kali:~<span class="comment">#</span></span><br></pre></td></tr></table></figure><p>不出意外的话，执行完成了就是这样，此时你去查看Wifi热点，看是否成功开启了。</p><p><img src="https://ws1.sinaimg.cn/large/006tNc79gy1foqfkel5jgj30fs0xm40p.jpg" alt=""></p><p>已经开启了热点，现在连入wifi的所有客户端浏览都经过树莓派网卡。</p><p>一些😈邪恶的玩法 ，请参考这里：<a href="http://www.freebuf.com/articles/web/43353.html" target="_blank" rel="noopener">http://www.freebuf.com/articles/web/43353.html</a> </p>]]></content>
      
      
        <tags>
            
            <tag> 钓鱼WiFi </tag>
            
            <tag> 中间人劫持 </tag>
            
            <tag> 树莓派 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>MacOS安装Metasploit全攻略</title>
      <link href="/2018/02/22/MacOS%E5%AE%89%E8%A3%85Metasploit%E5%85%A8%E6%94%BB%E7%95%A5/"/>
      <content type="html"><![CDATA[<h2 id="测试环境"><a href="#测试环境" class="headerlink" title="测试环境"></a>测试环境</h2><ul><li>系 统: <code>MacOS Sierra 10.12.6</code></li></ul><h2 id="下载MetaSploit官方最新版"><a href="#下载MetaSploit官方最新版" class="headerlink" title="下载MetaSploit官方最新版"></a>下载MetaSploit官方最新版</h2><p>MetaSploit Framework 最新版  <a href="http://osx.metasploit.com/metasploitframework-latest.pkg" target="_blank" rel="noopener">下载地址</a></p><p>下载完成，双击安装。此时终端输入 <code>msfconsole</code> 提示找不到，是因为环境变量没有设置。</p><h2 id="添加环境变量"><a href="#添加环境变量" class="headerlink" title="添加环境变量"></a>添加环境变量</h2><p>正常的方法是:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/profile</span><br></pre></td></tr></table></figure><p>然后添加</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=<span class="string">"/opt/metasploit-framework/bin:<span class="variable">$PATH</span>"</span></span><br></pre></td></tr></table></figure><p>使环境变量立刻生效</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure><p>如果你使用的是 <code>zsh</code> 那么则是下面的方法: </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.zshrc</span><br></pre></td></tr></table></figure><p>然后添加</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=<span class="string">"/opt/metasploit-framework/bin:<span class="variable">$PATH</span>"</span></span><br></pre></td></tr></table></figure><p>使环境变量立刻生效</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/.zshrc</span><br></pre></td></tr></table></figure><h2 id="运行与更新"><a href="#运行与更新" class="headerlink" title="运行与更新"></a>运行与更新</h2><p>终端输入 <code>msf</code>  并按 <code>Tab</code> 键，看是否能出现</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ msf</span><br><span class="line">msfbinscan   msfdb        msfpescan    msfrpc       msfvenom                </span><br><span class="line">msfconsole   msfelfscan   msfremove    msfrpcd                            </span><br><span class="line">msfd         msfmachscan  msfrop       msfupdate</span><br></pre></td></tr></table></figure><p>若出现上面结果，代表环境变量已经生效。</p><p>接下来更新Metasploit：</p><p>终端执行 <code>msfupdate</code></p><p>OK</p><h2 id="各种问题和解决方案"><a href="#各种问题和解决方案" class="headerlink" title="各种问题和解决方案"></a>各种问题和解决方案</h2><h3 id="搜索攻击模块时出现模块换成数据库不能建立，使用慢搜索模式"><a href="#搜索攻击模块时出现模块换成数据库不能建立，使用慢搜索模式" class="headerlink" title="搜索攻击模块时出现模块换成数据库不能建立，使用慢搜索模式"></a>搜索攻击模块时出现模块换成数据库不能建立，使用慢搜索模式</h3><p>现象：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[!] Module database cache not built yet, using slow search</span><br></pre></td></tr></table></figure><p>解决方案:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">msf &gt; db_rebuild_cache</span><br></pre></td></tr></table></figure><h3 id="没有连接上数据库"><a href="#没有连接上数据库" class="headerlink" title="没有连接上数据库"></a>没有连接上数据库</h3><p>现象：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">msf &gt; db_rebuild_cache </span><br><span class="line">[-] The database is not connected</span><br><span class="line">msf &gt; db_status </span><br><span class="line">[*] postgresql selected, no connection</span><br></pre></td></tr></table></figure><p>解决方案：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="Postgresql-服务没有启动"><a href="#Postgresql-服务没有启动" class="headerlink" title="Postgresql 服务没有启动"></a>Postgresql 服务没有启动</h3><p>现象：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ msfconsole </span><br><span class="line">[-] Failed to connect to the database: could not connect to server: Connection refused</span><br><span class="line">Is the server running on host <span class="string">"127.0.0.1"</span> and accepting</span><br><span class="line">TCP/IP connections on port 5433?</span><br></pre></td></tr></table></figure><p>解决方案：</p>]]></content>
      
      <categories>
          
          <category> MetaSploit教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MetaSploit </tag>
            
            <tag> MacOS </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Hexo博客调教日记</title>
      <link href="/2018/02/21/Hexo%E5%8D%9A%E5%AE%A2%E8%B0%83%E6%95%99%E6%97%A5%E8%AE%B0/"/>
      <content type="html"><![CDATA[<h2 id="Hexo-安装与配置"><a href="#Hexo-安装与配置" class="headerlink" title="Hexo 安装与配置"></a>Hexo 安装与配置</h2><h3 id="Hexo安装"><a href="#Hexo安装" class="headerlink" title="Hexo安装"></a>Hexo安装</h3><blockquote><p><a href="https://www.baidu.com/s?ie=UTF-8&amp;wd=Hexo%E5%AE%89%E8%A3%85" target="_blank" rel="noopener">自行百度</a> | <a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">官方文档</a></p></blockquote><h3 id="测试环境"><a href="#测试环境" class="headerlink" title="测试环境"></a>测试环境</h3><blockquote><p>操作系统: <code>MacOS Sierra 10.12.6</code><br>博客主题: <code>next</code></p></blockquote><h3 id="启动搜索功能"><a href="#启动搜索功能" class="headerlink" title="启动搜索功能"></a>启动搜索功能</h3><p>首先到博客根目录(这里指你 Hexo init 后的博客目录)执行:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure></p><p>然后到你的主题目录下修改 <code>_config.yml</code> 文件<br>我使用的是<code>Next</code>主题，进入博客根目录，找到 <code>themes/next/_config.yml</code> 文件，搜索 <code>local_search:</code><br>会看到如下内容：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># Local search</span><br><span class="line"># Dependencies: https://github.com/theme-next/hexo-generator-searchdb</span><br><span class="line">local_search:</span><br><span class="line">  enable: false</span><br><span class="line">  # if auto, trigger search by changing input</span><br><span class="line">  # if manual, trigger search by pressing enter key or search button</span><br><span class="line">  trigger: auto</span><br><span class="line">  # show top n results per article, show all results by setting to -1</span><br><span class="line">  top_n_per_article: 1</span><br><span class="line">  # unescape html strings to the readable one</span><br><span class="line">  unescape: false</span><br></pre></td></tr></table></figure></p><p>将 <code>enable: false</code> 改成 <code>enable: true</code> 即可启用本地搜索功能。<br>然后在 <code>themes/next/_config.yml</code> 文件中添加:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Search</span><br><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: post</span><br><span class="line">  format: html</span><br><span class="line">  limit: 10000</span><br></pre></td></tr></table></figure></p><h3 id="启用本地图片"><a href="#启用本地图片" class="headerlink" title="启用本地图片"></a>启用本地图片</h3><p>博客中往往会频繁使用到图片，外链图片到博客最简单的方法就是<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!(图片描述 可选)[图片链接]</span><br></pre></td></tr></table></figure></p><p>但是往往去找一个靠谱的图床是一件很头疼的事情，如果你的服务器带宽够大，可以选择使用本地图片，开启本地图片的方法:<br>首先进入博客根目录，编辑 <code>_config.yml</code> 文件，找到 <code>post_asset_folder:false</code> 修改为 <code>post_asset_folder:true</code><br>然后在博客根目录执行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install https://github.com/CodeFalling/hexo-asset-image --save</span><br></pre></td></tr></table></figure></p><p>此时你使用 <code>hexo new &quot;一篇博客&quot;</code> 的时候，会在博客根目录下 <code>source/_posts/</code> 下创建与博客同名的文件夹用于存放本地图片，方便在博客中调用。<br>博客调用本地图片时如下:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![“图片描述”（可以不写）](/文件夹名/你的图片名字.JPG)</span><br></pre></td></tr></table></figure></p><h3 id="插入音乐"><a href="#插入音乐" class="headerlink" title="插入音乐"></a>插入音乐</h3><p>例如网易云，直接获取播放器外链，iframe代码直接写到Blog中即可。</p><h3 id="启用标签页"><a href="#启用标签页" class="headerlink" title="启用标签页"></a>启用标签页</h3><p>首先执行:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page &quot;tags&quot;</span><br></pre></td></tr></table></figure></p><p>新建一个页面为 <code>tags</code> 的标签云页面，然后会自动在博客根目录下的 <code>source/_posts/</code> 生成一个 <code>tags</code> 的目录，里面有一个 <code>index.md</code><br>打开看看内容如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: &quot;tags&quot;</span><br><span class="line">date: 2018-02-22 11:44:07</span><br><span class="line">---</span><br></pre></td></tr></table></figure></p><p>修改成如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 标签云</span><br><span class="line">date: 2018-02-22 11:44:07</span><br><span class="line">type: &quot;tags&quot;</span><br><span class="line">comments: false</span><br><span class="line">---</span><br></pre></td></tr></table></figure></p><p>这里就是需要添加一个 <code>type</code> 字段，类型值为 <code>tags</code></p><blockquote><p>如果启用过 <code>多说</code> 或者是 <code>Disqus</code> 等评论插件，默认页面也会带评论，需要关闭则添加 <code>comments</code> 字段，并设置值为 <code>false</code></p></blockquote><p>进入博客根目录 ，找到 <code>themes/next/_config.yml</code> ，找到主题配置文件，修改其 <code>menu</code> 标签。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  home: / || home</span><br><span class="line">  tags: /tags/ || tags</span><br><span class="line">  categories: /categories/ || th</span><br><span class="line">  archives: /archives/ || archive</span><br></pre></td></tr></table></figure></p><p>这里吧 tags 标签前面的注释去掉即可。</p><h4 id="博客中添加标签的方法"><a href="#博客中添加标签的方法" class="headerlink" title="博客中添加标签的方法"></a>博客中添加标签的方法</h4><p>在 <code>source/_posts</code> 中找到你创建的博客，编辑头部内容，格式如下:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Hexo博客调教日记</span><br><span class="line">date: 2018-02-21 17:16:03</span><br><span class="line">categories: &quot;Hexo教程&quot;</span><br><span class="line">tags:</span><br><span class="line">    - Hexo</span><br><span class="line">    - Next</span><br><span class="line">description: 记录自己安装与使用Hexo时踩过的坑与解决方法</span><br><span class="line">---</span><br></pre></td></tr></table></figure></p><p>当然 <code>tags</code> 标签也可以这么写<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">... (此处省略前后文)</span><br><span class="line">tags: [Hexo,Next]</span><br><span class="line">...</span><br><span class="line">---</span><br></pre></td></tr></table></figure></p><p><code>categories</code> 字段为分类，<code>description</code> 字段为描述。</p><h3 id="标签删除的方法"><a href="#标签删除的方法" class="headerlink" title="标签删除的方法"></a>标签删除的方法</h3><p>理论上在 MD 文件的头部可以删除标签 然后重新生成可以更新 <code>tags</code> 标签页<br>如果无法成功删除的时候，可以尝试下面的方法:<br>删除根目录的 <code>db.json</code> 然后 <code>hexo clean &amp;&amp; hexo g</code></p><h2 id="各种坑和解决方法"><a href="#各种坑和解决方法" class="headerlink" title="各种坑和解决方法"></a>各种坑和解决方法</h2><h3 id="导航解析错误"><a href="#导航解析错误" class="headerlink" title="导航解析错误"></a>导航解析错误</h3><blockquote><p>问题描述:</p></blockquote><p>你发现你写的MD格式都是正常的，但是发现Next自动解析的导航，却不合人意，甚至你可以发现正文的代码段混乱什么的情况</p><blockquote><p>解决方法:</p></blockquote><p>找找全文代码段中的用来划分代码段用的三个点末尾是否出现空格，删除之，解决。</p><h3 id="ERROR-Deployer-not-found-git"><a href="#ERROR-Deployer-not-found-git" class="headerlink" title="ERROR Deployer not found: git"></a>ERROR Deployer not found: git</h3><blockquote><p>问题描述:</p></blockquote><p>在执行 <code>hexo d</code> 的时候，出现 <code>ERROR Deployer not found: git</code>错误</p><blockquote><p>解决方案:</p></blockquote><p>进入博客根目录，执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install  hexo-deployer-git --save</span><br></pre></td></tr></table></figure></p>]]></content>
      
      <categories>
          
          <category> Hexo教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Hexo的next主题个性化教程:打造炫酷网站</title>
      <link href="/2018/02/02/Hexo%E7%9A%84next%E4%B8%BB%E9%A2%98%E4%B8%AA%E6%80%A7%E5%8C%96%E6%95%99%E7%A8%8B-%E6%89%93%E9%80%A0%E7%82%AB%E9%85%B7%E7%BD%91%E7%AB%99/"/>
      <content type="html"><![CDATA[<p>via: <a href="https://www.jianshu.com/p/f054333ac9e6" target="_blank" rel="noopener">https://www.jianshu.com/p/f054333ac9e6</a></p>]]></content>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
  
  
</search>
