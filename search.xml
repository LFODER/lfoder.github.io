<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[树莓派创建钓鱼WiFi实战全过程]]></title>
    <url>%2F2018%2F02%2F23%2F%E6%A0%91%E8%8E%93%E6%B4%BE%E5%88%9B%E5%BB%BA%E9%92%93%E9%B1%BCWiFi%E5%AE%9E%E6%88%98%E5%85%A8%E8%BF%87%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[测试环境 攻击机：树莓派3代 B kali 2.0 armhf 免驱无线网卡 受害机：MacBook MacOS Sierra 10.12.6 ​ 环境搭建####安装必要工具 1sudo apt-get install hostapd dnsmasq 安装 nodejs ，访问 官方下载页面 ，找到Source Code源码包下载地址 依次执行进行 下载、解包、编译、安装。 123456wget https://nodejs.org/dist/v8.9.4/node-v8.9.4.tar.gztar zxvf node-v8.9.4.tar.gzcd node-v9.6.1./configuremakemake install 这里还要安装一个神器 Closurether 未完待续 修改 hostapd 配置文件安装好后，分别来修改配置文件，首先修改 hostapd的配置文件 1sudo vim /etc/hostapd/hostapd.conf 查找并修改以下内容： 1234567891011# 你即将建立热点的无线网卡名字 可以用 ifconfig 或者 iw list 查看interface=wlan1# 无线网卡驱动driver=nl80211# 热点名字ssid=RaspberryPihw_mode=gchannel=11# auth_alg 设置为1 表示开放网络 具体你可以选择 百度一下这个字段auth_alg=1wmm_enabled=0 当然你也可以设置 加密 的WiFi热点，具体配置方法，请 参考这里 。 修改 dnsmasq 配置文件接下来修改 dnsmasq 的配置： 1sudo vim /etc/dnsmasq.conf 找到修改或添加以下内容: 1234567891011121314# 你即将建立热点的无线网卡名字 可以用 ifconfig 或 iw list 查看interface=wlan1# DNSlisten-address=192.168.22.1bind-interface# 设置你的热点可分配IP范围和租用周期。dhcp-range=192.168.22.2,192.168.22.254,12h# 设置子网掩码dhcp-option=1,255.255.255.0# 3是网关 6具体是什么意思 忘记了 我只记得又一个是DNS配置 具体需要查阅资料dhcp-option=3,192.168.22.1dhcp-option=6,192.168.22.1# 所有连接上热点的客户端 所有流量全解析到 192.168.22.1 address=/#/192.168.22.1 关于 dnsmasq 相关推荐： 通过Dnsmasq自建干净的DNS服务 DNS非标准端口设置问题 设置 IPv4 转发 设置 IPv4 转发，通过修改文件配置来打开 IPv4 转发。 1sudo vim /etc/sysctl.conf 找到 net.ipv4.ip_forward=1，去掉注释符号，使其生效。 但是这样设置，需要在下次重启后才会生效，如果不想重启直接执行下面命令即可： 1sudo sh -c "echo 1 &gt;/proc/sys/net/ipv4/ip_forward" 修改防火墙设置我这里是将以太网 eth0 接口共享给树莓派外接网卡 wlan1 接口上网，需要配置NAT，需要先对防火墙进行操作： 123sudo iptables -t nat -APOSTROUTING -o eth0 -j MASQUERADEsudo iptables -A FORWARD -i eth0 -o wlan1 -m state --state RELATED,ESTABLISHED -j ACCEPTsudo iptables -A FORWARD -i wlan1 -o eth0 -j ACCEPT 当然如果不想每次都设置，可以使用以下命令设置为开机自启动： 1sudo sh -c "iptables-save&gt; /etc/iptables.ipv4.nat" 启动钓鱼热点这里给出一个 bash 脚本，作用很简单， 开启和关闭钓鱼热点，保存文件到任何目录 假设你存储的文件名为 apapap.sh 123456789101112131415161718192021222324252627#! /bin/bashcase $1 in "start") sleep 1 ifconfig wlan1 192.168.22.1 netmask 255.255.255.0 sleep 1 echo "1" &gt;/proc/sys/net/ipv4/ip_forward sleep 1 iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE sleep 1 /etc/init.d/hostapd start sleep 1 /etc/init.d/dnsmasq start ;; "stop") /etc/init.d/dnsmasq stop /etc/init.d/hostapd stop sleep 1 iptables -t nat -D POSTROUTING -o eth0 -j MASQUERADE sleep 1 echo "0" &gt;/proc/sys/net/ipv4/ip_forward sleep 1 ;; *) echo "Usage $0 &#123;start|stop&#125;" ;; esac 首先要给文件执行权限： 1sudo chmod 755 apapap.sh 然后执行 1./apapap.sh 正常会出现： 123root@kali:~# ./apapap.sh Usage ./apapap.sh &#123;start|stop&#125;root@kali:~# 用法一目了然，看看正常启动的状态。 1234root@kali:~# ./apapap.sh start[ ok ] Starting hostapd (via systemctl): hostapd.service.[ ok ] Starting dnsmasq (via systemctl): dnsmasq.service.root@kali:~# 不出意外的话，执行完成了就是这样，此时你去查看Wifi热点，看是否成功开启了。 已经开启了热点，现在连入wifi的所有客户端浏览都经过树莓派网卡。 一些😈邪恶的玩法 ，请参考这里：http://www.freebuf.com/articles/web/43353.html]]></content>
      <tags>
        <tag>钓鱼WiFi</tag>
        <tag>中间人劫持</tag>
        <tag>树莓派</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MacOS安装Metasploit全攻略]]></title>
    <url>%2F2018%2F02%2F22%2FMacOS%E5%AE%89%E8%A3%85Metasploit%E5%85%A8%E6%94%BB%E7%95%A5%2F</url>
    <content type="text"><![CDATA[测试环境 系 统: MacOS Sierra 10.12.6 下载MetaSploit官方最新版MetaSploit Framework 最新版 下载地址 下载完成，双击安装。此时终端输入 msfconsole 提示找不到，是因为环境变量没有设置。 添加环境变量正常的方法是: 1vim /etc/profile 然后添加 1export PATH="/opt/metasploit-framework/bin:$PATH" 使环境变量立刻生效 1source /etc/profile 如果你使用的是 zsh 那么则是下面的方法: 1vim ~/.zshrc 然后添加 1export PATH="/opt/metasploit-framework/bin:$PATH" 使环境变量立刻生效 1source ~/.zshrc 运行与更新终端输入 msf 并按 Tab 键，看是否能出现 1234➜ ~ msfmsfbinscan msfdb msfpescan msfrpc msfvenom msfconsole msfelfscan msfremove msfrpcd msfd msfmachscan msfrop msfupdate 若出现上面结果，代表环境变量已经生效。 接下来更新Metasploit： 终端执行 msfupdate OK 各种问题和解决方案搜索攻击模块时出现模块换成数据库不能建立，使用慢搜索模式现象： 1[!] Module database cache not built yet, using slow search 解决方案: 1msf &gt; db_rebuild_cache 没有连接上数据库现象： 1234msf &gt; db_rebuild_cache [-] The database is not connectedmsf &gt; db_status [*] postgresql selected, no connection 解决方案： 12 Postgresql 服务没有启动现象： 1234➜ ~ msfconsole [-] Failed to connect to the database: could not connect to server: Connection refused Is the server running on host "127.0.0.1" and accepting TCP/IP connections on port 5433? 解决方案：]]></content>
      <categories>
        <category>MetaSploit教程</category>
      </categories>
      <tags>
        <tag>MetaSploit</tag>
        <tag>MacOS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexo博客调教日记]]></title>
    <url>%2F2018%2F02%2F21%2FHexo%E5%8D%9A%E5%AE%A2%E8%B0%83%E6%95%99%E6%97%A5%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[Hexo 安装与配置Hexo安装 自行百度 | 官方文档 测试环境 操作系统: MacOS Sierra 10.12.6博客主题: next 启动搜索功能首先到博客根目录(这里指你 Hexo init 后的博客目录)执行:1npm install hexo-generator-search --save 然后到你的主题目录下修改 _config.yml 文件我使用的是Next主题，进入博客根目录，找到 themes/next/_config.yml 文件，搜索 local_search:会看到如下内容：1234567891011# Local search# Dependencies: https://github.com/theme-next/hexo-generator-searchdblocal_search: enable: false # if auto, trigger search by changing input # if manual, trigger search by pressing enter key or search button trigger: auto # show top n results per article, show all results by setting to -1 top_n_per_article: 1 # unescape html strings to the readable one unescape: false 将 enable: false 改成 enable: true 即可启用本地搜索功能。然后在 themes/next/_config.yml 文件中添加:123456# Searchsearch: path: search.xml field: post format: html limit: 10000 启用本地图片博客中往往会频繁使用到图片，外链图片到博客最简单的方法就是1!(图片描述 可选)[图片链接] 但是往往去找一个靠谱的图床是一件很头疼的事情，如果你的服务器带宽够大，可以选择使用本地图片，开启本地图片的方法:首先进入博客根目录，编辑 _config.yml 文件，找到 post_asset_folder:false 修改为 post_asset_folder:true然后在博客根目录执行1npm install https://github.com/CodeFalling/hexo-asset-image --save 此时你使用 hexo new &quot;一篇博客&quot; 的时候，会在博客根目录下 source/_posts/ 下创建与博客同名的文件夹用于存放本地图片，方便在博客中调用。博客调用本地图片时如下:1![“图片描述”（可以不写）](/文件夹名/你的图片名字.JPG) 插入音乐例如网易云，直接获取播放器外链，iframe代码直接写到Blog中即可。 启用标签页首先执行:1hexo new page &quot;tags&quot; 新建一个页面为 tags 的标签云页面，然后会自动在博客根目录下的 source/_posts/ 生成一个 tags 的目录，里面有一个 index.md打开看看内容如下：1234---title: &quot;tags&quot;date: 2018-02-22 11:44:07--- 修改成如下123456---title: 标签云date: 2018-02-22 11:44:07type: &quot;tags&quot;comments: false--- 这里就是需要添加一个 type 字段，类型值为 tags 如果启用过 多说 或者是 Disqus 等评论插件，默认页面也会带评论，需要关闭则添加 comments 字段，并设置值为 false 进入博客根目录 ，找到 themes/next/_config.yml ，找到主题配置文件，修改其 menu 标签。12345menu: home: / || home tags: /tags/ || tags categories: /categories/ || th archives: /archives/ || archive 这里吧 tags 标签前面的注释去掉即可。 博客中添加标签的方法在 source/_posts 中找到你创建的博客，编辑头部内容，格式如下:123456789---title: Hexo博客调教日记date: 2018-02-21 17:16:03categories: &quot;Hexo教程&quot;tags: - Hexo - Nextdescription: 记录自己安装与使用Hexo时踩过的坑与解决方法--- 当然 tags 标签也可以这么写12345---... (此处省略前后文)tags: [Hexo,Next]...--- categories 字段为分类，description 字段为描述。 标签删除的方法理论上在 MD 文件的头部可以删除标签 然后重新生成可以更新 tags 标签页如果无法成功删除的时候，可以尝试下面的方法:删除根目录的 db.json 然后 hexo clean &amp;&amp; hexo g 各种坑和解决方法导航解析错误 问题描述: 你发现你写的MD格式都是正常的，但是发现Next自动解析的导航，却不合人意，甚至你可以发现正文的代码段混乱什么的情况 解决方法: 找找全文代码段中的用来划分代码段用的三个点末尾是否出现空格，删除之，解决。 ERROR Deployer not found: git 问题描述: 在执行 hexo d 的时候，出现 ERROR Deployer not found: git错误 解决方案: 进入博客根目录，执行：1npm install hexo-deployer-git --save]]></content>
      <categories>
        <category>Hexo教程</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexo的next主题个性化教程:打造炫酷网站]]></title>
    <url>%2F2018%2F02%2F02%2FHexo%E7%9A%84next%E4%B8%BB%E9%A2%98%E4%B8%AA%E6%80%A7%E5%8C%96%E6%95%99%E7%A8%8B-%E6%89%93%E9%80%A0%E7%82%AB%E9%85%B7%E7%BD%91%E7%AB%99%2F</url>
    <content type="text"><![CDATA[via: https://www.jianshu.com/p/f054333ac9e6]]></content>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
</search>
